{"version":3,"sources":["webpack:///./src/app/modules/products/components/add-group-product/add-group-product.component.html","webpack:///./src/app/modules/products/components/add-group-product/add-group-product.component.scss","webpack:///./src/app/modules/products/components/add-group-product/add-group-product.component.ts","webpack:///./src/app/modules/products/components/add-revenue/add-revenue.component.html","webpack:///./src/app/modules/products/components/add-revenue/add-revenue.component.scss","webpack:///./src/app/modules/products/components/add-revenue/add-revenue.component.ts","webpack:///./src/app/modules/products/components/add-unit-code/add-unit-code.component.html","webpack:///./src/app/modules/products/components/add-unit-code/add-unit-code.component.scss","webpack:///./src/app/modules/products/components/add-unit-code/add-unit-code.component.ts","webpack:///./src/app/modules/products/components/add-wavehourse/add-wavehourse.component.html","webpack:///./src/app/modules/products/components/add-wavehourse/add-wavehourse.component.scss","webpack:///./src/app/modules/products/components/add-wavehourse/add-wavehourse.component.ts","webpack:///./src/app/modules/products/components/add/add.component.html","webpack:///./src/app/modules/products/components/add/add.component.scss","webpack:///./src/app/modules/products/components/add/add.component.ts","webpack:///./src/app/modules/products/components/index/index.component.html","webpack:///./src/app/modules/products/components/index/index.component.scss","webpack:///./src/app/modules/products/components/index/index.component.ts","webpack:///./src/app/modules/products/products.module.ts","webpack:///./src/app/modules/products/products.routing.ts"],"names":[],"mappings":"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","file":"products-products-module.js","sourcesContent":["module.exports = \"<form (submit)=\\\"onSubmit($event)\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{ 'CONTROLL.LABEL.update' | translate }} {{ 'GRID.PRODUCT.product_group' | translate }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <dx-form id=\\\"group-product-form\\\"\\r\\n      validationGroup=\\\"groupProductForm\\\"\\r\\n      [formData]=\\\"groupProduct\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n      <dxi-item dataField=\\\"code\\\" >\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.group_code' | translate }}\\\"></dxo-label>\\r\\n\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"{{ 'CONTROLL.LABEL.group_code' | translate }} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"name\\\" >\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.group_name' | translate }}\\\"></dxo-label>\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"{{ 'CONTROLL.LABEL.group_name' | translate }} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"note\\\" >\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.note' | translate }}\\\"></dxo-label>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"order\\\"  [editorOptions]=\\\"{ disabled: true }\\\">\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.order' | translate }}\\\"></dxo-label>\\r\\n      </dxi-item>\\r\\n      <dxi-item [label]=\\\"{text: ' '}\\\" dataField=\\\"status\\\" editorType=\\\"dxCheckBox\\\"\\r\\n      [editorOptions]=\\\"{ text: txt.active}\\\">\\r\\n    </dxi-item>\\r\\n    </dx-form>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <dx-button text=\\\"{{ 'CONTROLL.BUTTON.save' | translate }}\\\" type=\\\"default\\\" [useSubmitBehavior]=\\\"true\\\" validationGroup=\\\"groupProductForm\\\"></dx-button>\\r\\n    <dx-button text=\\\"{{ 'CONTROLL.BUTTON.come_back' | translate }}\\\" (click)=\\\"bsModalRef.hide()\\\"></dx-button>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \"\"","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\r\nimport { Library, AuthService } from '@core/index';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { List, ListsService } from '@modules/lists/shared';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { DxFormComponent } from 'devextreme-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-add-group-product',\r\n  templateUrl: './add-group-product.component.html',\r\n  styleUrls: ['./add-group-product.component.scss']\r\n})\r\nexport class AddGroupProductComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  listTypeId: string;\r\n  groupProducts: any;\r\n  groupProduct: any;\r\n  onSave: any;\r\n  _translate: any;\r\n  txt: any = {};\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    private listsService: ListsService,\r\n    private bsModalService: BsModalService,\r\n    public translate: TranslateService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n  ngOnInit() {\r\n    this.txt = {\r\n      active: this._translate.GRID.GENERAL.active,\r\n    }\r\n  }\r\n\r\n  focusField = () => {\r\n    this.bsModalService.onShown.subscribe(() => {\r\n      this.form.instance.getEditor(\"code\").focus();\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.focusField();\r\n  }\r\n\r\n  onSubmit = function (e) {\r\n    e.preventDefault();\r\n    if (this.groupProduct.status) {\r\n      this.groupProduct.status = \"HOAT_DONG\";\r\n    } else {\r\n      this.groupProduct.status = \"KHONG_HOAT_DONG\";\r\n    }\r\n    this.groupProduct.listtype_id = this.listTypeId;\r\n    let data = { list: this.groupProduct };\r\n    this.listsService.add(data).subscribe((response: any) => {\r\n      if (response.status == \"success\") {\r\n        Library.notify(this._translate.NOTIFY.add_success, \"success\");\r\n        this.onSave(this.groupProduct);\r\n        this.bsModalRef.hide();\r\n      } else {\r\n        Library.notify(response.message, \"error\");\r\n      }\r\n    }, err => { }, () => {\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<form (submit)=\\\"onSubmit($event)\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{ 'CONTROLL.LABEL.update' | translate }} {{ 'GRID.REVENUE.collection_form' | translate }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <dx-form id=\\\"group-product-form\\\"\\r\\n      validationGroup=\\\"groupProductForm\\\"\\r\\n      [formData]=\\\"revenue\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n      <dxi-item dataField=\\\"code\\\" >\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.revenue_form_code' | translate }}\\\"></dxo-label>\\r\\n\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"{{ 'CONTROLL.LABEL.revenue_form_code' | translate }} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"name\\\" >\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.revenue_form_name' | translate }}\\\"></dxo-label>\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"{{ 'CONTROLL.LABEL.revenue_form_name' | translate }} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"note\\\" >\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.note' | translate }}\\\"></dxo-label>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"order\\\"  [editorOptions]=\\\"{ disabled: true }\\\">\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.order' | translate }}\\\"></dxo-label>\\r\\n      </dxi-item>\\r\\n      <dxi-item [label]=\\\"{text: ' '}\\\" dataField=\\\"status\\\" editorType=\\\"dxCheckBox\\\"\\r\\n      [editorOptions]=\\\"{ text: txt.active}\\\">\\r\\n    </dxi-item>\\r\\n    </dx-form>\\r\\n  </div>\\r\\n  <div class=\\\"container-fluid pl-0 pr-0\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-6\\\">\\r\\n        <div class=\\\"text-center title-list\\\">Nm trc</div>\\r\\n          <dx-list\\r\\n          [dataSource]=\\\"monthBefore\\\" \\r\\n          displayExpr=\\\"name\\\" \\r\\n          valueExpr=\\\"code\\\" \\r\\n          [height]=\\\"200\\\"\\r\\n          [allowItemDeleting]=\\\"allowDeletingBefore\\\"\\r\\n          [itemDeleteMode]=\\\"deleteTypeBefore\\\"\\r\\n          [showSelectionControls]=\\\"true\\\"\\r\\n          selectionMode=\\\"multiple\\\"\\r\\n          [(selectedItems)]=\\\"selectedItemBefore\\\">\\r\\n      </dx-list>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-6 pl-0\\\">\\r\\n        <div class=\\\"text-center title-list\\\">Nm sau</div>\\r\\n          <dx-list\\r\\n          [dataSource]=\\\"monthAfter\\\" \\r\\n          displayExpr=\\\"name\\\" \\r\\n          valueExpr=\\\"code\\\" \\r\\n          [height]=\\\"200\\\"\\r\\n          [allowItemDeleting]=\\\"allowDeletingAfter\\\"\\r\\n          [itemDeleteMode]=\\\"deleteTypeAfter\\\"\\r\\n          [showSelectionControls]=\\\"true\\\"\\r\\n          selectionMode=\\\"multiple\\\"\\r\\n          [(selectedItems)]=\\\"selectedItemAfter\\\">\\r\\n      </dx-list>\\r\\n        </div>\\r\\n        </div>\\r\\n        </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <dx-button text=\\\"{{ 'CONTROLL.BUTTON.save' | translate }}\\\" type=\\\"default\\\" [useSubmitBehavior]=\\\"true\\\" validationGroup=\\\"groupProductForm\\\"></dx-button>\\r\\n    <dx-button text=\\\"{{ 'CONTROLL.BUTTON.come_back' | translate }}\\\" (click)=\\\"bsModalRef.hide()\\\"></dx-button>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \".title-list{font-weight:600;padding:8px 4px;background-color:#d8d8d8}.text-center{text-align:center !important}\\n\"","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\r\nimport { Library, AuthService } from '@core/index';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { List, ListsService } from '@modules/lists/shared';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { DxFormComponent } from 'devextreme-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-add-revenue',\r\n  templateUrl: './add-revenue.component.html',\r\n  styleUrls: ['./add-revenue.component.scss']\r\n})\r\nexport class AddRevenueComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  listTypeId: string;\r\n  revenue: any;\r\n  onSave: any;\r\n  _translate: any;\r\n  txt: any = {};\r\n  selectedItemBefore: any[] = [];\r\n  selectedItemAfter: any[] = [];\r\n  allowDeletingBefore: boolean = false;\r\n  deleteTypeBefore: string = \"toggle\";\r\n  allowDeletingAfter: boolean = false;\r\n  deleteTypeAfter: string = \"toggle\";\r\n  isHinhThucThu = false;\r\n  monthBefore: any[] = [\r\n    {\r\n      name: \"Thng 1\",\r\n      code: \"01/T\"\r\n    },\r\n    {\r\n      name: \"Thng 2\",\r\n      code: \"02/T\"\r\n    },\r\n    {\r\n      name: \"Thng 3\",\r\n      code: \"03/T\"\r\n    },\r\n    {\r\n      name: \"Thng 4\",\r\n      code: \"04/T\"\r\n    },\r\n    {\r\n      name: \"Thng 5\",\r\n      code: \"05/T\"\r\n    },\r\n    {\r\n      name: \"Thng 6\",\r\n      code: \"06/T\"\r\n    },\r\n    {\r\n      name: \"Thng 7\",\r\n      code: \"07/T\"\r\n    },\r\n    {\r\n      name: \"Thng 8\",\r\n      code: \"08/T\"\r\n    },\r\n    {\r\n      name: \"Thng 9\",\r\n      code: \"09/T\"\r\n    },\r\n    {\r\n      name: \"Thng 10\",\r\n      code: \"10/T\"\r\n    },\r\n    {\r\n      name: \"Thng 11\",\r\n      code: \"11/T\"\r\n    },\r\n    {\r\n      name: \"Thng 12\",\r\n      code: \"12/T\"\r\n    }\r\n  ];\r\n  monthAfter: any[] = [\r\n    {\r\n      name: \"Thng 1\",\r\n      code: \"01/S\"\r\n    },\r\n    {\r\n      name: \"Thng 2\",\r\n      code: \"02/S\"\r\n    },\r\n    {\r\n      name: \"Thng 3\",\r\n      code: \"03/S\"\r\n    },\r\n    {\r\n      name: \"Thng 4\",\r\n      code: \"04/S\"\r\n    },\r\n    {\r\n      name: \"Thng 5\",\r\n      code: \"05/S\"\r\n    },\r\n    {\r\n      name: \"Thng 6\",\r\n      code: \"06/S\"\r\n    },\r\n    {\r\n      name: \"Thng 7\",\r\n      code: \"07/S\"\r\n    },\r\n    {\r\n      name: \"Thng 8\",\r\n      code: \"08/S\"\r\n    },\r\n    {\r\n      name: \"Thng 9\",\r\n      code: \"09/S\"\r\n    },\r\n    {\r\n      name: \"Thng 10\",\r\n      code: \"10/S\"\r\n    },\r\n    {\r\n      name: \"Thng 11\",\r\n      code: \"11/S\"\r\n    },\r\n    {\r\n      name: \"Thng 12\",\r\n      code: \"12/S\"\r\n    }\r\n  ];\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    private listsService: ListsService,\r\n    private bsModalService: BsModalService,\r\n    public translate: TranslateService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n  ngOnInit() {\r\n    this.txt = {\r\n      active: this._translate.GRID.GENERAL.active,\r\n    }\r\n  }\r\n\r\n  focusField = () => {\r\n    this.bsModalService.onShown.subscribe(() => {\r\n      this.form.instance.getEditor(\"code\").focus();\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.focusField();\r\n  }\r\n\r\n  onSubmit = function (e) {\r\n    e.preventDefault();\r\n    if (this.revenue.status) {\r\n      this.revenue.status = \"HOAT_DONG\";\r\n    } else {\r\n      this.revenue.status = \"KHONG_HOAT_DONG\";\r\n    }\r\n    this.revenue.listtype_id = this.listTypeId;\r\n    const itemBefor = this.selectedItemBefore.length === 0 ? '' : this.selectedItemBefore.map((obj: any) => obj.code).join(';');\r\n    const itemAfter = this.selectedItemAfter.length === 0 ? '' : this.selectedItemAfter.map((obj: any) => obj.code).join(';');\r\n    if (itemBefor != '') {\r\n      this.revenue.note = itemBefor;\r\n      if (itemAfter != '')\r\n        this.revenue.note += \";\" + itemAfter;\r\n    }\r\n    else {\r\n      if (itemAfter != '')\r\n        this.revenue.note = itemAfter;\r\n    }\r\n    let data = { list: this.revenue };\r\n    this.listsService.add(data).subscribe((response: any) => {\r\n      if (response.status == \"success\") {\r\n        Library.notify(this._translate.NOTIFY.add_success, \"success\");\r\n        this.onSave(this.revenue);\r\n        this.bsModalRef.hide();\r\n      } else {\r\n        Library.notify(response.message, \"error\");\r\n      }\r\n    }, err => { }, () => {\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<form (submit)=\\\"onSubmit($event)\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">Cp nht danh mc n v tnh</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <dx-form id=\\\"unitCalculation-form\\\"\\r\\n      validationGroup=\\\"unitCalculationForm\\\"\\r\\n      [formData]=\\\"unitCalculation\\\">\\r\\n      <dxi-item dataField=\\\"code\\\" [label]=\\\"{text: 'M n v tnh'}\\\" [editorOptions]=\\\"{onValueChanged: changeUnitCode}\\\">\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"M n v tnh khng c  trng\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"name\\\" [label]=\\\"{text: 'Tn n v tnh'}\\\">\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"Tn n v tnh khng c  trng\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"note\\\" [label]=\\\"{text: 'Ghi ch'}\\\"></dxi-item>\\r\\n      <dxi-item dataField=\\\"order\\\" [label]=\\\"{text: 'S th t'}\\\" [editorOptions]=\\\"{ disabled: true }\\\"></dxi-item>\\r\\n      <dxi-item [label]=\\\"{text: 'Trng thi'}\\\" dataField=\\\"status\\\" editorType=\\\"dxCheckBox\\\"\\r\\n        [editorOptions]=\\\"{ text: 'Hot ng'}\\\">\\r\\n      </dxi-item>\\r\\n    </dx-form>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <dx-button text=\\\"Ghi\\\" type=\\\"default\\\" [useSubmitBehavior]=\\\"true\\\" validationGroup=\\\"unitCalculationForm\\\"></dx-button>\\r\\n    <dx-button text=\\\"Quay li\\\" (click)=\\\"bsModalRef.hide()\\\"></dx-button>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \"\"","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { List, ListsService } from '@modules/lists/shared';\r\nimport { Library, VStringService } from '@core/index';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { DxFormComponent } from 'devextreme-angular';\r\n\r\n@Component({\r\n  selector: 'app-add-unit-code',\r\n  templateUrl: './add-unit-code.component.html',\r\n  styleUrls: ['./add-unit-code.component.scss']\r\n})\r\nexport class AddUnitCodeComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  listTypeId: string;\r\n  unitCalculation: any;\r\n  onSave: any;\r\n  constructor(\r\n    public bsModalRef: BsModalRef,\r\n    private listsService: ListsService,\r\n    private bsModalService: BsModalService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  focusField = () => {\r\n    this.bsModalService.onShown.subscribe(() => {\r\n      this.form.instance.getEditor(\"code\").focus();\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.focusField();\r\n  }\r\n\r\n  onSubmit = function (e) {\r\n    e.preventDefault();\r\n    if (this.unitCalculation.status) {\r\n      this.unitCalculation.status = \"HOAT_DONG\";\r\n    } else {\r\n      this.unitCalculation.status = \"KHONG_HOAT_DONG\";\r\n    }\r\n    this.unitCalculation.listtype_id = this.listTypeId;\r\n    let data = { list: this.unitCalculation };\r\n    this.listsService.add(data).subscribe((response: any) => {\r\n      if (response.status == \"success\") {\r\n        Library.notify(\"Thm d liu thnh cng\", \"success\");\r\n        this.onSave(this.unitCalculation);\r\n        this.bsModalRef.hide();\r\n      } else {\r\n        Library.notify(response.message, \"error\");\r\n      }\r\n    }, err => { }, () => {\r\n    });\r\n  }\r\n  changeUnitCode = (e) => {\r\n    this.unitCalculation.code = VStringService._convertToViKdau(e.value);\r\n  }\r\n}\r\n","module.exports = \"<form (submit)=\\\"onSubmit($event)\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">Cp nht kho hng ha dch v</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <dx-form id=\\\"ware-form\\\"\\r\\n      validationGroup=\\\"wareForm\\\"\\r\\n      [formData]=\\\"wavehourse\\\">\\r\\n      <dxi-item dataField=\\\"code\\\" [label]=\\\"{text: 'M kho'}\\\">\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"M kho khng c  trng\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"name\\\" [label]=\\\"{text: 'Tn kho'}\\\">\\r\\n        <dxi-validation-rule type=\\\"required\\\" message=\\\"Tn kho khng c  trng\\\">\\r\\n        </dxi-validation-rule>\\r\\n      </dxi-item>\\r\\n      <dxi-item dataField=\\\"address\\\" [label]=\\\"{text: 'a im'}\\\"></dxi-item>\\r\\n      <dxi-item dataField=\\\"note\\\" [label]=\\\"{text: 'Ghi ch'}\\\"></dxi-item>\\r\\n      <dxi-item dataField=\\\"order\\\" [label]=\\\"{text: 'S th t'}\\\" [editorOptions]=\\\"{ disabled: true }\\\"></dxi-item>\\r\\n    </dx-form>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <dx-button text=\\\"Ghi\\\" type=\\\"default\\\" [useSubmitBehavior]=\\\"true\\\" validationGroup=\\\"wareForm\\\"></dx-button>\\r\\n    <dx-button text=\\\"Quay li\\\" (click)=\\\"bsModalRef.hide()\\\"></dx-button>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \"\"","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { Product, ProductsService } from '@modules/products/shared';\r\nimport { Library } from '@core/index';\r\nimport { DxFormComponent } from 'devextreme-angular';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n@Component({\r\n  selector: 'app-add-wavehourse',\r\n  templateUrl: './add-wavehourse.component.html',\r\n  styleUrls: ['./add-wavehourse.component.scss']\r\n})\r\nexport class AddWavehourseComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  listTypeId: string;\r\n  wavehourse: any;\r\n  onSave: any;\r\n\r\n  constructor(\r\n    public bsModalRef: BsModalRef,\r\n    private productsService: ProductsService,\r\n    private bsModalService: BsModalService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  focusField =() =>{\r\n    this.bsModalService.onShown.subscribe(() => {\r\n      this.form.instance.getEditor(\"code\").focus();\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.focusField();\r\n  }\r\n\r\n  onSubmit = function(e) {\r\n    e.preventDefault();\r\n    let data = {wavehourse: this.wavehourse};\r\n    this.productsService.addWavehourse(data).subscribe((response: any) => {\r\n      if (response.status == \"success\") {\r\n        Library.notify(\"Thm d liu thnh cng\", \"success\");\r\n        this.wavehourse.id = response.data.id;\r\n        this.onSave(this.wavehourse);\r\n        this.bsModalRef.hide();\r\n      } else {\r\n        Library.notify(response.message, \"error\");\r\n      }\r\n    }, err => { }, () => {\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<form (submit)=\\\"onSubmit($event)\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{ 'CONTROLL.LABEL.update' | translate }}\\r\\n      {{ 'MENU.goods_and_services' | translate }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <dx-form id=\\\"form\\\" [formData]=\\\"product\\\" validationGroup=\\\"listData\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n      <dxi-item itemType=\\\"group\\\" [colCount]=\\\"1\\\">\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <!-- M hng ha <M khon thu> -->\\r\\n          <dxi-item dataField=\\\"code\\\" [editorOptions]=\\\"{placeholder: txt.product_code}\\\">\\r\\n            <dxo-label text=\\\"{{code}}\\\"></dxo-label>\\r\\n            <dxi-validation-rule type=\\\"required\\\"\\r\\n              message=\\\"{{code}} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n            </dxi-validation-rule>\\r\\n            <dxi-validation-rule\\r\\n                type=\\\"pattern\\\"\\r\\n                [pattern]=\\\"productCodePattern\\\"\\r\\n                message=\\\"{{_translate.VALIDATION.required_productCode }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <!-- Nhm hng -->\\r\\n          <dxi-item  itemType=\\\"group\\\" [colCount]=\\\"2\\\" cssClass='group-input-button'>\\r\\n            <dxi-item dataField=\\\"group_code\\\" cssClass='input-has-button-left input-right' editorType=\\\"dxSelectBox\\\"\\r\\n              [editorOptions]=\\\"{items: groupProducts,  displayExpr: 'name',\\r\\n                    valueExpr: 'code', placeholder: txt.product_group, searchEnabled: true,\\r\\n                    noDataText: txt.noDataText, value: selectedGroupProduct}\\\">\\r\\n              <dxo-label text=\\\"{{ 'GRID.PRODUCT.product_group' | translate }}\\\"></dxo-label>\\r\\n              <dxi-validation-rule *ngIf=\\\"isTruongHoc\\\" type=\\\"required\\\"\\r\\n              message=\\\"{{ 'GRID.PRODUCT.product_group' | translate }} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n            </dxi-validation-rule>\\r\\n            </dxi-item>\\r\\n            <dxi-item itemType=\\\"button\\\" alignment=\\\"left\\\" [buttonOptions]=\\\"addGroupProduct\\\" cssClass='btn-small'>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n          <!-- Hnh thc thu -->\\r\\n          <dxi-item *ngIf=\\\"isTruongHoc\\\" itemType=\\\"group\\\" [colCount]=\\\"2\\\" cssClass='group-input-button'>\\r\\n          <dxi-item dataField=\\\"form_revenue\\\" cssClass='input-has-button-left' editorType=\\\"dxSelectBox\\\"\\r\\n              [editorOptions]=\\\"{items: revenues,  displayExpr: 'name',\\r\\n                    valueExpr: 'code', placeholder: txt.form_revenue, searchEnabled: true,\\r\\n                    noDataText: txt.noDataText, value: selectedrevenue}\\\">\\r\\n               <dxi-validation-rule type=\\\"required\\\"\\r\\n                    message=\\\"{{ 'GRID.REVENUE.collection_form' | translate  }} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n                </dxi-validation-rule>\\r\\n              <dxo-label text=\\\"{{ 'GRID.REVENUE.collection_form' | translate  }}\\\"></dxo-label>\\r\\n            </dxi-item>\\r\\n            <dxi-item itemType=\\\"button\\\" alignment=\\\"left\\\" [buttonOptions]=\\\"addRevenue\\\" cssClass='btn-small'>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n        <!-- Tn hng ha <Tn khon thu> -->\\r\\n        <dxi-item dataField=\\\"name\\\" editorType=\\\"dxTextArea\\\" [colSpan]=\\\"2\\\" [editorOptions]=\\\"{placeholder: txt.item_name,height: 90}\\\">\\r\\n          <dxo-label text=\\\"{{name}}\\\"></dxo-label>\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n            message=\\\"{{name}} {{ 'VALIDATION.required' | translate }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <!-- n v tnh -->\\r\\n          <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\" cssClass='group-input-button'>\\r\\n            <dxi-item dataField=\\\"unit_code\\\" editorType=\\\"dxSelectBox\\\" cssClass='input-has-button-left' [editorOptions]=\\\"{items: unitCalculations,onValueChanged: unitCodeChange,  displayExpr: 'name', valueExpr: 'code', placeholder: txt.unit_code,\\r\\n                    searchEnabled: true, noDataText: txt.noDataText, value: selectedUnitCalculation}\\\">\\r\\n              <dxo-label text=\\\"{{ 'GRID.INVOICE_DETAILS.unit_code' | translate }}\\\"></dxo-label>\\r\\n            </dxi-item>\\r\\n            <dxi-item itemType=\\\"button\\\" alignment=\\\"left\\\" [buttonOptions]=\\\"addUnitCalculation\\\" cssClass='btn-small'>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n          <!-- n gi -->\\r\\n          <dxi-item dataField=\\\"price\\\" editorType=\\\"dxNumberBox\\\" [editorOptions]=\\\"{ format: formatter.don_gia }\\\">\\r\\n            <dxo-label text=\\\"{{ 'GRID.INVOICE_DETAILS.price' | translate }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n          <!-- Thu sut -->\\r\\n          <dxi-item dataField=\\\"vat\\\" editorType=\\\"dxSelectBox\\\" [editorOptions]=\\\"{items: vats,  displayExpr: 'name', valueExpr: 'code', placeholder: txt.select,\\r\\n                  searchEnabled: true, noDataText: txt.noDataText}\\\">\\r\\n            <dxo-label text=\\\"{{ 'GRID.INVOICE_DETAILS.vat' | translate }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n          <!-- T l chit khu -->\\r\\n          <dxi-item *ngIf=\\\"!isTruongHoc\\\" dataField=\\\"discount\\\" editorType=\\\"dxNumberBox\\\" [editorOptions]=\\\"{ format: '#0.00', step: '0.01' }\\\">\\r\\n              <dxo-label text=\\\"{{ 'CONTROLL.LABEL.items_with_discount' | translate }}(%)\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n        <!-- Ghi ch -->\\r\\n        <dxi-item dataField=\\\"note\\\" editorType=\\\"dxTextArea\\\">\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.note' | translate }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <!-- Trng thi -->\\r\\n          <dxi-item [label]=\\\"{text: ' '}\\\" dataField=\\\"status\\\" editorType=\\\"dxCheckBox\\\"\\r\\n            [editorOptions]=\\\"{ text: txt.active}\\\">\\r\\n          </dxi-item>\\r\\n          <!-- STT -->\\r\\n          <dxi-item *ngIf=\\\"showOrder\\\" dataField=\\\"order\\\" [editorOptions]=\\\"{ disabled: true }\\\">\\r\\n            <dxo-label text=\\\"{{ 'CONTROLL.LABEL.order' | translate }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n      </dxi-item>\\r\\n    </dx-form>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <dx-button text=\\\"{{ 'CONTROLL.BUTTON.save' | translate }}\\\" type=\\\"default\\\" validationGroup=\\\"listData\\\"\\r\\n      [useSubmitBehavior]=\\\"true\\\">\\r\\n    </dx-button>\\r\\n    <dx-button text=\\\"{{ 'CONTROLL.BUTTON.come_back' | translate }}\\\" type=\\\"default\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n    </dx-button>\\r\\n  </div>\\r\\n</form>\"","module.exports = \"\"","import {Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewInit} from '@angular/core';\r\n\r\nimport {BsModalService} from 'ngx-bootstrap/modal';\r\nimport {BsModalRef} from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport {Product, ProductsService, Wavehourse} from '@modules/products/shared';\r\nimport {List, ListsService} from '@modules/lists/shared';\r\nimport {DxFormComponent, DxPopupComponent} from 'devextreme-angular';\r\nimport {Library, AuthService, VChanggeMoneyService} from '@core/index';\r\nimport {pattern} from '@config/index';\r\nimport {AddGroupProductComponent} from '../add-group-product/add-group-product.component';\r\nimport {AddUnitCodeComponent} from '../add-unit-code/add-unit-code.component';\r\nimport {AddWavehourseComponent} from '../add-wavehourse/add-wavehourse.component';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {AddRevenueComponent} from '../add-revenue/add-revenue.component';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  product: any;\r\n  id: any;\r\n  order: number;\r\n  totalCount: any;\r\n  showOrder: boolean = false;\r\n  groupProducts: any;\r\n  revenues:any;\r\n  groupProduct: any;\r\n  revenue:any;\r\n  selectedGroupProduct: string = '';\r\n  selectedrevenue: string = '';\r\n  unitCalculations: any;\r\n  unitCalculation: any;\r\n  selectedUnitCalculation: string = '';\r\n  vats: any;\r\n  groupProductListTypeId: any;\r\n  revenuListTypeId:any;\r\n  unitCalculationListTypeId: any;\r\n  vatListTypeId: any;\r\n  configDecimal: any;\r\n  wavehourses: any;\r\n  wavehourse: any;\r\n  selectedWavehourse: string = '';\r\n  _translate: any;\r\n  formatter: any = {};\r\n  txt: any = {};\r\n  code: any;\r\n  name: any;\r\n  productCodePattern: any = pattern.productCodePattern;\r\n  isTruongHoc = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    public bsModalWarehouse: BsModalRef,\r\n    public bsModalGroupProduct: BsModalRef,\r\n    public bsModalUnitCalculation: BsModalRef,\r\n    private productsService: ProductsService,\r\n    private listsService: ListsService,\r\n    private modalService: BsModalService,\r\n    private ref: ChangeDetectorRef,\r\n    public translate: TranslateService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngOnInit() {\r\n    let account = this.authService.getCurrentUser().account\r\n    if (account) {\r\n      if (account.account_type == \"HS-SV\") {\r\n        this.code = this._translate.GRID.REVENUE.revenue_code;\r\n        this.name = this._translate.GRID.REVENUE.revenue_name;\r\n        this.isTruongHoc = true;\r\n      }\r\n      else {\r\n        this.code = this._translate.GRID.INVOICE_DETAILS.product_code;\r\n        this.name = this._translate.GRID.INVOICE_DETAILS.item_name;\r\n        this.isTruongHoc = false;\r\n      }\r\n    }\r\n    this.txt = {\r\n      product_group: this._translate.CONTROLL.LABEL.select + ' ' + this._translate.GRID.PRODUCT.product_group.toLowerCase(),\r\n      warehouse: this._translate.CONTROLL.LABEL.select + ' ' + this._translate.CONTROLL.LABEL.warehouse.toLowerCase(),\r\n      noDataText: this._translate.CONTROLL.LABEL.noDataText,\r\n      product_code: this._translate.CONTROLL.LABEL.placeHolder_productCode,\r\n      form_revenue: this._translate.CONTROLL.LABEL.select + ' ' + this._translate.GRID.REVENUE.collection_form.toLowerCase(),\r\n      item_name: this._translate.CONTROLL.LABEL.input + ' ' + this.name.toLowerCase(),\r\n      active: this._translate.GRID.GENERAL.active,\r\n      unit_code: this._translate.CONTROLL.LABEL.select + ' ' + this._translate.GRID.INVOICE_DETAILS.unit_code.toLowerCase(),\r\n      select: this._translate.CONTROLL.LABEL.select,\r\n    };\r\n    this.getProduct();\r\n    this.formatter.don_gia = VChanggeMoneyService.formatDecimalColumn(this.configDecimal.don_gia);\r\n   \r\n  }\r\n\r\n  focusField = () => {\r\n    this.modalService.onShown.subscribe(() => {\r\n      this.form.instance.getEditor('code').focus();\r\n    });\r\n  };\r\n\r\n  ngAfterViewInit() {\r\n    this.focusField();\r\n  }\r\n\r\n  addGroupProduct = {\r\n    text: '',\r\n    icon: 'assets/img/icons/Them.png',\r\n    type: 'default',\r\n    onClick: () => {\r\n      this.groupProduct = new List();\r\n      this.groupProduct.order = this.groupProducts.length + 1;\r\n      const initialState = {\r\n        groupProduct: this.groupProduct,\r\n        listTypeId: this.groupProductListTypeId,\r\n        onSave: (groupProduct) => {\r\n          this.groupProduct = groupProduct;\r\n          this.groupProducts.push({\r\n            id: groupProduct.id,\r\n            name: groupProduct.name,\r\n            code: groupProduct.code,\r\n          });\r\n          this.selectedGroupProduct = this.groupProduct.code;\r\n        }\r\n      };\r\n      this.bsModalGroupProduct = this.modalService.show(AddGroupProductComponent, {\r\n        class: 'second child-modal', initialState, backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n    }\r\n  };\r\n\r\n  addRevenue = {\r\n    text: '',\r\n    icon: 'assets/img/icons/Them.png',\r\n    type: 'default',\r\n    onClick: () => {\r\n      this.revenue = new List();\r\n      this.revenue.order = this.revenues.length + 1;\r\n      const initialState = {\r\n        revenue: this.revenue,\r\n        listTypeId: this.revenuListTypeId,\r\n        onSave: (revenue) => {\r\n          this.revenue = revenue;\r\n          this.revenues.push({\r\n            id: revenue.id,\r\n            name: revenue.name,\r\n            code: revenue.code,\r\n          });\r\n          this.selectedrevenue = this.revenue.code;\r\n        }\r\n      };\r\n      this.bsModalGroupProduct = this.modalService.show(AddRevenueComponent, {\r\n        class: 'second child-modal', initialState, backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n    }\r\n  };\r\n\r\n  addUnitCalculation = {\r\n    text: '',\r\n    icon: 'assets/img/icons/Them.png',\r\n    type: 'default',\r\n    onClick: () => {\r\n      this.unitCalculation = new List();\r\n      this.unitCalculation.order = this.unitCalculations.length + 1;\r\n      const initialState = {\r\n        unitCalculation: this.unitCalculation,\r\n        listTypeId: this.unitCalculationListTypeId,\r\n        onSave: (unitCalculation) => {\r\n          this.unitCalculation = unitCalculation;\r\n          this.unitCalculations.push({\r\n            id: unitCalculation.id,\r\n            name: unitCalculation.name,\r\n            code: unitCalculation.code,\r\n          });\r\n          this.selectedUnitCalculation = this.unitCalculation.code;\r\n        }\r\n      };\r\n      this.bsModalUnitCalculation = this.modalService.show(AddUnitCodeComponent, {\r\n        class: 'second child-modal', initialState, backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n    }\r\n  };\r\n\r\n  // addWavehourse = {\r\n  //   text: \"\",\r\n  //   icon: \"assets/img/icons/Them.png\",\r\n  //   type: \"default\",\r\n  //   onClick: () => {\r\n  //     this.wavehourse = new Wavehourse();\r\n  //     this.wavehourse.order = this.wavehourses.length + 1;\r\n  //     const initialState = {\r\n  //       wavehourse: this.wavehourse,\r\n  //       onSave: (wavehourse) => {\r\n  //         this.wavehourse = wavehourse;\r\n  //         this.wavehourses.push({\r\n  //           id: wavehourse.id,\r\n  //           name: wavehourse.name,\r\n  //           code: wavehourse.code,\r\n  //         });\r\n  //         this.selectedWavehourse = this.wavehourse.id;\r\n  //       }\r\n  //     };\r\n  //     this.bsModalWarehouse = this.modalService.show(AddWavehourseComponent, {\r\n  //       class: 'second child-modal', initialState, backdrop: 'static',\r\n  //       keyboard: false\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  getProduct() {\r\n    if (this.product.id != '') { // nu l edit\r\n      if (this.product.status && this.product.status === 'HOAT_DONG') {\r\n        this.product.status = true;\r\n      } else if (this.product.status && this.product.status === 'KHONG_HOAT_DONG') {\r\n        this.product.status = false;\r\n      }\r\n      this.selectedGroupProduct = this.product.group_code;\r\n      this.selectedrevenue = this.product.form_revenue;\r\n      this.selectedUnitCalculation = this.product.unit_code;\r\n      this.selectedWavehourse = this.product.wavehourse_id;\r\n      this.product.vat = this.product.vat ? this.product.vat.toString() : '';\r\n    } else {\r\n      this.product.order = this.totalCount + 1;\r\n      this.product.status = true;\r\n      this.product.discount = 0.00;\r\n    }\r\n  }\r\n\r\n  //x l submit add product\r\n  onSubmit(e) {\r\n    Library.showloading();\r\n    if (this.product.status) {\r\n      this.product.status = 'HOAT_DONG';\r\n    } else {\r\n      this.product.status = 'KHONG_HOAT_DONG';\r\n    }\r\n\r\n    let data = {product: this.product};\r\n    if (!this.product.id) {\r\n      this.productsService.add(data).subscribe((response: any) => {\r\n        if (response.status == 'success') {\r\n          this.bsModalRef.content.successSaveItem = 'Success';\r\n          Library.notify(this._translate.NOTIFY.add_success, 'success');\r\n          this.bsModalRef.hide();\r\n\r\n        } else {\r\n          Library.notify(response.message, 'error');\r\n        }\r\n      }, err => {\r\n      }, () => {\r\n        Library.hideloading();\r\n      });\r\n    } else {\r\n      let id = this.product.id;\r\n      this.productsService.edit(data, id).subscribe((response: any) => {\r\n        if (response.status == 'success') {\r\n          this.bsModalRef.content.successSaveItem = 'Success';\r\n          Library.notify(this._translate.NOTIFY.update_success, 'success');\r\n          this.bsModalRef.hide();\r\n        } else {\r\n          Library.notify(response.message, 'error');\r\n        }\r\n      }, err => {\r\n      }, () => {\r\n        Library.hideloading();\r\n      });\r\n    }\r\n  }\r\n\r\n  unitCodeChange = (e) => {\r\n    let _obj = this.unitCalculations.filter(p => p.code == e.value)[0];\r\n    if (_obj) {\r\n      //this.product.unit_name = _obj.name;\r\n    }\r\n  };\r\n}\r\n","module.exports = \"<div class=\\\"list-header row\\\">\\r\\n    <div class=\\\"col-md-4\\\">\\r\\n        <div class=\\\"pull-left\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-8\\\">\\r\\n        <div class=\\\"pull-right button-panel\\\">\\r\\n            <dx-button id=\\\"add\\\" (click)=\\\"add()\\\" icon=\\\"assets\\\\img\\\\icons\\\\Them.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.add' | translate }}\\\" type=\\\"default\\\"></dx-button>\\r\\n            <dx-button (click)=\\\"integrateCRM()\\\" [visible]=\\\"isIntegrateCRM\\\" icon=\\\"assets\\\\img\\\\icons\\\\NapDuLieu.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.syn_crm' | translate }}\\\" type=\\\"default\\\">\\r\\n            </dx-button>\\r\\n                <input type=\\\"file\\\" id=\\\"file-bang-ke\\\" accept=\\\".xlsx\\\" (change)=\\\"onFileChanged($event)\\\" multiple=\\\"false\\\" style=\\\"display: none;\\\"/>\\r\\n            <dx-menu\\r\\n          [dataSource]=\\\"extras\\\"\\r\\n          displayExpr=\\\"name\\\"\\r\\n          orientation=\\\"horizontal\\\"\\r\\n          submenuDirection=\\\"auto\\\"\\r\\n          (onItemClick)=\\\"itemExtrasClick($event)\\\"\\r\\n          cssClass='button-dropdown-extend'>\\r\\n        </dx-menu>\\r\\n        </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <dx-data-grid\\r\\n    id=\\\"gridContainer\\\"\\r\\n    [dataSource]=\\\"dataSource\\\"\\r\\n    [(selectedRowKeys)]=\\\"selectedRows\\\"\\r\\n    [showRowLines]=\\\"true\\\"\\r\\n    [noDataText]=\\\"noDataText\\\"\\r\\n    [allowColumnResizing]=\\\"true\\\"\\r\\n    [columnMinWidth]=\\\"50\\\"\\r\\n    [columnAutoWidth]=\\\"true\\\"\\r\\n    [wordWrapEnabled]=\\\"true\\\">\\r\\n    <dxo-sorting mode=\\\"multiple\\\"></dxo-sorting>\\r\\n    <dxo-selection selectAllMode=\\\"page\\\" mode=\\\"multiple\\\"></dxo-selection>\\r\\n    <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n\\r\\n    <dxi-column dataField=\\\"code\\\" caption=\\\"{{code}}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"name\\\" caption=\\\"{{name}}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n    <!-- Hnh thc thu -->\\r\\n      <dxi-column *ngIf=\\\"isTruongHoc\\\" dataField=\\\"form_revenue\\\" caption=\\\"{{ 'GRID.REVENUE.collection_form' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\">\\r\\n        <dxo-lookup [dataSource]=\\\"revenues\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n     </dxi-column>\\r\\n     <!-- Nhm hng -->\\r\\n    <dxi-column *ngIf=\\\"!isTruongHoc\\\" dataField=\\\"group_code\\\" caption=\\\"{{ 'GRID.PRODUCT.product_group' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\">\\r\\n        <dxo-lookup [dataSource]=\\\"groupProducts\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <!-- n v tnh -->\\r\\n    <dxi-column dataField=\\\"unit_code\\\" caption=\\\"{{ 'GRID.INVOICE_DETAILS.unit_code' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\">\\r\\n        <dxo-lookup [dataSource]=\\\"unitCalculations\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <!-- n gi -->\\r\\n    <dxi-column dataField=\\\"price\\\" caption=\\\"{{ 'GRID.INVOICE_DETAILS.price' | translate }}\\\" alignment=\\\"right\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" [width]=\\\"155\\\" [format]=\\\"formatter.don_gia\\\" ></dxi-column>\\r\\n    <!-- Thu sut -->\\r\\n    <dxi-column *ngIf=\\\"!isTruongHoc\\\" dataField=\\\"vat\\\" caption=\\\"VAT\\\" alignment=\\\"center\\\" [filterOperations]=\\\"['contains', '=']\\\" \\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n      <dxo-lookup [dataSource]=\\\"vats\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <!-- Chit khu -->\\r\\n    <dxi-column *ngIf=\\\"!isTruongHoc\\\" dataField=\\\"discount\\\" caption=\\\"{{ 'GRID.INVOICE_DETAILS.discount' | translate }}\\\" alignment=\\\"right\\\" [filterOperations]=\\\"['contains', '=']\\\" \\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\"></dxi-column>\\r\\n    <!-- Ghi ch -->\\r\\n    <dxi-column dataField=\\\"note\\\" caption=\\\"{{ 'CONTROLL.LABEL.note' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" ></dxi-column>\\r\\n    <!-- Trng thi -->\\r\\n    <dxi-column dataField=\\\"status\\\" caption=\\\"{{ 'GRID.GENERAL.status' | translate }}\\\"  alignment=\\\"center\\\" [width]=\\\"120\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n      <dxo-lookup [dataSource]=\\\"statusFilter\\\" valueExpr=\\\"value\\\" displayExpr=\\\"text\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <dxi-column cellTemplate=\\\"actionIcon\\\"  minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\" width=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\"  alignment=\\\"center\\\"></dxi-column>\\r\\n    <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n      <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n    </div>\\r\\n    <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"edit(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"delete(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n    </div>\\r\\n    <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\"  [filtering]=\\\"true\\\"></dxo-remote-operations>\\r\\n    <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n    <dxo-pager\\r\\n        [showPageSizeSelector]=\\\"true\\\"\\r\\n        [allowedPageSizes]=\\\"[15, 50, 100]\\\"\\r\\n        [showNavigationButtons]=\\\"true\\\"\\r\\n        [showInfo]=\\\"true\\\"\\r\\n        infoText=\\\"{{ 'DXO_PAGER.page' | translate }}\\\">\\r\\n    </dxo-pager>\\r\\n  </dx-data-grid>\\r\\n\\r\\n\\r\\n<!-- popup -->\\r\\n<dx-popup\\r\\nclass=\\\"popup\\\"\\r\\n[width]=\\\"400\\\"\\r\\n[height]=\\\"255\\\"\\r\\n[showTitle]=\\\"true\\\"\\r\\ntitle=\\\"{{ 'CONTROLL.BUTTON.import_data' | translate }}\\\"\\r\\n[dragEnabled]=\\\"false\\\"\\r\\n(onHiding)=\\\"onImportHiding($event)\\\"\\r\\n(onShowing)=\\\"onImportShowing($event)\\\"\\r\\n[(visible)]=\\\"showPopup\\\">\\r\\n<div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n  <p style=\\\"margin-bottom: 10px\\\">{{ 'CONTROLL.LABEL.file_name' | translate }}:\\r\\n    <span>{{fileName}}</span>\\r\\n  </p>\\r\\n  <p style=\\\"margin-bottom: 10px\\\">{{ 'CONTROLL.LABEL.capacity' | translate }}:\\r\\n    <span>{{fileSize | number:'1.0-2'}}KB</span>\\r\\n  </p>\\r\\n  <div style=\\\"height: 30px;\\\">\\r\\n    <dx-progress-bar \\r\\n      [min]=\\\"0\\\" \\r\\n      [max]=\\\"100\\\" \\r\\n      [value]=\\\"valueProgress\\\"\\r\\n      [statusFormat]=\\\"format\\\"\\r\\n      [visible]=\\\"visibleProgressBar\\\">\\r\\n    </dx-progress-bar>\\r\\n  </div>\\r\\n  \\r\\n<p style=\\\"height: 25px;\\\">\\r\\n  <span>{{thongbao}}</span>\\r\\n</p>\\r\\n<p style=\\\"height: 25px;\\\">\\r\\n  <a href=\\\"javascript:void(0)\\\" (click)=\\\"layBanGhiLoi()\\\" *ngIf=\\\"visibleGetError\\\" style=\\\" color: red;\\\">* {{ 'CONTROLL.BUTTON.get_data_error' | translate }}</a>\\r\\n</p>\\r\\n  <div class=\\\"pull-right\\\">\\r\\n    <dx-button (click)=\\\"thayTheToanBo()\\\" [disabled]=\\\"isDisable\\\" text=\\\"{{ 'CONTROLL.BUTTON.replace_all' | translate }}\\\" type=\\\"default\\\"></dx-button>\\r\\n    <dx-button (click)=\\\"themTiep()\\\" [disabled]=\\\"isDisable\\\" text=\\\"{{ 'CONTROLL.BUTTON.add_more' | translate }}\\\" type=\\\"default\\\"></dx-button>\\r\\n  </div>\\r\\n</div>\\r\\n</dx-popup>\\r\\n\\r\\n<dx-popup\\r\\nclass=\\\"popup-export\\\"\\r\\n[width]=\\\"400\\\"\\r\\n[height]=\\\"180\\\"\\r\\n[showTitle]=\\\"true\\\"\\r\\ntitle=\\\"{{ 'CONTROLL.BUTTON.get_the_sample_file' | translate }}\\\"\\r\\n[dragEnabled]=\\\"false\\\"\\r\\n[(visible)]=\\\"showPopupGetFile\\\">\\r\\n<div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n  <p style=\\\"margin-bottom: 40px\\\">{{ 'CONFIRM.select_get_file_tem' | translate }}?</p>\\r\\n  \\r\\n  <div class=\\\"pull-right\\\">\\r\\n    <dx-button (click)=\\\"fileCoDuLieu()\\\"  text=\\\"{{ 'CONTROLL.BUTTON.file_has_data' | translate }}\\\" type=\\\"default\\\"></dx-button>\\r\\n    <dx-button (click)=\\\"fileTrang()\\\"  text=\\\"{{ 'CONTROLL.BUTTON.file_has_no_data' | translate }}\\\" type=\\\"default\\\"></dx-button>\\r\\n  </div>\\r\\n</div>\\r\\n</dx-popup>\"","module.exports = \".support-link{padding:5px 15px 7px 15px;background-color:#337ab7;border-color:#2d6da3;color:#fff;text-decoration:none}.support-link.mgr-15{margin-right:15px}.support-link img{margin-right:10px;margin-top:-2px}#auto-input{margin-right:75px}\\n\"","import { Component, OnInit, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { Product, ProductsService } from '@modules/products/shared';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { AddComponent } from '../add/add.component';\r\nimport { Library, AuthService, Helper } from '@core/index';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { VSelectBoxService } from '@core/library/public/v-select-box.service';\r\n\r\nimport * as XLSX from 'xlsx';\r\nimport { pattern } from '@config/index';\r\nimport * as moment from 'moment';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { sEnum } from '@config/sEnum';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.scss']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  dataSource: any = {};\r\n  selectedRows = [];\r\n  noDataText: string = \"Cha c hng ha no\";\r\n  bsModalRef: BsModalRef;\r\n  statusFilter: any;\r\n  groupProducts: any;\r\n  revenues: any;\r\n  unitCalculations: any;\r\n  groupProductListTypeId: string;\r\n  revenuListTypeId: string;\r\n  unitCalculationListTypeId: string;\r\n  vatListTypeId: string;\r\n  vats: any\r\n  wavehourses: any;\r\n  configDecimal: any;\r\n  formatter: any = {};\r\n  configCRM: any;\r\n  isIntegrateCRM: any;\r\n  showPopupGetFile = false;\r\n\r\n  dataExcelFile: any;\r\n  showPopup = false;\r\n  fileName: any;\r\n  fileSize: any;\r\n  valueProgress: number = 0;\r\n  maximum_object_import: any;\r\n  currentUser: any;\r\n  productCodePattern: any = pattern.productCodePattern;\r\n  header = [{\r\n    wavehourse_code: \"DANH SCH DANH MC\"\r\n  }, {\r\n    wavehourse_code: \"* Ghi ch: Ct ch mu , n v phi nhp ni dung.\"\r\n  }, {\r\n    wavehourse_code: \"M kho hng\",\r\n    code: \"M hng\",\r\n    name: \"Tn hng \",\r\n    group_name: \"Tn nhm hng\",\r\n    group_code: \"M nhm hng\",\r\n    unit_name: \"Tn n v tnh\",\r\n    unit_code: \"M n v tnh\",\r\n    number_per_invoice: \"S lng\",\r\n    price: \"n gi bn\",\r\n    vat: \"% VAT\",\r\n    discount: \"% Chit khu\",\r\n    L: \"Trng thi\",\r\n    error_message: \"Ni dung li\"\r\n  }, {\r\n    wavehourse_code: \"(1)\",\r\n    code: \"(2)\",\r\n    name: \"(3)\",\r\n    group_name: \"(4)\",\r\n    group_code: \"(5)\",\r\n    unit_name: \"(6)\",\r\n    unit_code: \"(7)\",\r\n    number_per_invoice: \"(8)\",\r\n    price: \"(9)\",\r\n    vat: \"(10)\",\r\n    discount: \"(11)\",\r\n    L: \"(12)\",\r\n  }\r\n  ];\r\n\r\n  headerStudent = [{\r\n    wavehourse_code: \"DANH SCH DANH MC\"\r\n  }, {\r\n    wavehourse_code: \"* Ghi ch: Ct ch mu , n v phi nhp ni dung.\"\r\n  }, {\r\n    code: \"M khon thu\",\r\n    name: \"Tn khon thu \",\r\n    form_revenue_name: \"Tn hnh thc thu\",\r\n    form_revenue: \"M hnh thc thu\",\r\n    group_name: \"Tn nhm hng\",\r\n    group_code: \"M nhm hng\",\r\n    unit_name: \"Tn n v tnh\",\r\n    unit_code: \"M n v tnh\",\r\n    price: \"n gi bn\",\r\n    vat: \"% VAT\",\r\n    L: \"Trng thi\",\r\n    error_message: \"Ni dung li\"\r\n  }, {\r\n    code: \"(1)\",\r\n    name: \"(2)\",\r\n    form_revenue_name: \"(3)\",\r\n    form_revenue: \"(4)\",\r\n    group_name: \"(5)\",\r\n    group_code: \"(6)\",\r\n    unit_name: \"(7)\",\r\n    unit_code: \"(8)\",\r\n    price: \"(9)\",\r\n    vat: \"(10)\",\r\n    discount: \"(11)\",\r\n    L: \"(12)\",\r\n  }\r\n  ];\r\n\r\n  dataFail = new Array();\r\n  stopImport = false;\r\n  isDisable = false;\r\n  visibleGetError = false;\r\n  visibleProgressBar = false;\r\n  thongbao = \"\";\r\n  countAll: any;\r\n  importSuccess: any;\r\n  timeRemain = \"\";\r\n  _translate: any;\r\n  code: any;\r\n  name: any;\r\n  isTruongHoc = false;\r\n  extras = [];\r\n  constructor(\r\n    private productsService: ProductsService,\r\n    private modalService: BsModalService,\r\n    private authService: AuthService,\r\n    private cdr: ChangeDetectorRef,\r\n    private route: ActivatedRoute,\r\n    public translate: TranslateService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.extras = [{\r\n      id: \"1\",\r\n      name: this._translate.CONTROLL.BUTTON.extend,\r\n      items: [\r\n        {\r\n          id: \"XOA\",\r\n          name: this._translate.CONTROLL.BUTTON.delete,\r\n          icon: this._translate.ICONS.delete\r\n        },\r\n        {\r\n          id: \"LAY_FILE_MAU\",\r\n          name: this._translate.CONTROLL.BUTTON.get_the_sample_file,\r\n          icon: this._translate.ICONS.download\r\n        }, {\r\n          id: \"NAP_DU_LIEU\",\r\n          name: this._translate.CONTROLL.BUTTON.import_data,\r\n          icon: this._translate.ICONS.import_data\r\n        },\r\n      ]\r\n    }];\r\n    this.currentUser = this.authService.getCurrentUser();\r\n    this.statusFilter = VSelectBoxService._statusFilter(this._translate);\r\n    if (this.currentUser.account) {\r\n      if (this.currentUser.account.account_type == \"HS-SV\") {\r\n        this.code = this._translate.GRID.REVENUE.revenue_code;\r\n        this.name = this._translate.GRID.REVENUE.revenue_name;\r\n        this.isTruongHoc = true;\r\n      }\r\n      else {\r\n        this.code = this._translate.GRID.INVOICE_DETAILS.product_code;\r\n        this.name = this._translate.GRID.INVOICE_DETAILS.product_name;\r\n        this.isTruongHoc = false;\r\n      }\r\n    }\r\n    this.loadList();\r\n    this.loadWavehourses();\r\n    this.getAllListbyListtypeByCode();\r\n\r\n    this.route.data.subscribe((data: any) => {\r\n      data.configs.forEach(config => {\r\n        if (config.name == \"integrate_parameter\") {\r\n          this.configCRM = JSON.parse(config.value).integrate_crm;\r\n          if (this.configCRM.is_integrate) {\r\n            this.isIntegrateCRM = true;\r\n          } else {\r\n            this.isIntegrateCRM = false;\r\n            this.cdr.detectChanges();\r\n          }\r\n        }\r\n\r\n        if (config.name == \"maximum_object_import\") {\r\n          this.maximum_object_import = config.value;\r\n        }\r\n        if (config.name == sEnum.configSys.decimal_places_json) {\r\n          this.configDecimal = JSON.parse(config.value);\r\n\r\n          if (this.configDecimal.don_gia > 0) {\r\n            let format = \"0,###.\";\r\n            for (let i = 0; i < this.configDecimal.don_gia; i++) {\r\n              format += \"#\";\r\n            }\r\n            this.formatter.don_gia = format;\r\n          }\r\n          else\r\n            this.formatter.don_gia = \"0,###.##\";\r\n        }\r\n      });\r\n    });\r\n    if (this.currentUser.account.account_type == \"HS-SV\")\r\n      this.dataFail = this.dataFail.concat(this.headerStudent);\r\n    else\r\n      this.dataFail = this.dataFail.concat(this.header);\r\n  }\r\n  loadList() {\r\n    this.dataSource.store = this.productsService.getAll();\r\n  }\r\n\r\n  loadWavehourses() {\r\n    this.productsService.loadAllWavehourses().subscribe((response) => {\r\n      this.wavehourses = response.data['wavehourses'];\r\n    })\r\n  }\r\n  itemExtrasClick(e) {\r\n    if (e.itemData.id == 'XOA') {\r\n      this.delete(null);\r\n    } else if (e.itemData.id == 'LAY_FILE_MAU') {\r\n      this.getFileTemp();\r\n    } else if (e.itemData.id == 'NAP_DU_LIEU') {\r\n      this.napDuLieuTuBangKe();\r\n    }\r\n  }\r\n  add() {\r\n    const product = new Product;\r\n    const initialState = {\r\n      product,\r\n      totalCount: this.dataGrid.instance.totalCount(),\r\n      groupProducts: this.groupProducts,\r\n      revenues: this.revenues,\r\n      unitCalculations: this.unitCalculations,\r\n      vats: this.vats,\r\n      groupProductListTypeId: this.groupProductListTypeId,\r\n      revenuListTypeId: this.revenuListTypeId,\r\n      unitCalculationListTypeId: this.unitCalculationListTypeId,\r\n      vatListTypeId: this.vatListTypeId,\r\n      wavehourses: this.wavehourses,\r\n      configDecimal: this.configDecimal,\r\n    };\r\n    this.bsModalRef = this.modalService.show(AddComponent, {\r\n      class: 'modal-lg full-modal', initialState, backdrop: 'static',\r\n      keyboard: false\r\n    });\r\n    this.modalService.onHide.subscribe(() => {\r\n      if (this.bsModalRef.content.successSaveItem) {\r\n        //this.dataGrid.instance.refresh();\r\n        this.dataSource = {};\r\n        this.loadList();\r\n      }\r\n    });\r\n  }\r\n  integrateCRM() {\r\n    Library.showloading();\r\n    this.productsService.integrateCRM().subscribe((res) => {\r\n      if (res.status == \"success\") {\r\n        Library.notify(this._translate.NOTIFY.syn_data_success, 'success');\r\n        this.dataSource = {};\r\n        this.loadList();\r\n      } else {\r\n        Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n      }\r\n      Library.hideloading();\r\n    });\r\n  }\r\n\r\n  edit(data) {\r\n    let id = data ? data.id : (this.selectedRows[0].length == 0 ? \"\" : this.selectedRows[0]);\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      Library.showloading();\r\n      this.productsService.getProduct(id).subscribe(response => {\r\n        let product = response.data.product;\r\n        const initialState = {\r\n          product,\r\n          groupProducts: this.groupProducts,\r\n          revenues: this.revenues,\r\n          unitCalculations: this.unitCalculations,\r\n          vats: this.vats,\r\n          groupProductListTypeId: this.groupProductListTypeId,\r\n          revenuListTypeId: this.revenuListTypeId,\r\n          unitCalculationListTypeId: this.unitCalculationListTypeId,\r\n          vatListTypeId: this.vatListTypeId,\r\n          wavehourses: this.wavehourses,\r\n          configDecimal: this.configDecimal,\r\n        };\r\n        this.bsModalRef = this.modalService.show(AddComponent, {\r\n          class: 'modal-lg full-modal', initialState, backdrop: 'static',\r\n          keyboard: false\r\n        });\r\n        this.modalService.onHide.subscribe(() => {\r\n          if (this.bsModalRef.content.successSaveItem) {\r\n            //this.dataGrid.instance.refresh();\r\n            this.dataSource = {};\r\n            this.loadList();\r\n          }\r\n        });\r\n        Library.hideloading();\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  delete(data) {\r\n    let id = data ? data.id : (this.selectedRows.length == 0 ? \"\" : this.selectedRows.join(','));\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      var result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n      if (result) {\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            this.productsService.delete(id).subscribe((response: any) => {\r\n              if (response.status === \"success\") {\r\n                Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                this.dataSource = {};\r\n                this.loadList();\r\n              } else {\r\n                Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  setStatus(data) {\r\n    if (data.status == \"HOAT_DONG\") {\r\n      return this._translate.GRID.GENERAL.active;\r\n    } else {\r\n      data.status = \"KHONG_HOAT_DONG\";\r\n      return this._translate.GRID.GENERAL.inactive;\r\n    }\r\n  }\r\n\r\n  getAllListbyListtypeByCode() {\r\n    this.productsService.getAllListbyListtypeByCode('DM_NHOM_HANG_HOA,DM_DON_VI_TINH,DM_TY_LE_VAT,DM_HINH_THUC_THU').subscribe((response) => {\r\n      this.groupProducts = response.data['DM_NHOM_HANG_HOA'];\r\n      this.revenues = response.data['DM_HINH_THUC_THU'];\r\n      this.groupProductListTypeId = response.data['ids']['DM_NHOM_HANG_HOA'];\r\n      this.revenuListTypeId = response.data['ids']['DM_HINH_THUC_THU'];\r\n      this.unitCalculations = response.data['DM_DON_VI_TINH'];\r\n      this.unitCalculationListTypeId = response.data['ids']['DM_DON_VI_TINH'];\r\n      this.vats = response.data['DM_TY_LE_VAT'];\r\n      this.vatListTypeId = response.data['ids']['DM_TY_LE_VAT'];\r\n      if (this.currentUser.account.account_type != \"HS-SV\")\r\n        this.groupProducts = this.groupProducts.filter(p => p.code != \"HOCTHEM\" && p.code != \"HOCPHI\" && p.code != \"CACKHOANKHAC\");\r\n    })\r\n  }\r\n\r\n  getFileTemp() {\r\n    this.showPopupGetFile = true;\r\n  }\r\n\r\n  fileCoDuLieu() {\r\n    Library.showloading();\r\n    this.productsService.getFileTempData().subscribe((res: any) => {\r\n      if (res.status == 'success') {\r\n        let file = res.data.product;\r\n        Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n      } else {\r\n        Library.notify(res.message, 'error');\r\n      }\r\n      this.showPopupGetFile = false;\r\n      Library.hideloading();\r\n    });\r\n  }\r\n\r\n  fileTrang() {\r\n    Library.showloading();\r\n    this.productsService.getFileTemp().subscribe((res: any) => {\r\n      if (res.status == 'success') {\r\n        let file = res.data.product;\r\n        Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n      } else {\r\n        Library.notify(res.message, 'error');\r\n      }\r\n      this.showPopupGetFile = false;\r\n      Library.hideloading();\r\n    });\r\n  }\r\n  thayTheToanBo() {\r\n    this.isDisable = true;\r\n    this.import(this.dataExcelFile, 'THAY_THE');\r\n    this.dataExcelFile = null;\r\n  }\r\n\r\n  themTiep() {\r\n    this.isDisable = true;\r\n    this.import(this.dataExcelFile, 'THEM_TIEP');\r\n    this.dataExcelFile = null;\r\n  }\r\n\r\n  // huy() {\r\n  //   this.showPopup = false;\r\n  //   this.dataExcelFile = null;\r\n  // }\r\n\r\n  napDuLieuTuBangKe() {\r\n    setTimeout(() => {\r\n      document.getElementById(\"file-bang-ke\").click();\r\n    }, 50);\r\n  }\r\n\r\n  onFileChanged(evt) {\r\n    Library.showloading();\r\n    const target: DataTransfer = <DataTransfer>(evt.target);\r\n    console.log(target)\r\n\r\n    this.fileName = target.files[0].name;\r\n    this.fileSize = target.files[0].size / 1024;\r\n    if (target.files.length !== 1) {\r\n      Library.notify(this._translate.NOTIFY.not_select_multi, 'error');\r\n      throw new Error(this._translate.NOTIFY.not_select_multi);\r\n    };\r\n    const reader: FileReader = new FileReader();\r\n\r\n    reader.onload = (e: any) => {\r\n      /* read workbook */\r\n      const bstr: string = e.target.result;\r\n      const wb: XLSX.WorkBook = XLSX.read(bstr, { type: 'binary' });\r\n\r\n      /* grab first sheet */\r\n      const wsname: string = wb.SheetNames[0];\r\n      const ws: XLSX.WorkSheet = wb.Sheets[wsname];\r\n\r\n      /* save data */\r\n      let rangeRow = 5;\r\n      if (this.currentUser.account.account_type == \"HS-SV\")\r\n        rangeRow = 4;\r\n      let data = <any>(XLSX.utils.sheet_to_json(ws, { header: \"A\", range: rangeRow }));\r\n      let fileBangKe: any = document.getElementById(\"file-bang-ke\");\r\n      fileBangKe.value = \"\";\r\n      //data = data.filter(p=>p.B || p.C);\r\n      this.dataExcelFile = data;\r\n      this.countAll = data.length;\r\n      this.showPopup = true;\r\n      Library.hideloading();\r\n    };\r\n    reader.readAsBinaryString(target.files[0]);\r\n  }\r\n\r\n  import(dataExcelFile, type) {\r\n    this.visibleProgressBar = true;\r\n    let data = [];\r\n    if (dataExcelFile) {\r\n      let _index = 0;\r\n      dataExcelFile.forEach(element => {\r\n        let isValid = true;\r\n        if (this.currentUser.account.account_type == \"HS-SV\") {\r\n          if (!element.A || !element.B || !element.C || !element.D) {\r\n            let product = new Object;\r\n            product[\"code\"] = element.A ? element.A : \"\";\r\n            product[\"name\"] = element.B ? element.B : \"\";\r\n            product[\"form_revenue_name\"] = element.C ? element.C : \"\";\r\n            product[\"form_revenue\"] = element.D ? element.D : \"\";\r\n            product[\"group_name\"] = element.E ? element.E : \"\";\r\n            product[\"group_code\"] = element.F ? element.F : \"\";\r\n            product[\"unit_name\"] = element.G ? element.G : \"\";\r\n            product[\"unit_code\"] = element.H ? element.H : \"\";\r\n            product[\"price\"] = element.I ? element.I : \"\";\r\n            product[\"vat\"] = element.J ? element.J : \"\";\r\n            product[\"note\"] = element.K ? element.K : \"\";\r\n            product[\"error_message\"] = \"Li thiu tn hng\";\r\n            if (element.B || element.C) {\r\n              ++_index;\r\n              this.dataFail.push(product);\r\n            }\r\n          } else {\r\n            ++_index;\r\n            let product = new Product();\r\n            product.code = element.A ? element.A : \"\";\r\n            product.name = element.B ? element.B : \"\";\r\n            product.form_revenue = element.D ? element.D : \"\";\r\n            product.group_code = element.F ? element.F : \"\";\r\n            product.unit_code = element.H ? element.H : \"\";\r\n            product.price = element.I ? element.I.replace(new RegExp(\",\", 'g'), \"\") : \"\";\r\n            this.vats.forEach(vat => {\r\n              if (element.J && vat.name == element.J) {\r\n                product.vat = vat.code;\r\n              }\r\n            });\r\n            product.note = element.K ? element.K : \"\";\r\n            product.order = 1;\r\n            product[\"status\"] = \"HOAT_DONG\"\r\n            if (product.code != \"\" && !this.productCodePattern.test(product.code))\r\n              isValid = false;\r\n            if (!isValid) {\r\n              product[\"error_message\"] = this._translate.VALIDATION.required_productCode;\r\n              this.dataFail.push(product);\r\n            }\r\n            else\r\n              data.push(product);\r\n          }\r\n        }\r\n        else {\r\n          if (!element.C) {\r\n            let product = new Object;\r\n            product[\"wavehourse_code\"] = element.A ? element.A : \"\";\r\n            product[\"code\"] = element.B ? element.B : \"\";\r\n            product[\"name\"] = element.C ? element.C : \"\";\r\n            product[\"group_name\"] = element.D ? element.D : \"\";\r\n            product[\"group_code\"] = element.E ? element.E : \"\";\r\n            product[\"unit_name\"] = element.F ? element.F : \"\";\r\n            product[\"unit_code\"] = element.G ? element.G : \"\";\r\n            product[\"number_per_invoice\"] = element.H ? element.H : \"\";\r\n            product[\"price\"] = element.I ? element.I : \"\";\r\n            product[\"vat\"] = element.J ? element.J : \"\";\r\n            product[\"discount\"] = element.K ? element.K : \"\";\r\n            product[\"error_message\"] = \"Li thiu tn hng\";\r\n            if (element.B) {\r\n              ++_index;\r\n              this.dataFail.push(product);\r\n            }\r\n          } else {\r\n            ++_index;\r\n            let product = new Product();\r\n            product.code = element.B ? element.B : \"\";\r\n            product.name = element.C ? element.C : \"\";\r\n            product.group_code = element.E ? element.E : \"\";\r\n            product.unit_code = element.G ? element.G : \"\";\r\n            product.number_per_invoice = element.H ? element.H : \"\";\r\n            product.price = element.I ? element.I.replace(new RegExp(\",\", 'g'), \"\") : \"\";\r\n            this.vats.forEach(vat => {\r\n              if (element.J && vat.name == element.J) {\r\n                product.vat = vat.code;\r\n              }\r\n            });\r\n            product.discount = element.K ? element.K : \"\";\r\n            product.note = element.N ? element.N : \"\";\r\n            product.order = 1;\r\n            product[\"status\"] = \"HOAT_DONG\";\r\n            if (product.code != \"\" && !this.productCodePattern.test(product.code))\r\n              isValid = false;\r\n            if (!isValid) {\r\n              product[\"error_message\"] = this._translate.VALIDATION.required_productCode;\r\n              this.dataFail.push(product);\r\n            }\r\n            else\r\n              data.push(product);\r\n          }\r\n        }\r\n      });\r\n      this.countAll = _index;\r\n    }\r\n    let _lst = data.filter(p => p.name);\r\n    if (_lst.length > 0) {\r\n      if (type == \"THAY_THE\") {\r\n        this.productsService.clearData().subscribe((res: any) => {\r\n          if (res.status == \"success\") {\r\n            this.saveImport(_lst, 1);\r\n          } else {\r\n            Library.notify(this._translate.NOTIFY.an_error_occurred, \"error\")\r\n          }\r\n        })\r\n      } else if (type == \"THEM_TIEP\") {\r\n        this.saveImport(_lst, 1);\r\n      }\r\n    } else {\r\n      Library.notify(this._translate.NOTIFY.file_empty, \"error\")\r\n    }\r\n  }\r\n\r\n  saveImport = (data, page) => {\r\n    if (this.stopImport == true) {\r\n      return;\r\n    }\r\n\r\n    let numberPages = Math.floor(data.length / this.maximum_object_import) + 1;\r\n    let percentComplete = 100 / numberPages;\r\n    let timePerRow = 7;\r\n    let timeTotal = (numberPages) * timePerRow;\r\n    let pageData = {\r\n      \"products\": this.paginate(data, this.maximum_object_import, page)\r\n    };\r\n\r\n    this.productsService.importData(pageData).subscribe((res: any) => {\r\n      timeTotal = timeTotal - (page * timePerRow)\r\n      this.timeRemain = `, ${this._translate.NOTIFY.time_remaining}: ${moment.utc(timeTotal * 1000).format('HH:mm:ss')}.`\r\n\r\n      if (res.status == \"success\") {\r\n        this.valueProgress += percentComplete;\r\n        if (page < numberPages) {\r\n          this.saveImport(data, page + 1)\r\n        }\r\n\r\n        if (res.data.product_errors.length != 0) {\r\n          res.data.product_errors.forEach(error => {\r\n            delete error.id;\r\n            delete error.account_id;\r\n            delete error.group_code;\r\n            delete error.student_reduce_rate_code;\r\n            delete error.order;\r\n            delete error.status;\r\n            if (error.object_code == \"CA_NHAN\") {\r\n              error.object_code = \"X\";\r\n            } else {\r\n              error.object_code = \"\";\r\n            }\r\n          });\r\n          let tr = this.dataFail.length;\r\n          this.dataFail = this.dataFail.concat(res.data.product_errors);\r\n        }\r\n        let _soBanGhiLoi = (res.data.product_errors ? res.data.product_errors.length : 0);\r\n        this.importSuccess = this.countAll - this.dataFail.length + 4;\r\n        let banghiloi = this.countAll - this.importSuccess + _soBanGhiLoi;\r\n        //  this.importSuccess = this.countAll - _soBanGhiLoi;\r\n        if (page == numberPages) {\r\n          this.valueProgress = 100;\r\n          this.productsService.confirmClearData().subscribe((res: any) => {\r\n            if (res.status == \"success\") {\r\n              this.thongbao = `${this._translate.NOTIFY.import} ${this.importSuccess}/${this.countAll} bn ghi (C ${banghiloi} bn ghi li.)`;\r\n              this.timeRemain = \"\";\r\n              if (this.importSuccess < this.countAll) {\r\n                this.visibleGetError = true;\r\n                // this.layBanGhiLoi(res.data.product_errors);\r\n              }\r\n              else {\r\n                this.showPopup = false;\r\n                Library.notify(this._translate.NOTIFY.import_success, 'success');\r\n              }\r\n            }\r\n          })\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n  format = (value) => {\r\n    let percent = Math.round(value * 100);\r\n    return `${this._translate.NOTIFY.finish}: ` + percent + '%' + this.timeRemain;\r\n  }\r\n\r\n  paginate(array, page_size, page_number) {\r\n    --page_number; // because pages logically start with 1, but technically with 0\r\n    return array.slice(page_number * page_size, (page_number + 1) * page_size);\r\n  }\r\n\r\n  onImportShowing(e) {\r\n    this.stopImport = false;\r\n  }\r\n  onImportHiding(e) {\r\n    let r = true;\r\n    if (this.valueProgress < 100) {\r\n      r = confirm(this._translate.CONFIRM.import_data);\r\n    }\r\n    if (r) {\r\n      this.stopImport = true;\r\n      this.dataSource = {};\r\n      this.loadList();\r\n      this.valueProgress = 0;\r\n      this.isDisable = false;\r\n      this.thongbao = \"\";\r\n      this.dataFail = new Array();\r\n      if (this.currentUser.account.account_type == \"HS-SV\")\r\n        this.dataFail = this.dataFail.concat(this.headerStudent);\r\n      else\r\n        this.dataFail = this.dataFail.concat(this.header);\r\n    } else {\r\n      e.cancel = true;\r\n    }\r\n  }\r\n\r\n  layBanGhiLoi(dataFail) {\r\n    if (this.valueProgress < 100) {\r\n      Library.notify(this._translate.NOTIFY.import_error, \"error\");\r\n    } else {\r\n      const ws: XLSX.WorkSheet = XLSX.utils.json_to_sheet(this.dataFail);\r\n      const wb: XLSX.WorkBook = XLSX.utils.book_new();\r\n      var wscols = [\r\n        { wpx: 130 }, // \"pixels\"\r\n        { wpx: 130 },\r\n        { wpx: 200 },\r\n        { wpx: 130 },\r\n        { wpx: 130 },\r\n        { wpx: 80 },\r\n        { wpx: 80 },\r\n        { wpx: 80 },\r\n        { wpx: 80 },\r\n        { wpx: 80 },\r\n        { wpx: 80 },\r\n        { wpx: 100 },\r\n        { wpx: 400 }\r\n      ];\r\n      var wsrows = [\r\n        { hidden: true }, // hide row\r\n      ];\r\n      ws['!cols'] = wscols;\r\n      ws['!rows'] = wsrows;\r\n      XLSX.utils.book_append_sheet(wb, ws, 'Sheet1');\r\n\r\n      XLSX.writeFile(wb, 'danh_sach_loi.xlsx');\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IndexComponent } from './components/index/index.component';\r\nimport { DxTreeListModule } from 'devextreme-angular';\r\n//library\r\nimport { devextremeModule } from '@core/index';\r\n\r\n//general\r\nimport { routing } from './products.routing';\r\nimport { SharedModule } from '@shared/index';\r\nimport { ProductsService, ProductsResolver } from './shared';\r\nimport { AddComponent } from './components/add/add.component';\r\nimport { AddGroupProductComponent } from './components/add-group-product/add-group-product.component';\r\nimport { AddUnitCodeComponent } from './components/add-unit-code/add-unit-code.component';\r\nimport { AddWavehourseComponent } from './components/add-wavehourse/add-wavehourse.component';\r\nimport { vTranslateModule } from '@core/module/v-translate.module';\r\nimport { AddRevenueComponent } from './components/add-revenue/add-revenue.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    routing,\r\n    devextremeModule,\r\n    DxTreeListModule,\r\n    SharedModule,\r\n    vTranslateModule\r\n  ],\r\n  declarations: [IndexComponent, AddComponent, AddGroupProductComponent, AddUnitCodeComponent, AddWavehourseComponent, AddRevenueComponent],\r\n  entryComponents: [\r\n    AddComponent,\r\n    AddGroupProductComponent,\r\n    AddUnitCodeComponent,\r\n    AddWavehourseComponent,\r\n    AddRevenueComponent\r\n  ],\r\n  providers: [ProductsService, ProductsResolver]\r\n})\r\nexport class ProductsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IndexComponent } from './components/index/index.component';\r\nimport { ProductsResolver } from './shared';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: IndexComponent, resolve: {configs: ProductsResolver}},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class routing {}\r\n"],"sourceRoot":""}