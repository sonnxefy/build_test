{"version":3,"sources":["webpack:///./src/app/modules/warehouses/components/index/index.component.html","webpack:///./src/app/modules/warehouses/components/index/index.component.scss","webpack:///./src/app/modules/warehouses/components/index/index.component.ts","webpack:///./src/app/modules/warehouses/warehouses.module.ts","webpack:///./src/app/modules/warehouses/warehouses.routing.ts"],"names":[],"mappings":"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","file":"warehouses-warehouses-module.js","sourcesContent":["module.exports = \"<div class=\\\"list-header row\\\">\\r\\n  <div class=\\\"col-md-4\\\">\\r\\n      <div class=\\\"pull-left\\\">\\r\\n          <!-- <div class=\\\"list-title\\\">\\r\\n              <h2>DANH SÁCH DANH MỤC ĐỐI TƯỢNG</h2>\\r\\n          </div> -->\\r\\n      </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-8\\\">\\r\\n        <div class=\\\"pull-right button-panel\\\">\\r\\n            <dx-button id=\\\"add\\\" (click)=\\\"add()\\\" icon=\\\"{{_translate.ICONS.plus}}\\\" text=\\\"{{_translate.CONTROLL.BUTTON.add}}\\\" type=\\\"default\\\"\\r\\n            ></dx-button>\\r\\n            <!-- <dx-button id=\\\"edit\\\" (click)=\\\"edit()\\\" icon=\\\"{{_translate.ICONS.edit}}\\\" text=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" type=\\\"default\\\" \\r\\n            ></dx-button> -->\\r\\n            <dx-button id=\\\"delete\\\" (click)=\\\"delete(null)\\\" icon=\\\"{{_translate.ICONS.delete}}\\\" text=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" type=\\\"default\\\" \\r\\n            ></dx-button>\\r\\n            <dx-button (click)=\\\"integrateCRM()\\\" [visible]=\\\"isIntegrateCRM\\\" icon=\\\"assets\\\\img\\\\icons\\\\NapDuLieu.png\\\" text=\\\"Đồng bộ CRM\\\" type=\\\"default\\\">\\r\\n            </dx-button>\\r\\n        </div>\\r\\n  </div>\\r\\n</div>\\r\\n<dx-data-grid \\r\\n  id=\\\"gridContainer\\\" \\r\\n  [dataSource]=\\\"dataSource\\\"\\r\\n  [(selectedRowKeys)]=\\\"selectedRows\\\"\\r\\n  [showRowLines]=\\\"true\\\"\\r\\n  [noDataText]=\\\"noDataText\\\"\\r\\n  [allowColumnResizing]=\\\"true\\\"\\r\\n  [columnMinWidth]=\\\"50\\\"\\r\\n  [columnAutoWidth]=\\\"true\\\"\\r\\n  [wordWrapEnabled]=\\\"true\\\">\\r\\n  <dxo-sorting mode=\\\"multiple\\\"></dxo-sorting>\\r\\n  <dxo-selection selectAllMode=\\\"page\\\" mode=\\\"multiple\\\">\\r\\n  </dxo-selection>      \\r\\n  <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel>\\r\\n  <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n  <dxi-column dataField=\\\"code\\\" caption=\\\"{{_translate.GRID.WAREHOUSES.code}}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n    [filterOperations]=\\\"['contains', '=']\\\" [width]=\\\"150\\\"></dxi-column>\\r\\n  <dxi-column dataField=\\\"name\\\" caption=\\\"{{_translate.GRID.WAREHOUSES.name}}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n    [filterOperations]=\\\"['contains', '=']\\\" [width]=\\\"250\\\"></dxi-column>\\r\\n    <dxi-column dataField=\\\"address\\\" caption=\\\"{{_translate.CONTROLL.LABEL.address}}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n    [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n  <dxi-column dataField=\\\"note\\\" caption=\\\"{{_translate.CONTROLL.LABEL.note}}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n    [filterOperations]=\\\"['contains', '=']\\\" [width]=\\\"150\\\"></dxi-column>\\r\\n  <!-- <dxi-column dataField=\\\"status\\\" caption=\\\"{{_translate.GRID.GENERAL.status}}\\\"  alignment=\\\"center\\\" [width]=\\\"180\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n    <dxo-lookup [dataSource]=\\\"statusFilter\\\" valueExpr=\\\"value\\\" displayExpr=\\\"text\\\"></dxo-lookup>\\r\\n  </dxi-column> -->\\r\\n  <dxi-column cellTemplate=\\\"actionIcon\\\"  minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\" width=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\"  alignment=\\\"center\\\"></dxi-column>\\r\\n  <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n    <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"edit(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"delete(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n    <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n  </div>\\r\\n  \\r\\n  <dxo-remote-operations [sorting]=\\\"true\\\"  [filtering]=\\\"true\\\" [paging]=\\\"true\\\">\\r\\n  </dxo-remote-operations>\\r\\n  <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n    <dxo-pager \\r\\n        [showPageSizeSelector]=\\\"true\\\" \\r\\n        [allowedPageSizes]=\\\"[15, 50, 100]\\\"\\r\\n        [showNavigationButtons]=\\\"true\\\"\\r\\n        [showInfo]=\\\"true\\\"\\r\\n        infoText=\\\"{{ _translate.DXO_PAGER.page}}\\\">\\r\\n    </dxo-pager>\\r\\n</dx-data-grid>\\r\\n\"","module.exports = \".list-header .dx-selectbox{border-radius:0;display:inline-block;margin-right:8px;width:330px;height:28px;max-height:32px}\\n\"","import { Component, OnInit, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ListsService } from '@modules/lists/shared';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { Library, AuthService } from '@core/index';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { Wavehourse } from '@modules/products/shared';\r\nimport { ProductsService } from '@modules/products/shared';\r\nimport { AddWavehourseComponent } from '@shared/modules/some/components/add-wavehourse/add-wavehourse.component';\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.scss']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  dataSource: any = {};\r\n  selectedRows = [];\r\n  noDataText: string = \"Chưa có danh mục nào\";\r\n  bsModalRef: BsModalRef;\r\n  listtypes: any;\r\n  listtypeId: any;\r\n  selectedListtypeDefault: any;\r\n  modify_able: any;\r\n  statusFilter: any;\r\n  isIntegrateCRM = false;\r\n  listsIntegrateCRM = [\"DM_NHOM_HANG_HOA\", \"DM_HINH_THUC_THANH_TOAN\", \"DM_NHOM_KHACH_HANG\", \"DM_DON_VI_TINH\"];\r\n  listIntegrateCRMCode: any;\r\n  configCRM: any;\r\n  _translate: any;\r\n  wavehourse: any;\r\n  wavehourses: any;\r\n  constructor(\r\n    private authService: AuthService,\r\n    private listsService: ListsService,\r\n    private modalService: BsModalService,\r\n    private cdr: ChangeDetectorRef,\r\n    private route: ActivatedRoute,\r\n    private productsService: ProductsService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    this.statusFilter = [{\r\n      text: \"Hoạt động\",\r\n      value: \"HOAT_DONG\"\r\n    }, {\r\n      text: \"Không hoạt động\",\r\n      value: \"KHONG_HOAT_DONG\"\r\n    }];\r\n  }\r\n\r\n  ngOnInit() {\r\n    //this.loadList();\r\n    this.loadList();\r\n\r\n    this.route.data.subscribe((data: any) => {\r\n      data.configs.forEach(config => {\r\n        if (config.name == \"integrate_parameter\") {\r\n          this.configCRM = JSON.parse(config.value).integrate_crm;\r\n        }\r\n      });\r\n    });\r\n  }\r\n  loadList() {\r\n    this.productsService.loadAllWavehourses().subscribe((response) => {\r\n      this.dataSource = response.data['wavehourses'];\r\n    });\r\n  }\r\n  getListtypes() {\r\n    this.listsService.getAllListtype().subscribe(res => {\r\n      this.listtypes = res.data.listtypes;\r\n      this.selectedListtypeDefault = this.listtypes.find(item => item.code == \"DM_DON_VI_TINH\").id;\r\n    });\r\n  }\r\n  add() {\r\n    this.wavehourse = new Wavehourse();\r\n    this.wavehourse.order = this.dataSource.length + 1;\r\n    const initialState = {\r\n      wavehourse: this.wavehourse,\r\n      onSave: (wavehourse) => {\r\n        this.wavehourse = wavehourse;\r\n        // this.wavehourses.push({\r\n        //   id: wavehourse.id,\r\n        //   name: wavehourse.name,\r\n        //   code: wavehourse.code,\r\n        // });\r\n        this.productsService.loadAllWavehourses().subscribe((response) => {\r\n          this.dataSource = response.data['wavehourses'];\r\n        });\r\n      }\r\n    };\r\n    this.bsModalRef = this.modalService.show(AddWavehourseComponent, {\r\n      class: 'modal-lg', initialState, backdrop: 'static',\r\n      keyboard: false\r\n    });\r\n  }\r\n\r\n  edit(data) {\r\n    let id = data ? data.id : (this.selectedRows[0].length == 0 ? \"\" : this.selectedRows[0]);\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      Library.showloading();\r\n      this.productsService.getWavehourse(id).subscribe(response => {\r\n        let wavehourse = response.data.wavehourse;\r\n        const initialState = {\r\n          wavehourse\r\n        };\r\n        this.bsModalRef = this.modalService.show(AddWavehourseComponent, {\r\n          class: 'modal-lg full-modal', initialState, backdrop: 'static',\r\n          keyboard: false\r\n        });\r\n        this.modalService.onHide.subscribe(() => {\r\n          if (this.bsModalRef.content.successSaveItem) {\r\n            //this.dataGrid.instance.refresh();\r\n            this.dataSource = {};\r\n            this.loadList();\r\n          }\r\n        });\r\n        Library.hideloading();\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  delete(data) {\r\n    let id = null;\r\n    if (data)\r\n      id = data.id;\r\n    else {\r\n      if (this.selectedRows) {\r\n        if (this.selectedRows.length == 0)\r\n          id = \"\";\r\n        else {\r\n          let arrId = [];\r\n          this.selectedRows.forEach(element => {\r\n            arrId.push(element.id);\r\n          });\r\n          id = arrId.join(',');\r\n        }\r\n      }\r\n    }\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      var result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n      if (result) {\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            this.productsService.deleteWavehourse(id).subscribe((response: any) => {\r\n              if (response.status === \"success\") {\r\n                Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                this.dataSource = {};\r\n                this.loadList();\r\n              } else {\r\n                Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  \r\n  integrateCRM() {\r\n    Library.showloading();\r\n    this.listsService.integrateCRM(this.listIntegrateCRMCode).subscribe((res) => {\r\n      if (res.status == \"success\") {\r\n        Library.notify(\"Đồng bộ dữ liệu thành công\", 'success');\r\n        this.dataSource = {};\r\n        this.loadList();\r\n      } else {\r\n        Library.notify(\"Có lỗi khi đồng bộ dữ liệu\", 'error');\r\n      }\r\n      Library.hideloading();\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { WarehousesRoutingModule } from './warehouses.routing';\r\nimport { IndexComponent } from './components/index/index.component';\r\nimport { DxTreeListModule } from 'devextreme-angular';\r\nimport { SharedModule, VatSharedModule, SomeModule, CreateInvoiceGuard } from '@shared/index';\r\n//library\r\nimport { devextremeModule } from '@core/index';\r\nimport { ProductsService } from '@modules/products/shared';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    WarehousesRoutingModule,\r\n    devextremeModule,\r\n    DxTreeListModule,\r\n    SharedModule,\r\n    VatSharedModule,\r\n    SomeModule,\r\n  ],\r\n  declarations: [IndexComponent],\r\n  providers:[ProductsService]\r\n})\r\nexport class WarehousesModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IndexComponent } from './components/index/index.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: IndexComponent},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class WarehousesRoutingModule { }\r\n"],"sourceRoot":""}