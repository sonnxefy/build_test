{"version":3,"sources":["webpack:///./src/app/modules/customers/components/index/index.component.html","webpack:///./src/app/modules/customers/components/index/index.component.scss","webpack:///./src/app/modules/customers/components/index/index.component.ts","webpack:///./src/app/modules/customers/customers.module.ts","webpack:///./src/app/modules/customers/customers.routing.ts"],"names":[],"mappings":"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","file":"customers-customers-module.js","sourcesContent":["module.exports = \"<div class=\\\"list-header row\\\">\\r\\n  <div class=\\\"col-md-6\\\">\\r\\n          <div *ngIf=\\\"!isKhoiDoanhNghiep\\\" id=\\\"config-tabs\\\">\\r\\n              <dx-tabs [dataSource]=\\\"tabs\\\" [selectedIndex]=\\\"0\\\" (onItemClick)=\\\"selectTab($event)\\\">\\r\\n            \\r\\n              </dx-tabs>\\r\\n            </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-6\\\">\\r\\n      <div class=\\\"pull-right button-panel\\\">\\r\\n          <dx-button id=\\\"add\\\" (click)=\\\"add()\\\" icon=\\\"assets\\\\img\\\\icons\\\\Them.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.add' | translate }}\\\" type=\\\"default\\\"></dx-button>\\r\\n          <!-- <dx-button id=\\\"edit\\\" (click)=\\\"edit()\\\" icon=\\\"assets\\\\img\\\\icons\\\\Sua.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.edit' | translate }}\\\" type=\\\"default\\\" \\r\\n            [disabled]=\\\"!(selectedRows.length == 1)\\\"></dx-button> -->\\r\\n          <!-- <dx-button id=\\\"delete\\\" (click)=\\\"delete()\\\" icon=\\\"assets\\\\img\\\\icons\\\\Xoa.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.delete' | translate }}\\\" type=\\\"default\\\" \\r\\n            [disabled]=\\\"!selectedRows.length\\\"></dx-button> -->\\r\\n          <!-- <dx-button id=\\\"getfile\\\" (click)=\\\"getFileTemp()\\\" icon=\\\"assets\\\\img\\\\icons\\\\LayFileMau.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.get_the_sample_file' | translate }}\\\" type=\\\"default\\\"></dx-button> -->\\r\\n          <!-- <a href=\\\"javascript:void(0)\\\" (click)=\\\"napDuLieuTuBangKe()\\\" class=\\\"support-link\\\"> -->\\r\\n            <input type=\\\"file\\\" id=\\\"file-bang-ke\\\" accept=\\\".xlsx\\\" (change)=\\\"onFileChanged($event)\\\" multiple=\\\"false\\\" style=\\\"display: none;\\\"/>\\r\\n            <!-- <img src=\\\"assets/img/icons/NapDuLieu.png\\\"><span>{{ 'CONTROLL.BUTTON.import_data' | translate }}</span>\\r\\n          </a> -->\\r\\n          <dx-menu\\r\\n          [dataSource]=\\\"extras\\\"\\r\\n          displayExpr=\\\"name\\\"\\r\\n          orientation=\\\"horizontal\\\"\\r\\n          submenuDirection=\\\"auto\\\"\\r\\n          (onItemClick)=\\\"itemExtrasClick($event)\\\"\\r\\n          cssClass='button-dropdown-extend'>\\r\\n        </dx-menu>\\r\\n      </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Khách hàng -->\\r\\n<div *ngIf=\\\"isCustomer\\\">\\r\\n<dx-data-grid \\r\\n  id=\\\"gridContainer\\\" \\r\\n  [dataSource]=\\\"dataSource\\\"\\r\\n  [(selectedRowKeys)]=\\\"selectedRows\\\"\\r\\n  [showRowLines]=\\\"true\\\"\\r\\n  [noDataText]=\\\"noDataText\\\"\\r\\n  [allowColumnResizing]=\\\"true\\\"\\r\\n  [columnMinWidth]=\\\"50\\\"\\r\\n  \\r\\n  [wordWrapEnabled]=\\\"true\\\">\\r\\n  <dxo-sorting mode=\\\"multiple\\\"></dxo-sorting>\\r\\n  <dxo-selection selectAllMode=\\\"page\\\" mode=\\\"multiple\\\">\\r\\n  </dxo-selection>\\r\\n  <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n  <dxi-column dataField=\\\"code\\\" caption=\\\"{{ 'CONTROLL.LABEL.customer_code' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n   [width]=\\\"125\\\" [filterOperations]=\\\"['contains', '=']\\\" ></dxi-column>\\r\\n  <dxi-column dataField=\\\"name\\\" caption=\\\"{{ 'GRID.INVOICE.customer_name' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n   [filterOperations]=\\\"['contains', '=']\\\" sortOrder=\\\"asc\\\" ></dxi-column>\\r\\n  <dxi-column dataField=\\\"tax_code\\\" caption=\\\"{{ 'GRID.INVOICE.buyer_tax_code' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n   [width]=\\\"125\\\" [filterOperations]=\\\"['contains', '=']\\\" ></dxi-column>\\r\\n  <dxi-column dataField=\\\"surrogate_name\\\" caption=\\\"{{ 'GRID.CUSTOMER.surrogate_name' | translate }}\\\" alignment=\\\"left\\\" [width]=\\\"145\\\"\\r\\n    [filterOperations]=\\\"['contains', '=']\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"></dxi-column>\\r\\n  <dxi-column dataField=\\\"contact_person_name\\\" caption=\\\"{{ 'CONTROLL.LABEL.buyer_name' | translate }}\\\" alignment=\\\"left\\\" [width]=\\\"145\\\"\\r\\n    [filterOperations]=\\\"['contains', '=']\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"></dxi-column>\\r\\n    <dxi-column dataField=\\\"business_address\\\" caption=\\\"{{ 'CONTROLL.LABEL.address' | translate }}\\\" alignment=\\\"left\\\" [width]=\\\"145\\\"\\r\\n    [filterOperations]=\\\"['contains', '=']\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"></dxi-column>\\r\\n  <dxi-column dataField=\\\"note\\\" caption=\\\"{{ 'CONTROLL.LABEL.note' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n    [width]=\\\"180\\\" [filterOperations]=\\\"['contains', '=']\\\" ></dxi-column>\\r\\n  <dxi-column dataField=\\\"status\\\" caption=\\\"{{ 'GRID.GENERAL.status' | translate }}\\\"  alignment=\\\"center\\\" [width]=\\\"130\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n    <dxo-lookup [dataSource]=\\\"statusFilter\\\" valueExpr=\\\"value\\\" displayExpr=\\\"text\\\"></dxo-lookup>\\r\\n  </dxi-column>\\r\\n  <dxi-column cellTemplate=\\\"actionIcon\\\"  minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\" width=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\"  alignment=\\\"center\\\"></dxi-column>\\r\\n  <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n    <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"edit(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"delete(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n  </div>\\r\\n  <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\"  [filtering]=\\\"true\\\">\\r\\n  </dxo-remote-operations>\\r\\n  <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n  <dxo-pager \\r\\n      [showPageSizeSelector]=\\\"true\\\" \\r\\n      [allowedPageSizes]=\\\"[15, 50, 100]\\\"\\r\\n      [showNavigationButtons]=\\\"true\\\"\\r\\n      [showInfo]=\\\"true\\\"\\r\\n      infoText=\\\"Trang {0} trong {1} trang của {2} dòng\\\">\\r\\n  </dxo-pager>\\r\\n</dx-data-grid>\\r\\n</div>\\r\\n<!-- End -->\\r\\n\\r\\n<!-- Học sinh sinh viên -->\\r\\n<div *ngIf=\\\"isStudent\\\">\\r\\n  <dx-data-grid \\r\\n    id=\\\"gridContainer\\\" \\r\\n    [dataSource]=\\\"dataSourceHSSV\\\"\\r\\n    [(selectedRowKeys)]=\\\"selectedRowsHSSV\\\"\\r\\n    [showRowLines]=\\\"true\\\"\\r\\n    [noDataText]=\\\"noDataTextHSSV\\\"\\r\\n    [allowColumnResizing]=\\\"true\\\"\\r\\n    [columnMinWidth]=\\\"50\\\"\\r\\n    [wordWrapEnabled]=\\\"true\\\">\\r\\n    <dxo-sorting mode=\\\"multiple\\\"></dxo-sorting>\\r\\n    <dxo-selection selectAllMode=\\\"page\\\" mode=\\\"multiple\\\">\\r\\n    </dxo-selection>\\r\\n    <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n    <!-- Mã HS-SV -->\\r\\n    <dxi-column dataField=\\\"code\\\" caption=\\\"{{ 'CONTROLL.LABEL.code_student' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n     [width]=\\\"125\\\" [filterOperations]=\\\"['contains', '=']\\\" ></dxi-column>\\r\\n     <!-- Tên HS-SV -->\\r\\n    <dxi-column dataField=\\\"name\\\" caption=\\\"{{ 'CONTROLL.LABEL.name_student' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n     [filterOperations]=\\\"['contains', '=']\\\" ></dxi-column>\\r\\n     <!-- Lớp -->\\r\\n    <dxi-column dataField=\\\"class_code\\\" caption=\\\"{{ 'CONTROLL.LABEL.class' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n     [width]=\\\"125\\\" [filterOperations]=\\\"['contains', '=']\\\" sortOrder=\\\"asc\\\"  >\\r\\n     <dxo-lookup [dataSource]=\\\"classCodes\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <!-- Số thứ tự ẩn -->\\r\\n    <dxi-column dataField=\\\"order\\\" alignment=\\\"center\\\" [visible]=\\\"false\\\" sortOrder=\\\"asc\\\"></dxi-column>\\r\\n     <!-- Cha mẹ / Người giám hộ -->\\r\\n    <dxi-column dataField=\\\"guardians\\\" caption=\\\"{{ 'CONTROLL.LABEL.parent'| translate }} / {{ 'CONTROLL.LABEL.guardians'| translate }}\\\" alignment=\\\"left\\\" [width]=\\\"145\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"></dxi-column>\\r\\n      <!-- Tỷ lệ miễn giảm -->\\r\\n    <dxi-column dataField=\\\"student_reduce_rate_code\\\" caption=\\\"{{ 'CONTROLL.LABEL.exemption_and_reduction_rates' | translate }}\\\" alignment=\\\"left\\\" [width]=\\\"145\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n      <dxo-lookup [dataSource]=\\\"student_reduce_rate_codes\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <!-- Địa chỉ -->\\r\\n    <dxi-column dataField=\\\"address\\\" caption=\\\"{{ 'CONTROLL.LABEL.address' | translate }}\\\" alignment=\\\"left\\\" [width]=\\\"145\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"></dxi-column>\\r\\n    <!-- Ghi chú -->\\r\\n    <dxi-column dataField=\\\"note\\\" caption=\\\"{{ 'CONTROLL.LABEL.note' | translate }}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\"\\r\\n      [width]=\\\"180\\\" [filterOperations]=\\\"['contains', '=']\\\" ></dxi-column>\\r\\n    <!-- Trạng thái -->\\r\\n    <dxi-column dataField=\\\"status\\\" caption=\\\"{{ 'GRID.GENERAL.status' | translate }}\\\"  alignment=\\\"center\\\" [width]=\\\"130\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n      <dxo-lookup [dataSource]=\\\"statusFilter\\\" valueExpr=\\\"value\\\" displayExpr=\\\"text\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <!-- Thêm, sửa, xóa -->\\r\\n    <dxi-column cellTemplate=\\\"actionIcon\\\"  minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\" width=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\"  alignment=\\\"center\\\"></dxi-column>\\r\\n    <!-- Template -->\\r\\n    <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n      <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n    </div>\\r\\n    <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"editHSSV(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"deleteHSSV(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n    </div>\\r\\n    <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\"  [filtering]=\\\"true\\\">\\r\\n    </dxo-remote-operations>\\r\\n    <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n    <dxo-pager \\r\\n        [showPageSizeSelector]=\\\"true\\\" \\r\\n        [allowedPageSizes]=\\\"[15, 50, 100]\\\"\\r\\n        [showNavigationButtons]=\\\"true\\\"\\r\\n        [showInfo]=\\\"true\\\"\\r\\n        infoText=\\\"Trang {0} trong {1} trang của {2} dòng\\\">\\r\\n    </dxo-pager>\\r\\n  </dx-data-grid>\\r\\n  </div>\\r\\n<!-- End -->\\r\\n\\r\\n<!-- popup -->\\r\\n<dx-popup\\r\\nclass=\\\"popup\\\"\\r\\n[width]=\\\"400\\\"\\r\\n[height]=\\\"255\\\"\\r\\n[showTitle]=\\\"true\\\"\\r\\ntitle=\\\"{{ 'CONTROLL.BUTTON.import_data' | translate }}\\\"\\r\\n[dragEnabled]=\\\"false\\\"\\r\\n(onHiding)=\\\"onImportHiding($event)\\\"\\r\\n(onShowing)=\\\"onImportShowing($event)\\\"\\r\\n[(visible)]=\\\"showPopupImport\\\">\\r\\n<div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n  <p style=\\\"margin-bottom: 10px\\\">Tên file:\\r\\n    <span>{{fileName}}</span>\\r\\n  </p>\\r\\n  <p style=\\\"margin-bottom: 10px\\\">Dung lượng:\\r\\n    <span>{{fileSize | number:'1.0-2'}}KB</span>\\r\\n  </p>\\r\\n  <div style=\\\"height: 30px;\\\">\\r\\n    <dx-progress-bar \\r\\n      [min]=\\\"0\\\" \\r\\n      [max]=\\\"100\\\" \\r\\n      [value]=\\\"valueProgress\\\"\\r\\n      [statusFormat]=\\\"format\\\"\\r\\n      [visible]=\\\"visibleProgressBar\\\">\\r\\n    </dx-progress-bar>\\r\\n  </div>\\r\\n  <p style=\\\"height: 25px;\\\">\\r\\n      <span>{{thongbao}}</span>\\r\\n    </p>\\r\\n    <p style=\\\"height: 25px;\\\">\\r\\n      <a href=\\\"javascript:void(0)\\\" (click)=\\\"layBanGhiLoi()\\\" *ngIf=\\\"visibleGetError\\\" style=\\\" color: red;\\\">* Lấy bản ghi lỗi</a>\\r\\n    </p>\\r\\n  <div class=\\\"pull-right\\\">\\r\\n    <dx-button (click)=\\\"thayTheToanBo()\\\" [disabled]=\\\"isDisable\\\" text=\\\"Thay thế toàn bộ\\\" type=\\\"default\\\"></dx-button>\\r\\n    <dx-button (click)=\\\"themTiep()\\\" [disabled]=\\\"isDisable\\\" text=\\\"Thêm tiếp\\\" type=\\\"default\\\"></dx-button>\\r\\n  </div>\\r\\n</div>\\r\\n</dx-popup>\\r\\n\\r\\n<dx-popup\\r\\nclass=\\\"popup\\\"\\r\\n[width]=\\\"400\\\"\\r\\n[height]=\\\"180\\\"\\r\\n[showTitle]=\\\"true\\\"\\r\\ntitle=\\\"Lấy file mẫu\\\"\\r\\n[dragEnabled]=\\\"false\\\"\\r\\n[(visible)]=\\\"showPopupGetFile\\\">\\r\\n<div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n  <p style=\\\"margin-bottom: 40px\\\">Hãy lựa chọn hình thức lấy file mẫu?</p>\\r\\n  \\r\\n  <div class=\\\"pull-right\\\">\\r\\n    <dx-button (click)=\\\"fileCoDuLieu()\\\"  text=\\\"File có dữ liệu\\\" type=\\\"default\\\"></dx-button>\\r\\n    <dx-button (click)=\\\"fileTrang()\\\"  text=\\\"File trắng\\\" type=\\\"default\\\"></dx-button>\\r\\n  </div>\\r\\n</div>\\r\\n</dx-popup>\"","module.exports = \".popup-import .dx-popup-content .dx-fileuploader{min-height:135px}.popup-import .dx-popup-content #import-btn{float:right;margin-top:45px}.support-link{padding:5px 15px 7px 15px;background-color:#337ab7;border-color:#2d6da3;color:#fff;text-decoration:none}.support-link.mgr-15{margin-right:15px}.support-link img{margin-right:10px;margin-top:-2px}#auto-input{margin-right:75px}#config-tabs{width:100%;border-bottom:1px solid #ddd}#config-tabs .dx-tabs{width:50%;border-bottom:0}::ng-deep #config-tabs .dx-tab{padding:3px}\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Customer, CustomersService, Student } from '@modules/customers/shared';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { AddCustomerComponent } from '@shared/index';\r\nimport { AddStudentComponent } from '@shared/components/add-student/add-student.component';\r\nimport { AuthService, Helper, Library, sEnum } from '@core/index';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { VSelectBoxService } from '@core/library/public/v-select-box.service';\r\nimport * as XLSX from 'xlsx';\r\nimport { pattern } from '@config/index';\r\nimport * as moment from 'moment';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ProductsService } from '@modules/products/shared';\r\nimport { ConvertClassComponent } from '@shared/components/convert-class/convert-class.component';\r\nimport { ListsService } from '@modules/lists/shared';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.scss']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  dataSource: any = {};\r\n  dataSourceHSSV: any = {};\r\n  selectedRows = [];\r\n  selectedRowsHSSV = [];\r\n  noDataText = 'Chưa có khách hàng nào';\r\n  bsModalRef: BsModalRef;\r\n  groupCodes: any;\r\n  studentReduceRateCodes: any;\r\n  objectCodes: any;\r\n  listtypes: any;\r\n  user: any;\r\n  statusFilter: any;\r\n  tabs = [];\r\n  classCodes: any;\r\n  revenues: any;\r\n  student_reduce_rate_codes: any;\r\n  dataExcelFile: any;\r\n  classCodeListTypeId: any;\r\n  showPopupImport = false;\r\n  showPopupGetFile = false;\r\n  fileName: any;\r\n  fileSize: any;\r\n  valueProgress = 0;\r\n  maximum_object_import: any;\r\n  timeRemain = '';\r\n  importSuccess: any;\r\n  sub: any;\r\n  extras = [];\r\n  header = [{\r\n    code: 'NẠP DANH SÁCH KHÁCH HÀNG'\r\n  }, {\r\n    code: '* Ghi chú: - Cột chữ màu đỏ, đơn vị phải nhập nội dung.↵- Cột (3), đối với khách hàng là cá nhân đánh dấu \\'X\\' tương ứng↵- Cột (4), thể hiện Tên Tổ chức / Cá nhân↵- Cột (5), thể hiện địa chỉ đăng ký kinh doanh đối với Tổ chức hoặc địa chỉ viết hóa đơn đối với Cá nhân'\r\n  }, {\r\n    code: 'Mã khách hàng',\r\n    tax_code: 'MST/MNS ',\r\n    object_code: 'Khách hàng cá nhân ↵(Đánh dấu X)',\r\n    name: 'Tên đơn vị, tổ chức / Tên cá nhân',\r\n    business_address: 'Địa chỉ đăng ký kinh doanh ',\r\n    transaction_address: 'Địa chỉ giao dịch',\r\n    surrogate_name: 'Người đại diện pháp luật',\r\n    surrogate_position: 'Chức vụ',\r\n    // bank_account_number: 'Số tài khoản',\r\n    bank_name: 'Ngân hàng',\r\n    contact_person_name: 'Họ tên người mua hàng',\r\n    contact_mobile: 'Điện thoại di động',\r\n    email: 'Email',\r\n    note: 'Ghi chú',\r\n    error_message: 'Nội dung lỗi'\r\n  }, {\r\n    code: '(1)',\r\n    tax_code: '(2)',\r\n    object_code: '(3)',\r\n    name: '(4)',\r\n    business_address: '(5)',\r\n    transaction_address: '(6)',\r\n    surrogate_name: '(7)',\r\n    surrogate_position: '(8)',\r\n    bank_account_number: '(9)',\r\n    bank_name: '(10)',\r\n    contact_person_name: '(11)',\r\n    contact_mobile: '(12)',\r\n    email: '(13)',\r\n    note: '(14)',\r\n  }\r\n  ];\r\n  headerStudent = [{\r\n    code: 'NẠP DANH SÁCH HỌC SINH - SINH VIÊN'\r\n  }, {\r\n    code: '* Ghi chú: - Cột chữ màu đỏ, đơn vị phải nhập nội dung.↵- Đối với cột Mã HS - SV: Nếu để trống thông tin này thì khi lưu dữ liệu phần mềm sẽ tự động tạo mã HS - SV để quản lý theo quy tắc: \"Tên HS - SV không dấu +8 ký tự của ngày tháng năm↵sinh\"; trường hợp mã đã có trên phần mềm thì sẽ tự sinh thêm ký tự từ A-Z ở sau ngày tháng năm sinh (Ví dụ học sinh họ tên Nguyễn Thu Hương sinh ngày 18/05/2008 thì phần mềm tự động sinh mã là:↵huong180508, học sinh khác cùng tên cùng ngày sinh thì mã là: huong180508a)↵- Cột \"Tỷ lệ miễn giảm học phí\": nếu để trống thì phần mềm sẽ lưu là \"Không miễn giảm\".  '\r\n  }, {\r\n    code: 'Mã HS - SV',\r\n    name: 'Họ và Tên HS - SV',\r\n    class_name: 'Tên lớp',\r\n    address: 'Địa chỉ ',\r\n    date_bith: 'Ngày tháng năm sinh',\r\n    student_reduce_rate_code: 'Tỷ lệ miễn giảm học phí',\r\n    guardians: 'Cha mẹ/ người giám hộ',\r\n    mobile: 'Điện thoại di động',\r\n    email: 'Email',\r\n    note: 'Ghi chú',\r\n    error_message: 'Nội dung lỗi'\r\n  }, {\r\n    code: '(1)',\r\n    name: '(2)',\r\n    class_name: '(3)',\r\n    address: '(4)',\r\n    date_bith: '(5)',\r\n    student_reduce_rate_code: '(6)',\r\n    guardians: '(7)',\r\n    mobile: '(8)',\r\n    email: '(9)',\r\n    note: '(10)',\r\n  }\r\n  ];\r\n  dataFail = [];\r\n  stopImport = false;\r\n  isDisable = false;\r\n  visibleGetError = false;\r\n  visibleProgressBar = false;\r\n  thongbao = '';\r\n  countAll: any;\r\n  _translate: any;\r\n  isStudent = true;\r\n  isCustomer = true;\r\n  isKhoiDoanhNghiep = true;\r\n  extrasStudent = [];\r\n  extrasCustomer = [];\r\n  listRoleBranchOrigin: Array<any>;\r\n  role_branch: boolean;\r\n\r\n  constructor(\r\n    private productsService: ProductsService,\r\n    private authService: AuthService,\r\n    private customersService: CustomersService,\r\n    private modalService: BsModalService,\r\n    public translate: TranslateService,\r\n    private listService: ListsService\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n    this.statusFilter = VSelectBoxService._statusFilter(this._translate);\r\n    this.tabs = VSelectBoxService._tabCustomer(this._translate);\r\n    this.user = this.authService.getCurrentUser();\r\n    this.extrasStudent = [{\r\n      id: '1',\r\n      name: this._translate.CONTROLL.BUTTON.extend,\r\n      items: [\r\n        {\r\n          id: 'XOA',\r\n          name: this._translate.CONTROLL.BUTTON.delete,\r\n          icon: this._translate.ICONS.delete\r\n        },\r\n        {\r\n          id: 'CHUYEN_LOP',\r\n          name: this._translate.CONTROLL.BUTTON.change_class,\r\n          icon: this._translate.ICONS.download\r\n        },\r\n        {\r\n          id: 'LAY_FILE_MAU',\r\n          name: this._translate.CONTROLL.BUTTON.get_the_sample_file,\r\n          icon: this._translate.ICONS.download\r\n        }, {\r\n          id: 'NAP_DU_LIEU',\r\n          name: this._translate.CONTROLL.BUTTON.import_data,\r\n          icon: this._translate.ICONS.import_data\r\n        },\r\n      ]\r\n    }];\r\n    this.extrasCustomer = [{\r\n      id: '1',\r\n      name: this._translate.CONTROLL.BUTTON.extend,\r\n      items: [\r\n        {\r\n          id: 'XOA',\r\n          name: this._translate.CONTROLL.BUTTON.delete,\r\n          icon: this._translate.ICONS.delete\r\n        },\r\n        {\r\n          id: 'LAY_FILE_MAU',\r\n          name: this._translate.CONTROLL.BUTTON.get_the_sample_file,\r\n          icon: this._translate.ICONS.download\r\n        }, {\r\n          id: 'NAP_DU_LIEU',\r\n          name: this._translate.CONTROLL.BUTTON.import_data,\r\n          icon: this._translate.ICONS.import_data\r\n        },\r\n      ]\r\n    }];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getAllListbyListtypeByCode();\r\n    this.loadList();\r\n    this.getListtypes();\r\n    this.getConfigs();\r\n\r\n    if (this.user.account.account_type == 'HS-SV') {\r\n      this.isStudent = true;\r\n      this.isCustomer = false;\r\n      this.isKhoiDoanhNghiep = false;\r\n      this.extras = this.extrasStudent;\r\n      this.dataFail = this.dataFail.concat(this.headerStudent);\r\n    } else {\r\n      this.isStudent = false;\r\n      this.isCustomer = true;\r\n      this.isKhoiDoanhNghiep = true;\r\n      this.extras = this.extrasCustomer;\r\n      this.dataFail = this.dataFail.concat(this.header);\r\n      this.role_branch = this.listService.getDataConfigLocalStorage();\r\n    }\r\n  }\r\n\r\n  loadList() {\r\n    this.dataSource.store = this.customersService.getAll();\r\n    this.dataSourceHSSV.store = this.customersService.getAllStudent();\r\n  }\r\n\r\n  getConfigs() {\r\n    this.customersService.getConfigs().subscribe((res: any) => {\r\n      res.data.configs.forEach(config => {\r\n        if (config.name === 'maximum_object_import') {\r\n          this.maximum_object_import = 100;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  async handleListRoleBranch(roleUser) {\r\n    let arrList: any;\r\n    arrList = await this.listService.handleGetDMtoCustomer(roleUser);\r\n    if (Array.isArray(arrList) && arrList.length) {\r\n      return this.listService.handleCheckAll(arrList);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async add() {\r\n\r\n    if (this.isCustomer) {\r\n      this.listRoleBranchOrigin = [];\r\n      const customer = new Customer;\r\n      if (this.role_branch) {\r\n        const roleUser = await this.listService.getDataUserLocalStorege();\r\n        if (roleUser) {\r\n          this.listRoleBranchOrigin = await this.handleListRoleBranch(roleUser);\r\n        } else {\r\n          this.listRoleBranchOrigin = await this.listService.handleListRoleBranchUser();\r\n        }\r\n        if (Array.isArray(this.listRoleBranchOrigin) && this.listRoleBranchOrigin.length) {\r\n          if (this.listRoleBranchOrigin.length === 2) {\r\n            this.listRoleBranchOrigin = this.listRoleBranchOrigin.filter(value => {\r\n              if (value.code !== 'TAT_CA') {\r\n                value.checked = true;\r\n                return value;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n      const initialState = {\r\n        customer: customer,\r\n        totalCount: this.dataGrid.instance.totalCount(),\r\n        objectCodes: this.objectCodes,\r\n        role_branch: this.role_branch,\r\n        roleBranchStatus: this.listRoleBranchOrigin\r\n      };\r\n      this.bsModalRef = this.modalService.show(AddCustomerComponent, {\r\n        class: 'modal-lg full-modal',\r\n        initialState,\r\n        backdrop: 'static',\r\n        keyboard: false,\r\n      });\r\n    } else {\r\n      const initialState = {\r\n        totalCount: this.dataGrid.instance.totalCount(),\r\n        student_reduce_rate_codes: this.student_reduce_rate_codes,\r\n        classCodes: this.classCodes,\r\n        classCodeListTypeId: this.classCodeListTypeId,\r\n        objectCodes: this.objectCodes\r\n      };\r\n      this.bsModalRef = this.modalService.show(AddStudentComponent, {\r\n        class: 'modal-lg full-modal',\r\n        initialState,\r\n        backdrop: 'static',\r\n        keyboard: false,\r\n      });\r\n    }\r\n    this.modalService.onHide.subscribe(() => {\r\n      if (this.bsModalRef.content.successSaveItem) {\r\n        // this.dataGrid.instance.refresh();\r\n        this.dataSource = {};\r\n        this.dataSourceHSSV = {};\r\n        this.loadList();\r\n      }\r\n    });\r\n  }\r\n\r\n  async edit(data) {\r\n    const id = data ? data.id : (this.selectedRows[0].length === 0 ? '' : this.selectedRows[0]);\r\n\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      Library.showloading();\r\n      this.listRoleBranchOrigin = [];\r\n      if (this.role_branch) {\r\n        const roleUser = await this.listService.getDataUserLocalStorege();\r\n        if (roleUser) {\r\n          this.listRoleBranchOrigin = await this.handleListRoleBranch(roleUser);\r\n        } else {\r\n          this.listRoleBranchOrigin = await this.listService.handleListRoleBranchUser();\r\n        }\r\n      }\r\n      this.customersService.getCustomer(id).subscribe(response => {\r\n        const customer = response.data.customer;\r\n        if (this.role_branch && this.listRoleBranchOrigin) {\r\n          if (customer.role_branch) {\r\n            const role_branch = customer.role_branch.split(';');\r\n            let i = 0;\r\n            this.listRoleBranchOrigin.forEach((item) => {\r\n              if (role_branch.indexOf(item.code) !== -1) {\r\n                item.checked = true;\r\n                i++;\r\n              }\r\n            });\r\n            if (this.listRoleBranchOrigin.length - i === 1) {\r\n              this.listRoleBranchOrigin.forEach((item) => {\r\n                item.checked = true;\r\n              });\r\n            }\r\n          }\r\n        }\r\n        const initialState = {\r\n          customer: customer,\r\n          objectCodes: this.objectCodes,\r\n          role_branch: this.role_branch,\r\n          roleBranchStatus: this.listRoleBranchOrigin\r\n        };\r\n        this.bsModalRef = this.modalService.show(AddCustomerComponent, {\r\n          class: 'modal-lg full-modal',\r\n          initialState,\r\n          backdrop: 'static',\r\n          keyboard: false,\r\n        });\r\n        this.modalService.onHide.subscribe(() => {\r\n          if (this.bsModalRef.content.successSaveItem) {\r\n            // this.dataGrid.instance.refresh();\r\n            this.dataSource = {};\r\n            this.dataSourceHSSV = {};\r\n            this.loadList();\r\n          }\r\n        });\r\n        Library.hideloading();\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  //HS-SV\r\n  async editHSSV(data) {\r\n    const id = data ? data.id : (this.selectedRowsHSSV[0].length === 0 ? '' : this.selectedRowsHSSV[0]);\r\n\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      Library.showloading();\r\n      this.customersService.getStudent(id).subscribe(response => {\r\n        const student = response.data.student;\r\n        const initialState = {\r\n          student: student,\r\n          revenues: this.revenues,\r\n          student_reduce_rate_codes: this.student_reduce_rate_codes,\r\n          classCodeListTypeId: this.classCodeListTypeId,\r\n          classCodes: this.classCodes,\r\n          objectCodes: this.objectCodes\r\n        };\r\n        this.bsModalRef = this.modalService.show(AddStudentComponent, {\r\n          class: 'modal-lg full-modal',\r\n          initialState,\r\n          backdrop: 'static',\r\n          keyboard: false,\r\n        });\r\n        this.modalService.onHide.subscribe(() => {\r\n          if (this.bsModalRef.content.successSaveItem) {\r\n            // this.dataGrid.instance.refresh();\r\n            this.dataSource = {};\r\n            this.dataSourceHSSV = {};\r\n            this.loadList();\r\n          }\r\n        });\r\n        Library.hideloading();\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  delete(data) {\r\n    const id = data ? data.id : (this.selectedRows.length === 0 ? '' : this.selectedRows.join(','));\r\n\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n      if (result) {\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            Library.showloading();\r\n            this.customersService.delete(id).subscribe((response: any) => {\r\n              if (response.status === 'success') {\r\n                Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                this.dataSource = {};\r\n                this.dataSourceHSSV = {};\r\n                this.loadList();\r\n              } else {\r\n                Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n              }\r\n              Library.hideloading();\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteHSSV(data) {\r\n    const id = data ? data.id : (this.selectedRowsHSSV.length === 0 ? '' : this.selectedRowsHSSV.join(','));\r\n\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n      if (result) {\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            Library.showloading();\r\n            this.customersService.deleteStudent(id).subscribe((response: any) => {\r\n              if (response.status === 'success') {\r\n                Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                this.dataSource = {};\r\n                this.dataSourceHSSV = {};\r\n                this.loadList();\r\n              } else {\r\n                Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n              }\r\n              Library.hideloading();\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  getGroupCodes() {\r\n    this.listtypes.forEach(listtype => {\r\n      if (listtype.code === 'DM_NHOM_KHACH_HANG') {\r\n        this.customersService.getAllListsbyListtype(listtype.id).subscribe(res => {\r\n          this.groupCodes = res.data.lists;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getStudentReduceRateCodes() {\r\n    this.listtypes.forEach(listtype => {\r\n      if (listtype.code === 'DM_TY_LE_MIEN_GIAM_HOC_PHI') {\r\n        this.customersService.getAllListsbyListtype(listtype.id).subscribe(res => {\r\n          this.studentReduceRateCodes = res.data.lists;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getObjectCodes() {\r\n    this.listtypes.forEach(listtype => {\r\n      if (listtype.code === 'DM_DOI_TUONG_KHACH_HANG') {\r\n        this.customersService.getAllListsbyListtype(listtype.id).subscribe(res => {\r\n          this.objectCodes = res.data.lists;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getListtypes() {\r\n    this.customersService.getAllListtype().subscribe(res => {\r\n      this.listtypes = res.data.listtypes;\r\n      // this.getGroupCodes();\r\n      this.getStudentReduceRateCodes();\r\n      this.getObjectCodes();\r\n    });\r\n\r\n  }\r\n\r\n  // lay file mau\r\n  getFileTemp() {\r\n    this.showPopupGetFile = true;\r\n  }\r\n\r\n  fileCoDuLieu() {\r\n    Library.showloading();\r\n    if (this.isCustomer) {\r\n      this.customersService.getFileTempData().subscribe((res: any) => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.customer;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n        this.showPopupGetFile = false;\r\n        Library.hideloading();\r\n      });\r\n    } else {\r\n      this.customersService.getFileTempDataStudent().subscribe((res: any) => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.student;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n        this.showPopupGetFile = false;\r\n        Library.hideloading();\r\n      });\r\n    }\r\n  }\r\n\r\n  fileTrang() {\r\n    Library.showloading();\r\n    if (this.isCustomer) {\r\n      this.customersService.getFileTemp().subscribe((res: any) => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.customer;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n        this.showPopupGetFile = false;\r\n        Library.hideloading();\r\n      });\r\n    } else {\r\n      this.customersService.getFileTempStudent().subscribe((res: any) => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.student;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n        this.showPopupGetFile = false;\r\n        Library.hideloading();\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  // import\r\n  thayTheToanBo() {\r\n    this.isDisable = true;\r\n    if (this.isCustomer) {\r\n      this.import(this.dataExcelFile, 'THAY_THE');\r\n    } else {\r\n      this.importHSSV(this.dataExcelFile, 'THAY_THE');\r\n    }\r\n    this.dataExcelFile = null;\r\n  }\r\n\r\n  themTiep() {\r\n    this.isDisable = true;\r\n    if (this.isCustomer) {\r\n      this.import(this.dataExcelFile, 'THEM_TIEP');\r\n    } else {\r\n      this.importHSSV(this.dataExcelFile, 'THEM_TIEP');\r\n    }\r\n    this.dataExcelFile = null;\r\n  }\r\n\r\n  huy() {\r\n    this.showPopupImport = false;\r\n    this.dataExcelFile = null;\r\n  }\r\n\r\n  napDuLieuTuBangKe() {\r\n    setTimeout(() => {\r\n      document.getElementById('file-bang-ke').click();\r\n    }, 50);\r\n  }\r\n\r\n  onFileChanged(evt) {\r\n    Library.showloading();\r\n    const target: DataTransfer = <DataTransfer>(evt.target);\r\n    this.fileName = target.files[0].name;\r\n    this.fileSize = target.files[0].size / 1024;\r\n    if (target.files.length !== 1) {\r\n      Library.notify('Không thể chọn nhiều file', 'error');\r\n      throw new Error('Không thể chọn nhiều file');\r\n    }\r\n    const reader: FileReader = new FileReader();\r\n\r\n    reader.onload = (e: any) => {\r\n      /* read workbook */\r\n      const bstr: string = e.target.result;\r\n      const wb: XLSX.WorkBook = XLSX.read(bstr, { type: 'binary' });\r\n\r\n      /* grab first sheet */\r\n      const wsname: string = wb.SheetNames[0];\r\n      const ws: XLSX.WorkSheet = wb.Sheets[wsname];\r\n\r\n      /* save data */\r\n      const data = <any>(XLSX.utils.sheet_to_json(ws, { header: 'A', range: 5 }));\r\n      const fileBangKe: any = document.getElementById('file-bang-ke');\r\n      fileBangKe.value = '';\r\n      this.dataExcelFile = data;\r\n      this.countAll = data.length;\r\n      this.showPopupImport = true;\r\n      Library.hideloading();\r\n    };\r\n    reader.readAsBinaryString(target.files[0]);\r\n  }\r\n\r\n  import(dataExcelFile, type) {\r\n    this.visibleProgressBar = true;\r\n    const data = [];\r\n    if (dataExcelFile) {\r\n      dataExcelFile.forEach(element => {\r\n        if ((element.B && !pattern.tax_code.test(element.B)) || !element.D || !element.E) {\r\n          const customer = {};\r\n          customer['code'] = element.A ? element.A : '';\r\n          customer['tax_code'] = element.B ? element.B : '';\r\n          customer['object_code'] = element.C ? element.C : '';\r\n          customer['name'] = element.D ? element.D : '';\r\n          customer['business_address'] = element.E ? element.E : '';\r\n          customer['transaction_address'] = element.F ? element.F : '';\r\n          customer['surrogate_name'] = element.G ? element.G : '';\r\n          customer['surrogate_position'] = element.H ? element.H : '';\r\n          // customer[\"bank_account_number\"] = element.I ? element.I : \"\";\r\n          customer['bank_name'] = element.J ? element.J : '';\r\n          customer['contact_person_name'] = element.K ? element.K : '';\r\n          customer['contact_mobile'] = element.L ? element.L : '';\r\n          customer['email'] = element.M ? element.M : '';\r\n          if (this.role_branch) {\r\n            customer['role_branch'] = element.N ? element.N : '';\r\n            customer['note'] = element.O ? element.O : '';\r\n          } else {\r\n            customer['note'] = element.N ? element.N : '';\r\n          }\r\n          customer['error_message'] = 'Lỗi thiếu mã khách hàng, tên đơn vị, địa chỉ đăng ký kinh doanh hoặc mã số thuế sai định dạng';\r\n          this.dataFail.push(customer);\r\n        } else {\r\n          const customer = new Customer();\r\n          customer.tax_code = element.B ? element.B : '';\r\n          customer.code = element.A ? element.A : '';\r\n          if (element.C) {\r\n            customer.object_code = 'CA_NHAN';\r\n          } else {\r\n            customer.object_code = 'DOANH_NGHIEP';\r\n          }\r\n          customer.name = element.D ? element.D : '';\r\n          customer.business_address = element.E ? element.E : '';\r\n          customer.transaction_address = element.F ? element.F : '';\r\n          customer.surrogate_name = element.G ? element.G : '';\r\n          customer.surrogate_position = element.H ? element.H : '';\r\n          // customer.bank_account_number = element.I ? element.I : \"\";\r\n          customer.bank_name = element.J ? element.J : '';\r\n          customer.contact_person_name = element.K ? element.K : '';\r\n          customer.contact_mobile = element.L ? element.L : '';\r\n          customer.email = element.M ? element.M : '';\r\n          customer.order = 1;\r\n          if (this.role_branch) {\r\n            customer.role_branch = element.N ? element.N : '';\r\n            customer.note = element.O ? element.O : '';\r\n          } else {\r\n            customer.note = element.N ? element.N : '';\r\n          }\r\n          customer.status = 'HOAT_DONG';\r\n          data.push(customer);\r\n        }\r\n      });\r\n    }\r\n    if (type === 'THAY_THE') {\r\n      this.customersService.clearData().subscribe((res: any) => {\r\n        if (res.status === 'success') {\r\n          this.saveImport(data, 1);\r\n        } else {\r\n          Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n        }\r\n      });\r\n    } else if (type === 'THEM_TIEP') {\r\n      this.saveImport(data, 1);\r\n    }\r\n  }\r\n\r\n  importHSSV(dataExcelFile, type) {\r\n    this.visibleProgressBar = true;\r\n    const data = [];\r\n    let orderEnd = this.dataGrid.instance.totalCount();\r\n    if (dataExcelFile) {\r\n      dataExcelFile.forEach(element => {\r\n        if (!element.B || !element.C) {\r\n          const student = {};\r\n          student['code'] = element.A ? element.A : '';\r\n          student['name'] = element.B ? element.B : '';\r\n          student['class_name'] = element.C ? element.C : '';\r\n          student['address'] = element.D ? element.D : '';\r\n          student['date_bith'] = element.E ? element.E : null;\r\n          student['student_reduce_rate_code'] = element.F ? element.F : 'KHONG_MIEN_GIAM';\r\n          student['guardians'] = element.G ? element.G : '';\r\n          student['mobile'] = element.H ? element.H : '';\r\n          student['email'] = element.I ? element.I : '';\r\n          student['note'] = element.J ? element.J : '';\r\n          student['error_message'] = 'Lỗi thiếu Họ và Tên HS - SV,Tên lớp';\r\n          this.dataFail.push(student);\r\n        } else {\r\n          const student = new Student();\r\n          student.code = element.A ? element.A : '';\r\n          student.name = element.B ? element.B : '';\r\n          student.class_name = element.C ? element.C : '';\r\n          student.address = element.D ? element.D : '';\r\n          student.date_bith = element.E ? element.E : null;\r\n          student.student_reduce_rate_code = element.F ? element.F : 'KHONG_MIEN_GIAM';\r\n          student.guardians = element.G ? element.G : '';\r\n          student.mobile = element.H ? element.H : '';\r\n          student.email = element.I ? element.I : '';\r\n          student.note = element.J ? element.J : '';\r\n          student.order = orderEnd++;\r\n          student.status = 'HOAT_DONG';\r\n          if (this.studentReduceRateCodes && this.studentReduceRateCodes.length > 0) {\r\n            let _obj = this.studentReduceRateCodes.filter(p => p.name === element.F)[0];\r\n            if (_obj || !element.F) {\r\n              if (_obj) {\r\n                student.student_reduce_rate_code = _obj.code;\r\n                data.push(student);\r\n              } else {\r\n                student.student_reduce_rate_code = 'KHONG_MIEN_GIAM';\r\n                data.push(student);\r\n              }\r\n            }\r\n            else {\r\n              const student = {};\r\n              student['code'] = element.A ? element.A : '';\r\n              student['name'] = element.B ? element.B : '';\r\n              student['class_name'] = element.C ? element.C : '';\r\n              student['address'] = element.D ? element.D : '';\r\n              student['date_bith'] = element.E ? element.E : null;\r\n              student['student_reduce_rate_code'] = element.F ? element.F : '';\r\n              student['guardians'] = element.G ? element.G : '';\r\n              student['mobile'] = element.H ? element.H : '';\r\n              student['email'] = element.I ? element.I : '';\r\n              student['note'] = element.J ? element.J : '';\r\n              student['error_message'] = 'Lỗi sai Tỷ Lệ miễn giảm';\r\n              this.dataFail.push(student);\r\n            }\r\n          }\r\n          // switch (element.F) {\r\n          //   case \"Không miễn, giảm\":\r\n          //     student.student_reduce_rate_code = 'KHONG_MIEN_GIAM';\r\n          //     break;\r\n          //   case \"50% học phí\":\r\n          //     student.student_reduce_rate_code = 'MIEN_GIAM_50';\r\n          //     break;\r\n          //   case \"100% học phí\":\r\n          //     student.student_reduce_rate_code = 'MIEN_GIAM_100';\r\n          //     break;\r\n          //   case \"Miễn giảm 70%\":\r\n          //     student.student_reduce_rate_code = 'MIEN_GIAM_70';\r\n          //     break;\r\n          //   default:\r\n          //     student.student_reduce_rate_code = 'KHONG_MIEN_GIAM';\r\n          //     break;\r\n          // }\r\n          // data.push(student);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (type === 'THAY_THE') {\r\n      this.customersService.clearDataStudent().subscribe((res: any) => {\r\n        if (res.status === 'success') {\r\n          this.saveImportHSSV(data, 1);\r\n        } else {\r\n          Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n        }\r\n      });\r\n    } else if (type === 'THEM_TIEP') {\r\n      this.saveImportHSSV(data, 1);\r\n    }\r\n  }\r\n\r\n  saveImportHSSV(data, page) {\r\n\r\n    if (this.stopImport === true) {\r\n      return;\r\n    }\r\n    const numberPages = Math.floor(data.length / this.maximum_object_import) + 1;\r\n    const percentComplete = 100 / numberPages;\r\n    const timePerRow = 7;\r\n    let timeTotal = (numberPages) * timePerRow;\r\n\r\n    const pageData = {\r\n      'students': this.paginate(data, this.maximum_object_import, page)\r\n    };\r\n    this.sub = this.customersService.importDataStudent(pageData).subscribe((res: any) => {\r\n      timeTotal = timeTotal - (page * timePerRow);\r\n      if (!this.stopImport) {\r\n        this.timeRemain = `, ${this._translate.NOTIFY.time_remaining}: ${moment.utc(timeTotal * 1000).format('HH:mm:ss')}.`;\r\n      }\r\n\r\n      if (res.status === 'success') {\r\n        this.getAllListbyListtypeByCode();\r\n        this.valueProgress += percentComplete;\r\n        if (page < numberPages) {\r\n          this.saveImportHSSV(data, page + 1);\r\n        }\r\n\r\n        if (res.data.customer_errors.length !== 0) {\r\n          res.data.customer_errors.forEach(error => {\r\n            delete error.id;\r\n            delete error.account_id;\r\n            delete error.guardians;\r\n            delete error.student_reduce_rate_code;\r\n            delete error.class_name;\r\n            delete error.order;\r\n            delete error.status;\r\n\r\n          });\r\n          this.dataFail = this.dataFail.concat(res.data.customer_errors);\r\n        }\r\n        this.importSuccess = this.countAll - this.dataFail.length + 4;\r\n        if (page === numberPages) {\r\n          this.valueProgress = 100;\r\n          this.customersService.confirmClearDataStudent().subscribe(res => {\r\n            if (res.status === 'success') {\r\n              this.thongbao = `${this._translate.NOTIFY.import} ${this.importSuccess}/${this.countAll} bản ghi (Có ${this.dataFail.length - 4} bản ghi lỗi.)`;\r\n              this.timeRemain = '';\r\n              this.showPopupImport = false;\r\n              if (this.importSuccess < this.countAll) {\r\n                this.visibleGetError = true;\r\n                this.layBanGhiLoi();\r\n              }\r\n              Library.notify(this._translate.NOTIFY.import_success, 'success');\r\n            }\r\n          });\r\n        }\r\n\r\n      } else {\r\n        Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n        this.customersService.confirmClearDataStudent().subscribe((res: any) => {\r\n        });\r\n        this.valueProgress = 100;\r\n        this.showPopupImport = false;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  saveImport(data, page) {\r\n    if (this.stopImport === true) {\r\n      return;\r\n    }\r\n\r\n    const numberPages = Math.floor(data.length / this.maximum_object_import) + 1;\r\n    const percentComplete = 100 / numberPages;\r\n    const timePerRow = 7;\r\n    let timeTotal = (numberPages) * timePerRow;\r\n\r\n    const pageData = {\r\n      'customers': this.paginate(data, this.maximum_object_import, page)\r\n    };\r\n    this.sub = this.customersService.importData(pageData).subscribe((res: any) => {\r\n      timeTotal = timeTotal - (page * timePerRow);\r\n      if (!this.stopImport) {\r\n        this.timeRemain = `, ${this._translate.NOTIFY.time_remaining}: ${moment.utc(timeTotal * 1000).format('HH:mm:ss')}.`;\r\n      }\r\n\r\n      if (res.status === 'success') {\r\n        this.valueProgress += percentComplete;\r\n        if (page < numberPages) {\r\n          this.saveImport(data, page + 1);\r\n        }\r\n\r\n        if (res.data.customer_errors.length !== 0) {\r\n          res.data.customer_errors.forEach(error => {\r\n            delete error.id;\r\n            delete error.account_id;\r\n            delete error.group_code;\r\n            delete error.student_reduce_rate_code;\r\n            delete error.order;\r\n            delete error.status;\r\n            if (error.object_code === 'CA_NHAN') {\r\n              error.object_code = 'X';\r\n            } else {\r\n              error.object_code = '';\r\n            }\r\n          });\r\n          this.dataFail = this.dataFail.concat(res.data.customer_errors);\r\n        }\r\n        this.importSuccess = this.countAll - this.dataFail.length + 4;\r\n        if (page === numberPages) {\r\n          this.valueProgress = 100;\r\n          this.customersService.confirmClearData().subscribe(res => {\r\n            if (res.status === 'success') {\r\n              this.thongbao = `${this._translate.NOTIFY.import} ${this.importSuccess}/${this.countAll} bản ghi (Có ${this.dataFail.length - 4} bản ghi lỗi.)`;\r\n              this.timeRemain = '';\r\n              if (this.importSuccess < this.countAll) {\r\n                this.visibleGetError = true;\r\n                //this.layBanGhiLoi();\r\n              }\r\n              else\r\n              {\r\n                this.showPopupImport = false;\r\n                Library.notify(this._translate.NOTIFY.import_success, 'success');\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n      } else {\r\n        Library.notify(this._translate.NOTIFY.an_error_occurred, 'error');\r\n        this.customersService.confirmClearData().subscribe((res: any) => {\r\n        });\r\n        this.valueProgress = 100;\r\n        this.showPopupImport = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  format = (value) => {\r\n    const percent = Math.round(value * 100);\r\n    return this._translate.NOTIFY.finish + ': ' + percent + '%' + this.timeRemain;\r\n  };\r\n\r\n  paginate(array, page_size, page_number) {\r\n    --page_number; // because pages logically start with 1, but technically with 0\r\n    return array.slice(page_number * page_size, (page_number + 1) * page_size);\r\n  }\r\n\r\n  onImportShowing(e) {\r\n    this.stopImport = false;\r\n    this.valueProgress = 0;\r\n    this.timeRemain = '';\r\n    this.visibleGetError = false;\r\n  }\r\n\r\n  onImportHiding(e) {\r\n    let r = true;\r\n    if (this.valueProgress < 100) {\r\n      r = confirm(this._translate.CONFIRM.import_data);\r\n    }\r\n    if (r) {\r\n      this.sub.unsubscribe();\r\n      this.stopImport = true;\r\n      this.dataSource = {};\r\n      this.dataSourceHSSV = {};\r\n      this.loadList();\r\n      this.valueProgress = 0;\r\n      this.timeRemain = '';\r\n      this.isDisable = false;\r\n      this.thongbao = '';\r\n      this.dataFail = [];\r\n      if (this.user.account.account_type == 'HS-SV')\r\n        this.dataFail = this.dataFail.concat(this.headerStudent);\r\n      else\r\n        this.dataFail = this.dataFail.concat(this.header);\r\n\r\n      this.visibleProgressBar = false;\r\n      this.customersService.confirmClearData().subscribe((res: any) => {\r\n      });\r\n    } else {\r\n      e.cancel = true;\r\n    }\r\n  }\r\n\r\n  itemExtrasClick(e) {\r\n    if (e.itemData.id === 'XOA') {\r\n      if (this.isCustomer) {\r\n        this.delete(null);\r\n      } else {\r\n        this.deleteHSSV(null);\r\n      }\r\n    } else if (e.itemData.id === 'LAY_FILE_MAU') {\r\n      if (this.isCustomer) {\r\n        this.getFileTemp();\r\n      } else {\r\n        this.getFileTemp();\r\n      }\r\n    } else if (e.itemData.id === 'NAP_DU_LIEU') {\r\n      this.napDuLieuTuBangKe();\r\n    } else if (e.itemData.id === 'CHUYEN_LOP') {\r\n      this.chuyenlop(null);\r\n    }\r\n  }\r\n\r\n  chuyenlop(data) {\r\n    const id = data ? data.id : (this.selectedRowsHSSV.length === 0 ? '' : this.selectedRowsHSSV);\r\n\r\n    if (!id) {\r\n      Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n      return;\r\n    } else {\r\n      Library.showloading();\r\n      this.customersService.getCustomer(id).subscribe(response => {\r\n        const initialState = {\r\n          ids: id,\r\n          classCodes: this.classCodes,\r\n          objectCodes: this.objectCodes,\r\n          classCodeListTypeId: this.classCodeListTypeId\r\n        };\r\n        if (!this.isCustomer) {// check khoi khach hang\r\n          this.bsModalRef = this.modalService.show(ConvertClassComponent, {\r\n            class: 'second child-modal',\r\n            initialState,\r\n            backdrop: 'static',\r\n            keyboard: false,\r\n          });\r\n        } else {\r\n          Library.notify('Error', 'error');\r\n        }\r\n        this.modalService.onHide.subscribe(() => {\r\n          if (this.bsModalRef.content.successSaveItem) {\r\n            // this.dataGrid.instance.refresh();\r\n            this.dataSource = {};\r\n            this.dataSourceHSSV = {};\r\n            this.loadList();\r\n          }\r\n        });\r\n        Library.hideloading();\r\n      });\r\n    }\r\n  }\r\n\r\n  layBanGhiLoi() {\r\n    if (this.valueProgress < 100) {\r\n      Library.notify(this._translate.NOTIFY.import_error, 'error');\r\n    } else {\r\n      const ws: XLSX.WorkSheet = XLSX.utils.json_to_sheet(this.dataFail);\r\n      const wb: XLSX.WorkBook = XLSX.utils.book_new();\r\n      const wscols = [\r\n        { wpx: 180 }, // \"pixels\"\r\n        { wpx: 130 },\r\n        { wpx: 100 },\r\n        { wpx: 200 },\r\n        { wpx: 200 },\r\n        { wpx: 200 },\r\n        { wpx: 150 },\r\n        { wpx: 150 },\r\n        { wpx: 100 },\r\n        { wpx: 100 },\r\n        { wpx: 150 },\r\n        { wpx: 150 },\r\n        { wpx: 200 },\r\n        { wpx: 100 },\r\n        { wpx: 400 },\r\n      ];\r\n      const wsrows = [\r\n        { hidden: true }, // hide row\r\n      ];\r\n      ws['!cols'] = wscols;\r\n      ws['!rows'] = wsrows;\r\n      XLSX.utils.book_append_sheet(wb, ws, 'Sheet1');\r\n\r\n      XLSX.writeFile(wb, 'danh_sach_loi.xlsx');\r\n    }\r\n  }\r\n\r\n  selectTab(e) {\r\n    const tab = e.itemData.code;\r\n    switch (tab) {\r\n      case 'STUDENT':\r\n        this.isStudent = true;\r\n        this.isCustomer = false;\r\n        this.extras = this.extrasStudent;\r\n        break;\r\n      case 'CUSTOMER':\r\n        this.isCustomer = true;\r\n        this.isStudent = false;\r\n        this.extras = this.extrasCustomer;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  getAllListbyListtypeByCode() {\r\n    this.productsService.getAllListbyListtypeByCode('DM_LOP_HOC,DM_HINH_THUC_THU,DM_TY_LE_MIEN_GIAM_HOC_PHI').subscribe((response) => {\r\n      this.revenues = response.data['DM_HINH_THUC_THU'];\r\n      this.classCodes = response.data['DM_LOP_HOC'];\r\n      this.student_reduce_rate_codes = response.data['DM_TY_LE_MIEN_GIAM_HOC_PHI'];\r\n      this.classCodeListTypeId = response.data['ids']['DM_LOP_HOC'];\r\n    });\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {IndexComponent} from './components/index/index.component';\r\nimport {DxTreeListModule} from 'devextreme-angular';\r\n//library\r\nimport {devextremeModule} from '@core/index';\r\n\r\n//general\r\nimport {routing} from './customers.routing';\r\nimport {SharedModule} from '@shared/index';\r\nimport {CustomersService} from './shared';\r\nimport {vTranslateModule} from '@core/module/v-translate.module';\r\nimport {ListsService} from '@modules/lists/shared';\r\nimport {ProductsService } from '@modules/products/shared';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    routing,\r\n    devextremeModule,\r\n    DxTreeListModule,\r\n    SharedModule,\r\n    vTranslateModule\r\n  ],\r\n  declarations: [IndexComponent],\r\n  entryComponents: [],\r\n  providers: [CustomersService, ListsService,ProductsService]\r\n})\r\nexport class CustomersModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IndexComponent } from './components/index/index.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: IndexComponent},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class routing {}\r\n"],"sourceRoot":""}