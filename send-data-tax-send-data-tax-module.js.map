{"version":3,"sources":["webpack:///./src/app/modules/send-data-tax/components/add-new-data/add-new-data.component.html","webpack:///./src/app/modules/send-data-tax/components/add-new-data/add-new-data.component.scss","webpack:///./src/app/modules/send-data-tax/components/add-new-data/add-new-data.component.ts","webpack:///./src/app/modules/send-data-tax/components/index/index.component.html","webpack:///./src/app/modules/send-data-tax/components/index/index.component.scss","webpack:///./src/app/modules/send-data-tax/components/index/index.component.ts","webpack:///./src/app/modules/send-data-tax/components/show-data-invoices/show-data-invoices.component.html","webpack:///./src/app/modules/send-data-tax/components/show-data-invoices/show-data-invoices.component.scss","webpack:///./src/app/modules/send-data-tax/components/show-data-invoices/show-data-invoices.component.ts","webpack:///./src/app/modules/send-data-tax/send-data-tax.module.ts","webpack:///./src/app/modules/send-data-tax/send-data-tax.routing.ts","webpack:///./src/app/modules/send-data-tax/shared/data-tax.resolver.ts","webpack:///./src/app/modules/send-data-tax/shared/edit-data-tax.resolver.ts","webpack:///./src/app/modules/send-data-tax/shared/invoice-send.ts","webpack:///./src/app/modules/send-data-tax/shared/send-data-tax.service.ts","webpack:///./src/app/modules/vat/deactivate/vat-deactivate.guard.ts"],"names":[],"mappings":"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","file":"send-data-tax-send-data-tax-module.js","sourcesContent":["module.exports = \"<div class=\\\"modal-header\\\">\\r\\n  <h4 class=\\\"modal-title pull-left\\\">{{ _translate.MENU.choose_send_data_for_tax }}</h4>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-12 bang-tong-hop\\\">\\r\\n      <dx-form [formData]=\\\"frmData\\\">\\r\\n          <!-- Loại kỳ dữ liệu -->\\r\\n          <dxi-item cssClass=\\\"hinh-thuc-hoa-don\\\" itemType=\\\"group\\\" [colCount]=\\\"1\\\" style=\\\"display: flex;\\\">\\r\\n            <div style=\\\"margin-right: 8px;\\\">{{_translate.CONTROLL.LABEL.data_period_type}}:</div>\\r\\n            <dxi-item class=\\\"radioLoaiKyDuLieu\\\">\\r\\n              <dx-radio-group [dataSource]=\\\"loaikydulieu\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" layout=\\\"horizontal\\\"\\r\\n                [(value)]=\\\"frmData.period_type\\\" (onValueChanged)=\\\"changeDateTime($event)\\\">\\r\\n                  <!-- <div class=\\\"radio\\\" style=\\\"margin-right:42px\\\" *dxTemplate=\\\"let data of 'radio'\\\">\\r\\n                     <p><b>{{data.name}}</b></p>\\r\\n                  </div> -->\\r\\n              </dx-radio-group>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n            <dxi-item itemType=\\\"group\\\" [colCount]=\\\"1\\\" style=\\\"display: flex;\\\" class=\\\"p-ky-du-lieu\\\">\\r\\n              <!-- Kỳ dữ liệu   -->\\r\\n              <dxi-item dataField=\\\"period\\\" editorType=\\\"dxDateBox\\\" [cssClass]=\\\"'ky-du-lieu'\\\" [editorOptions]=\\\"{useMaskBehavior:true, onValueChanged: periodChange, displayFormat: formatTime, dateSerializationFormat: 'yyyy-MM-dd HH:mm:ss'}\\\">\\r\\n                <dxo-label style=\\\"margin-right: 26px;\\\" text=\\\"{{_translate.CONTROLL.LABEL.data_period}}\\\"></dxo-label>\\r\\n              </dxi-item>\\r\\n            </dxi-item>\\r\\n          <!-- Lần gửi -->\\r\\n          <dxi-item cssClass=\\\"hinh-thuc-hoa-don\\\" itemType=\\\"group\\\" [colCount]=\\\"1\\\" style=\\\"display: flex;\\\">\\r\\n            <div style=\\\"margin-right: 8px; width: 92px; text-align: right;\\\">{{_translate.CONTROLL.LABEL.number_send}}:</div>\\r\\n            <dxi-item class=\\\"radioLanGui\\\">\\r\\n              <dx-radio-group  [dataSource]=\\\"langui\\\" [(value)]=\\\"radLanGui\\\" [readOnly] = \\\"true\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" layout=\\\"horizontal\\\" (onValueChanged)=\\\"changedlangui($event)\\\">\\r\\n              </dx-radio-group>\\r\\n            </dxi-item>\\r\\n            <div class=\\\"input-lan-gui dx-field-item-content dx-field-item-content-location-right\\\">\\r\\n              <div class=\\\"dx-show-invalid-badge dx-textbox dx-texteditor dx-editor-outlined dx-widget\\\">\\r\\n                <div class=\\\"dx-texteditor-container\\\">\\r\\n                  <div class=\\\"dx-texteditor-input-container\\\">\\r\\n                    <input autocomplete=\\\"off\\\"\\r\\n                           class=\\\"dx-texteditor-input\\\"\\r\\n                           type=\\\"number\\\"\\r\\n                           [ngModel]=\\\"frmData.number\\\"\\r\\n                           min=\\\"1\\\"\\r\\n                           (change)=\\\"inputChange($event)\\\"\\r\\n                           maxlength=\\\"2\\\"\\r\\n                           tabindex=\\\"0\\\"\\r\\n                           readonly = \\\"true\\\"\\r\\n                           role=\\\"textbox\\\">\\r\\n                    <div data-dx_placeholder=\\\"\\\" class=\\\"dx-placeholder dx-state-invisible\\\"></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"dx-texteditor-buttons-container\\\">\\r\\n                    <div></div>\\r\\n                  </div>      \\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- <dx-text-box [(value)]=\\\"frmData.number\\\" style=\\\"width: 32px;margin-left: -17px;\\\">\\r\\n              \\r\\n            </dx-text-box> -->\\r\\n          </dxi-item>\\r\\n          \\r\\n          <!-- Loại hàng hóa -->\\r\\n          <dxi-item cssClass=\\\"hinh-thuc-hoa-don\\\" itemType=\\\"group\\\" [colCount]=\\\"1\\\" style=\\\"display: flex;\\\">\\r\\n            <div style=\\\"margin-right: 8px; width: 91px; margin-left: 2px\\\">{{_translate.CONTROLL.LABEL.commodity_type}}:</div>\\r\\n            <dxi-item class=\\\"radioInvForm\\\">\\r\\n              <dx-radio-group [(value)]=\\\"frmData.product_type\\\"  [dataSource]=\\\"loaihanghoa\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" layout=\\\"horizontal\\\">\\r\\n              </dx-radio-group>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n      </dx-form>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\" style=\\\"height: 50px;\\\">\\r\\n  <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.automatically_get_data}}\\\" type=\\\"default\\\" (click)=\\\"TuLayDuLieu()\\\">\\r\\n  </dx-button>\\r\\n  <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.selt_entering_data}}\\\" type=\\\"default\\\" (click)=\\\"TuNhapDuLieu()\\\">\\r\\n  </dx-button>\\r\\n  <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.close}}\\\" type=\\\"default\\\" (click)=\\\"dong()\\\">\\r\\n  </dx-button>\\r\\n</div>\"","module.exports = \"::ng-deep .dx-radiogroup .dx-radiobutton-icon:before{width:16px;height:16px}::ng-deep .dx-radiogroup .dx-radiobutton-icon-checked .dx-radiobutton-icon-dot{margin-top:-14px;margin-left:4px}.checkData{color:red;font-weight:bold}::ng-deep .ky-du-lieu .dx-field-item-label-content{width:92px !important}::ng-deep .radioLanGui .dx-radiogroup-horizontal .dx-radiobutton{margin-right:26px}::ng-deep .radioLoaiKyDuLieu .dx-radiogroup-horizontal .dx-radiobutton{margin-right:39px}::ng-deep .input-lan-gui .dx-texteditor{width:100px}::ng-deep .view-invoice{max-width:100%;margin:0px;height:100%}\\n\"","import { Component, OnInit, ViewChild, ViewChildren } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { DxFormComponent } from 'devextreme-angular';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { CoreService, AuthService, Library, sEnum, SocketService, Helper, VStringService } from '@core/index';\r\nimport { ShowDataInvoicesComponent } from \"@modules/send-data-tax/components/show-data-invoices/show-data-invoices.component\";\r\nimport * as moment from 'moment';\r\nimport { SendDataTaxService } from '@modules/send-data-tax/shared/send-data-tax.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Parser } from '@angular/compiler';\r\n@Component({\r\n  selector: 'app-add-new-data',\r\n  templateUrl: './add-new-data.component.html',\r\n  styleUrls: ['./add-new-data.component.scss']\r\n})\r\nexport class AddNewDataComponent implements OnInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  formatTime: any = \"dd/MM/yyyy\";\r\n  frmData =\r\n    {\r\n      period_type: '',\r\n      period: '',\r\n      number: null,\r\n      product_type: null\r\n    }\r\n  loaikydulieu = [\r\n    { name: \"Ngày\", code: 'N' },\r\n    { name: \"Tháng\", code: 'T' },\r\n    { name: \"Quý\", code: 'Q' },\r\n  ]\r\n  langui = [\r\n    { name: \"Lần đầu\", code: '0' },\r\n    { name: \"Bổ sung lần thứ\", code: '1' },\r\n  ]\r\n  loaihanghoa = [\r\n    { name: \"Xăng dầu\", code: 1 },\r\n    { name: \"Vận tải hàng không\", code: 2 },\r\n    { name: \"Khác\", code: 9 },\r\n  ];\r\n  _translate: any;\r\n  isLanDau: any;\r\n  bsModalSignRef: BsModalRef;\r\n  vats: any;\r\n  period_type: any;\r\n  is_create_first: any;\r\n  radLanGui: any;\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    private modalService: BsModalService,\r\n    private taxService: SendDataTaxService,\r\n    private router: Router,\r\n    public translate: TranslateService,\r\n    private route: ActivatedRoute) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.frmData.period_type = this.period_type;\r\n    switch (this.period_type) {\r\n      case \"T\":\r\n        this.formatTime = \"MM/yyyy\";\r\n        break;\r\n      case \"Q\":\r\n        this.formatTime = \"MM/yyyy\";\r\n        break;\r\n      case \"N\":\r\n        this.formatTime = \"dd/MM/yyyy\";\r\n        break;\r\n    }\r\n    this.frmData.period = this._getKyDuLieu(this.frmData.period_type);\r\n    if (this.is_create_first) {\r\n      this.frmData.product_type = 9;\r\n      this.frmData.number = 1;\r\n      this.radLanGui = '0';\r\n    }\r\n    else {\r\n      this.radLanGui = '1';\r\n      let kydulieu = moment(this.frmData.period).format(\"DD/MM/YYYY\");\r\n      if (this.frmData.period_type == \"Q\" || this.frmData.period_type == \"T\")\r\n        kydulieu = moment(this.frmData.period).format(\"MM/YYYY\");\r\n      let data = {\r\n        is_last: false,\r\n        period_type: this.frmData.period_type,\r\n        period: kydulieu\r\n      }\r\n      this.getInforSum(data);\r\n    }\r\n    // this.loadVat();\r\n  }\r\n  inputChange($event: any) {\r\n    // if ($event.srcElement.name === 'count_date') {\r\n    //   this.configs.count_date = $event.srcElement.valueAsNumber;\r\n    // }\r\n  }\r\n  getInforSum(data) {\r\n    Library.showloading();\r\n    let sub = this.taxService.getInfoCreate(data).subscribe(\r\n      rs => {\r\n        if (rs.status == \"success\") {\r\n          if (rs.data && rs.data.id) {\r\n            this.frmData.number = rs.data.send_number ? parseInt(rs.data.send_number) + 1 : null;\r\n            this.frmData.product_type = parseInt(rs.data.product_type);\r\n            this.radLanGui = '1';\r\n          }\r\n          else {\r\n            this.radLanGui = '0';\r\n            this.frmData.number = 1;\r\n            this.frmData.product_type = 9;\r\n          }\r\n        }\r\n        else {\r\n          Library.notify(rs.message, \"error\", 5000);\r\n        }\r\n      },\r\n      err => {\r\n      },\r\n      () => {\r\n        Library.hideloading();\r\n        sub.unsubscribe();\r\n      }\r\n    );\r\n  }\r\n  changeDateTime(e) {\r\n    if (e.value == \"T\" || e.value == \"Q\") {\r\n      this.formatTime = \"MM/yyyy\";\r\n    }\r\n    else\r\n      this.formatTime = \"dd/MM/yyyy\";\r\n    this.frmData.period = this._getKyDuLieu(e.value);\r\n  }\r\n  dong() {\r\n    this.bsModalRef.hide();\r\n  }\r\n  changedlangui(e) {\r\n    if (e.value == \"0\") {\r\n      this.isLanDau = true;\r\n      this.frmData.number = null;\r\n    }\r\n    else {\r\n      this.isLanDau = false;\r\n    }\r\n  }\r\n  _getKyDuLieu(reportPeriod) {\r\n    let kydulieu: any;\r\n    let date = moment();\r\n    let year = date.year();\r\n    let month = date.month() < 12 ? date.month() + 1 : 1\r\n    if (reportPeriod == \"Q\") {\r\n      if (month >= 1 && month <= 3)\r\n        kydulieu = moment(Helper.processDate(\"01/\" + \"01\" + \"/\" + year)).format('YYYY-MM-DD HH:mm:ss');//\"01\" + \"/\" + year;\r\n      else if (month >= 4 && month <= 6)\r\n        kydulieu = moment(Helper.processDate(\"01/\" + \"02\" + \"/\" + year)).format('YYYY-MM-DD HH:mm:ss');//\"02\" + \"/\" + year;\r\n      else if (month >= 7 && month <= 9)\r\n        kydulieu = moment(Helper.processDate(\"01/\" + \"03\" + \"/\" + year)).format('YYYY-MM-DD HH:mm:ss');//\"03\" + \"/\" + year;\r\n      else if (month >= 10 && month <= 12)\r\n        kydulieu = moment(Helper.processDate(\"01/\" + \"04\" + \"/\" + year)).format('YYYY-MM-DD HH:mm:ss');//\"04\" + \"/\" + year;\r\n    }\r\n    else if (reportPeriod == \"T\") {\r\n      let monthYear = month < 10 ? \"0\" + month + \"/\" + year : month + \"/\" + year;\r\n\r\n      kydulieu = moment(Helper.processDate(\"01/\" + monthYear)).format('YYYY-MM-DD HH:mm:ss');\r\n    }\r\n    else if (reportPeriod == \"N\") {\r\n      kydulieu = moment().format('YYYY-MM-DD HH:mm:ss');\r\n    }\r\n    return kydulieu;\r\n  }\r\n  TuNhapDuLieu() {\r\n    this.openFormData(false);\r\n  }\r\n  TuLayDuLieu() {\r\n    this.openFormData(true);\r\n  }\r\n  _validForm() {\r\n    let result = true;\r\n    if (VStringService._getValueToString(this.frmData.period) == \"\") {\r\n      Library.notify(\"Kỳ dữ liệu không được để trống\", \"error\");\r\n      this.form.instance.getEditor(\"period\").focus();\r\n      return false;\r\n    }\r\n    else if (VStringService._getValueToString(this.frmData.period) != \"\") {\r\n      if (this.frmData.period_type == \"Q\") {\r\n        let quy = moment(this.frmData.period);\r\n        let month = quy.month() < 12 ? quy.month() + 1 : 1\r\n        if (month > 4) {\r\n          Library.notify(\"Kỳ dữ liệu nằm trong khoảng Quý 01 đến Quý 04\", \"error\");\r\n          this.form.instance.getEditor(\"period\").focus();\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  createObjectData() {\r\n    let object = new Object;\r\n    let kydulieu = moment(this.frmData.period).format(\"DD/MM/YYYY\");\r\n    if (this.frmData.period_type == \"Q\" || this.frmData.period_type == \"T\")\r\n      kydulieu = moment(this.frmData.period).format(\"MM/YYYY\");\r\n    let langui = 0;\r\n    if (this.isLanDau)\r\n      langui = 1;\r\n    else\r\n      langui = this.frmData.number;\r\n    object[\"kydulieu\"] = kydulieu;\r\n    object[\"langui\"] = langui;\r\n    return object;\r\n  }\r\n  openFormData(isAutoLoadData) {\r\n    if (!this._validForm())\r\n      return;\r\n    let object = this.createObjectData();\r\n    ///\r\n    this.taxService.kydulieu = object[\"kydulieu\"];\r\n    this.taxService.langui = object[\"langui\"];\r\n    this.taxService.isAutoLoadData = isAutoLoadData;\r\n    this.taxService.vats = this.vats;\r\n    this.taxService.frmData = this.frmData;\r\n    this.taxService.isUpdate = false;\r\n    this.bsModalRef.hide();\r\n    this.router.navigate(['system/send-data-tax/create'], { relativeTo: this.route });\r\n    ///\r\n    // const initialState = {\r\n    //   kydulieu: object[\"kydulieu\"],\r\n    //   langui: object[\"langui\"],\r\n    //   isAutoLoadData: isAutoLoadData,\r\n    //   vats: this.vats,\r\n    //   frmData: this.frmData,\r\n    //   isUpdate: false\r\n    // };\r\n    // this.bsModalSignRef = this.modalService.show\r\n    //   (\r\n    //     ShowDataInvoicesComponent,\r\n    //     {\r\n    //       backdrop: 'static',\r\n    //       keyboard: false,\r\n    //       class: 'modal-dialog modal-xl view-invoice',\r\n    //       initialState\r\n    //     }\r\n    //   );\r\n    // const subModal = this.modalService.onHide.subscribe(() => {\r\n    //   subModal.unsubscribe();\r\n    // });\r\n  }\r\n  loadVat() {\r\n    this.taxService.loadVat().subscribe(\r\n      rs => {\r\n        if (rs.status == \"success\") {\r\n          this.vats = rs.data.DM_TY_LE_VAT;\r\n        }\r\n      },\r\n      err => {\r\n\r\n      },\r\n      () => {\r\n\r\n      }\r\n    );\r\n  }\r\n  periodChange = (e) => {\r\n    let kydulieu = moment(e.value).format(\"DD/MM/YYYY\");\r\n    if (this.frmData.period_type == \"Q\" || this.frmData.period_type == \"T\")\r\n      kydulieu = moment(this.frmData.period).format(\"MM/YYYY\");\r\n    let data = {\r\n      is_last: false,\r\n      period_type: this.frmData.period_type,\r\n      period: kydulieu\r\n    }\r\n    this.getInforSum(data);\r\n  };\r\n}\r\n","module.exports = \"<div class=\\\"row header-func search-section\\\">\\r\\n  <div class=\\\"col-md-8\\\">\\r\\n    <div class=\\\"search-date\\\">\\r\\n      <div class=\\\"column\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\">{{_translate.CONTROLL.LABEL.export_period}}</div>\\r\\n          <div class=\\\"value\\\">\\r\\n            <dx-select-box [items]=\\\"exportSchedules\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\"\\r\\n                           [value]=\\\"objParams.exportSchedulesDefault\\\" (onValueChanged)=\\\"onExportSchedules($event)\\\">\\r\\n            </dx-select-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"column day\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\">{{_translate.CONTROLL.LABEL.from_date}}</div>\\r\\n          <div class=\\\"value\\\">\\r\\n            <dx-date-box  [(value)]=\\\"objParams.startDate\\\" type=\\\"date\\\" [useMaskBehavior]=\\\"true\\\" [displayFormat]=\\\"'dd/MM/yyyy'\\\"\\r\\n                          (onValueChanged)=\\\"onStartDate($event)\\\">\\r\\n            </dx-date-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"column day\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\">{{_translate.CONTROLL.LABEL.to_date}}</div>\\r\\n          <div class=\\\"value\\\">\\r\\n            <dx-date-box [(value)]=\\\"objParams.endDate\\\" [useMaskBehavior]=\\\"true\\\" type=\\\"date\\\" [displayFormat]=\\\"'dd/MM/yyyy'\\\"\\r\\n                         (onValueChanged)=\\\"onEndDate($event)\\\">\\r\\n            </dx-date-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-4\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"pull-right\\\">\\r\\n          <dx-button (click)=\\\"themmoi()\\\" [(icon)]=\\\"_translate.ICONS.plus\\\"\\r\\n                     text=\\\"Thêm mới\\\" type=\\\"default\\\"></dx-button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<dx-data-grid\\r\\n  id=\\\"gridContainerVat\\\"\\r\\n  [dataSource]=\\\"dataSource\\\"\\r\\n  [showRowLines]=\\\"true\\\"\\r\\n  [showBorders]=\\\"true\\\"\\r\\n  [allowColumnResizing]=\\\"true\\\"\\r\\n  [columnAutoWidth]=\\\"true\\\"\\r\\n  [columnResizingMode]=\\\"true\\\"\\r\\n  [wordWrapEnabled]=\\\"true\\\">\\r\\n  <!-- <dxo-state-storing [enabled]=\\\"true\\\" type=\\\"sessionStorage\\\" storageKey=\\\"vat\\\"></dxo-state-storing> -->\\r\\n  <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel>\\r\\n  <!-- Kỳ dữ liệu -->\\r\\n  <dxi-column cellTemplate=\\\"periodTemplate\\\" dataField=\\\"period\\\"\\r\\n              caption=\\\"Kỳ dữ liệu\\\" minWidth=\\\"{{_translate.GRID_WIDTH.so_hoa_don}}\\\"\\r\\n              alignment=\\\"center\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Số bảng tổng hợp -->\\r\\n  <dxi-column dataField=\\\"order\\\"\\r\\n              caption=\\\"Số bảng tổng hợp\\\"\\r\\n              minWidth=\\\"{{_translate.GRID_WIDTH.so_phieu}}\\\" alignment=\\\"center\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Ngày gửi bảng tổng hợp-->\\r\\n  <dxi-column dataField=\\\"send_date\\\" caption=\\\"Ngày gửi bảng tổng hợp\\\"\\r\\n              minWidth=\\\"{{_translate.GRID_WIDTH.ngay_hoa_don}}\\\" [editorOptions]=\\\"{useMaskBehavior:true}\\\" dataType=\\\"date\\\"\\r\\n              format=\\\"dd/MM/yyyy\\\" dateSerializationFormat=\\\"yyyy-MM-dd\\\" alignment=\\\"center\\\" sortOrder=\\\"asc\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Lần gửi -->\\r\\n  <dxi-column cellTemplate=\\\"numberSendTemplate\\\" dataField=\\\"send_number\\\"\\r\\n              caption=\\\"Lần gửi\\\"\\r\\n              minWidth=\\\"{{_translate.GRID_WIDTH.so_phieu}}\\\" alignment=\\\"center\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Trạng thái gửi CQT -->\\r\\n  <dxi-column cellTemplate=\\\"statusSendTax\\\"\\r\\n              caption=\\\"Trạng thái gửi CQT\\\"\\r\\n              minWidth=\\\"{{_translate.GRID_WIDTH.mau_so_ky_hieu}}\\\" alignment=\\\"center\\\">\\r\\n  </dxi-column>\\r\\n   <!-- Chức năng -->\\r\\n   <dxi-column cellTemplate=\\\"actionIcon\\\" minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong}}\\\"\\r\\n               minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong}}\\\" alignment=\\\"center\\\" [width]=\\\"155\\\">\\r\\n   </dxi-column>\\r\\n  <div *dxTemplate=\\\"let d of 'statusSendTax'\\\">\\r\\n    <a *ngIf=\\\"d.data.status == 'CHUA_GUI'\\\"\\r\\n    href=\\\"javascript:void(0)\\\">Chưa gửi CQT</a>\\r\\n    <a *ngIf=\\\"d.data.status == 'DA_GUI_CQT'\\\"\\r\\n    href=\\\"javascript:void(0)\\\" (click)=\\\"thongdieptruyennhan(d.data)\\\">Đã gửi CQT</a>\\r\\n    <a *ngIf=\\\"d.data.status == 'DA_TIEP_NHAN'\\\"\\r\\n    href=\\\"javascript:void(0)\\\" (click)=\\\"thongdieptruyennhan(d.data)\\\">CQT đã tiếp nhận</a>\\r\\n    <a *ngIf=\\\"d.data.status == 'TIEP_NHAN'\\\"\\r\\n    href=\\\"javascript:void(0)\\\" (click)=\\\"thongdieptruyennhan(d.data)\\\">CQT đã tiếp nhận</a>\\r\\n    <a *ngIf=\\\"d.data.status == 'KHONG_TIEP_NHAN'\\\"\\r\\n    href=\\\"javascript:void(0)\\\" (click)=\\\"thongdieptruyennhan(d.data)\\\">CQT không tiếp nhận</a>\\r\\n  </div>\\r\\n  <div *dxTemplate = \\\"let d of 'periodTemplate'\\\">\\r\\n     {{formatDate(d.data.period,d.data.period_type)}}\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'numberSendTemplate'\\\">\\r\\n    <p *ngIf=\\\"d.data.is_first\\\">\\r\\n      Lần đầu\\r\\n    </p>\\r\\n    <p *ngIf=\\\"!d.data.is_first\\\">\\r\\n      Bổ sung lần {{d.data.order}}\\r\\n    </p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.view_invoice}}\\\" class=\\\"xemIcon actionIcon\\\" (click)=\\\"view(d.data)\\\"\\r\\n       href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n    <a *ngIf=\\\"d.data.is_external && d.data.status == 'CHUA_GUI'\\\" title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"edit(d.data)\\\"\\r\\n       href=\\\"javascript:void(0)\\\"></a>\\r\\n    <a *ngIf=\\\"d.data.status == 'CHUA_GUI'\\\" title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"delete(d.data)\\\"\\r\\n       href=\\\"javascript:void(0)\\\"></a>\\r\\n  </div>\\r\\n  <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\" [filtering]=\\\"true\\\" [summary]=\\\"true\\\">\\r\\n  </dxo-remote-operations>\\r\\n  <dxo-paging [pageSize]= \\\"configs.system_parameter.number_row_per_page\\\"></dxo-paging>\\r\\n  <dxo-pager\\r\\n    [showPageSizeSelector]=\\\"true\\\"\\r\\n    [allowedPageSizes]=\\\"[15, 35, 50, 100]\\\"\\r\\n    [showNavigationButtons]=\\\"true\\\"\\r\\n    [showInfo]=\\\"true\\\"\\r\\n    infoText=\\\"{{ _translate.DXO_PAGER.page}}\\\">>\\r\\n  </dxo-pager>\\r\\n</dx-data-grid>\\r\\n\"","module.exports = \".header-func{margin-top:10px;margin-bottom:10px}::ng-deep .search-section .column{width:36%;display:inline-block;margin:0;text-align:right}::ng-deep .search-section .column .field{padding:5px 0}::ng-deep .search-section .day{width:32%}::ng-deep .search-section .day .field .label{width:61px !important}::ng-deep .search-section .day .field .value{width:56% !important}::ng-deep .search-section .day .field .dx-datebox{width:100% !important}::ng-deep .column .field>div{display:inline-block;vertical-align:middle}::ng-deep .search-section .column .field .label{width:110px;margin-right:10px}::ng-deep .search-section .column .field .value{width:53%}::ng-deep .search-section .column .field .value .dx-selectbox{border-radius:0}::ng-deep .search-section .column .field .value .dx-datebox{border-radius:0}::ng-deep .search-section .column .field .value .dx-datebox .dx-texteditor-input{min-height:25px;max-height:25px}::ng-deep .search-section .column .field .value .dx-texteditor-input{min-height:20px;max-height:25px}::ng-deep .search-section .column .field .valueProcess{width:56%}::ng-deep .search-section .column .field .valueProcess .dx-selectbox{border-radius:0}::ng-deep .search-section .column .field .valueProcess .dx-datebox{border-radius:0}::ng-deep .search-section .column .field .valueProcess .dx-datebox .dx-texteditor-input{min-height:25px;max-height:25px;padding:3px 35px 3px 9px !important}::ng-deep .search-section .column .field .valueProcess .dx-texteditor-input{min-height:20px;max-height:25px}::ng-deep .search-section .search-date{width:100%}::ng-deep .search-section .search-date .dx-texteditor-input{padding-top:5px !important;padding-bottom:4px}::ng-deep .search-section .search-panel .dx-textbox .dx-texteditor-input{padding-top:5px !important;padding-bottom:4px}::ng-deep .search-section .advanced .dx-textbox .dx-texteditor-input,::ng-deep .search-section .advanced-invoice-buy .dx-textbox .dx-texteditor-input{padding-top:5px !important;padding-bottom:4px}.search-panel{width:100%}.search-panel .dx-texteditor{border-radius:0}.search-panel .column{width:68%}.search-panel .label{margin:0}.search-panel .value{width:76% !important}.search-panel .value .dx-textbox{width:83%;display:inline-flex}.search-panel .value .dx-button{position:relative;top:-2px;border-left:0;height:27px}.search-panel .value .dx-button-content{padding-right:0 !important}.search-panel .value .dx-icon{margin-right:3px !important;margin-left:3px !important}.search-panel .value #advBtn{margin-top:0;width:5%}.search-panel .value #searchBtn{margin-top:0;width:9%}.search-panel .valueProcess{width:63%}.search-panel .valueProcess .dx-textbox{width:94%;display:inline-flex}.search-panel .valueProcess .dx-button{position:relative;top:-2px;border-left:0;height:27px}.search-panel .valueProcess .dx-button-content{padding-right:0 !important}.search-panel .valueProcess .dx-icon{margin-right:3px !important;margin-left:3px !important}.search-panel .valueProcess #advBtn{margin-top:0;width:5%}.search-panel .valueProcess #searchBtn{margin-top:0;width:9%}.advanced,.advanced-invoice-buy{margin:0 -15px;transition:all .3s linear 0s;width:145%}.advanced .dx-texteditor,.advanced-invoice-buy .dx-texteditor{border-radius:0}.advanced .column,.advanced-invoice-buy .column{width:24%}.advanced .column .value,.advanced-invoice-buy .column .value{width:47%}.advanced .name-customer,.advanced-invoice-buy .name-customer{width:48% !important}.advanced .name-customer .value,.advanced-invoice-buy .name-customer .value{width:73.4% !important}.advanced .name-customer-buy,.advanced-invoice-buy .name-customer-buy{width:35.07% !important}.advanced .name-customer-buy .value,.advanced-invoice-buy .name-customer-buy .value{width:63.5% !important}.advanced :host .dx-fieldset,.advanced-invoice-buy :host .dx-fieldset{width:100px}.button-ok{height:30px;padding-bottom:10px !important;padding-left:20px}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-popup-content{padding-top:5px !important;padding-left:5px !important;padding-right:5px !important;padding-bottom:0 !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .dx-treeview{height:80% !important;padding-bottom:5px !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .processing_status-search.dx-treeview,::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .exporter-search.dx-treeview{height:75% !important;padding-bottom:5px !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .dx-button-search{border-radius:12px !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .dx-button-search .dx-button-content .dx-icon{font-size:13px !important}::ng-deep .sendTax .modal-content{width:62%;margin-left:25%}::ng-deep .view-invoice{max-width:100%;margin:0px;height:100%}::ng-deep .truyen-nhan{max-width:80% !important;margin:auto}\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DxMenuComponent } from 'devextreme-angular';\r\nimport { VatService } from '@modules/vat/shared';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { AuthService, Helper, Library, VPreviewInvService, sEnum, VStringService, SocketService } from '@core/index';\r\nimport { ViewAttachFileComponent } from '@shared/modules/vat-shared/components/view-attach-file/view-attach-file.component';\r\nimport { SendListEmailComponent, SendDataForTaxComponent } from '@shared/index';\r\nimport * as moment from 'moment';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { InvoicesService } from '@core/library/invoice/invoices.service';\r\nimport { String } from 'typescript-string-operations';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { AddNewDataComponent } from '@modules/send-data-tax/components/add-new-data/add-new-data.component';\r\nimport { SendDataTaxService } from '@modules/send-data-tax/shared/send-data-tax.service';\r\nimport { ShowDataInvoicesComponent } from \"@modules/send-data-tax/components/show-data-invoices/show-data-invoices.component\";\r\nimport { HandleInvoiceService } from '@modules/handle-invoice/shared';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.scss']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n  _translate: any;\r\n  _language: string;\r\n  currentUser: any;\r\n  configs: any;\r\n  bsModalSignRef: BsModalRef;\r\n  exportSchedules: any;\r\n  dataSource: any;\r\n  vats: any;\r\n  objParams: any = {\r\n    exportSchedulesDefault: '',\r\n    startDate: '',\r\n    endDate: ''\r\n  };\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private authService: AuthService,\r\n    private modalService: BsModalService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private taxService: SendDataTaxService,\r\n    private handleInvoiceService: HandleInvoiceService,\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    this.currentUser = this.authService.getCurrentUser();\r\n    translate.use(this._language);\r\n  }\r\n  ngOnInit() {\r\n    this.configs = this.authService.getConfigs();\r\n    this.exportSchedules = Helper.getExportSchedule(this._translate, true).schedule;\r\n    this.objParams.exportSchedulesDefault = \"THANG_NAY\";\r\n    let oKyXuat = this.exportSchedules.filter(p => p.code == \"THANG_NAY\")[0];\r\n    if (oKyXuat) {\r\n      this.objParams.startDate = oKyXuat.startDate;\r\n      this.objParams.endDate = oKyXuat.endDate;\r\n    }\r\n    this.loadList();\r\n    this.loadVat();\r\n  }\r\n  loadList(params?) {\r\n    let param = \"\";\r\n    let _indexfilter_groups = 888;\r\n    if (this.objParams.startDate) {\r\n      this.objParams.startDate = moment(this.objParams.startDate).format('YYYY-MM-DD 00:00:00');\r\n      param += VStringService._removeNewline(`filter_groups[${_indexfilter_groups}][filters][0][key]=created_at\r\n        &filter_groups[${_indexfilter_groups}][filters][0][value]=${this.objParams.startDate}\r\n        &filter_groups[${_indexfilter_groups}][filters][0][operator]=gte&`);\r\n      _indexfilter_groups++;\r\n    }\r\n    if (this.objParams.endDate) {\r\n      this.objParams.endDate = moment(this.objParams.endDate).format('YYYY-MM-DD 23:59:59');\r\n      param += VStringService._removeNewline(`filter_groups[${_indexfilter_groups}][filters][2][key]=created_at\r\n        &filter_groups[${_indexfilter_groups}][filters][2][value]=${this.objParams.endDate}\r\n        &filter_groups[${_indexfilter_groups}][filters][2][operator]=lt&`);\r\n      _indexfilter_groups++;\r\n    }\r\n    this.dataSource = {};\r\n    const ref = {};\r\n    if (param != \"\") {\r\n      const _lst = this.taxService.getAll(param);\r\n      this.dataSource.store = _lst;\r\n    } else {\r\n      this.dataSource.store = this.taxService.getAll();\r\n    }\r\n  }\r\n  themmoi() {\r\n    let data = {\r\n      is_last: true,\r\n      period_type: \"\",\r\n      period: \"\"\r\n    }\r\n    Library.showloading();\r\n    let sub = this.taxService.getInfoCreate(data).subscribe(\r\n      rs => {\r\n        if (rs.status == \"success\") {\r\n          let initialState: any;\r\n          if (rs.data && rs.data.id) {\r\n            initialState = {\r\n              period_type: rs.data.period_type,\r\n              is_create_first: false,\r\n              vats: this.vats\r\n            };\r\n          }\r\n          else {\r\n            initialState = {\r\n              period_type: \"T\",\r\n              is_create_first: true,\r\n              vats: this.vats\r\n            };\r\n          }\r\n          this.bsModalSignRef = this.modalService.show(AddNewDataComponent, {\r\n            backdrop: 'static',\r\n            keyboard: true,\r\n            class: 'sendTax modal-lg modal-margin-width',\r\n            initialState\r\n          });\r\n          const subModal = this.modalService.onHide.subscribe(() => {\r\n            subModal.unsubscribe();\r\n          });\r\n        }\r\n        else {\r\n          Library.notify(rs.message, \"error\", 5000);\r\n        }\r\n      },\r\n      err => {\r\n      },\r\n      () => {\r\n        Library.hideloading();\r\n        sub.unsubscribe();\r\n      }\r\n    );\r\n  }\r\n  thongdieptruyennhan(data) {\r\n    Library.showloading();\r\n    let message = {\r\n      message_code: data.message_code\r\n    }\r\n    let sub = this.handleInvoiceService.getInforSendRecieve(message).subscribe(\r\n      (rs: any) => {\r\n        if (rs.status == \"success\") {\r\n          let lstErr = rs.data;\r\n          const initialState = {\r\n            lstErr: lstErr,\r\n            notifyType: \"THONG_DIEP_TRUYEN_NHAN\",\r\n            send_wrong_status: data.status\r\n          };\r\n          this.bsModalSignRef = this.modalService.show(SendDataForTaxComponent, {\r\n            backdrop: 'static',\r\n            keyboard: true,\r\n            class: 'modal-lg modal-margin-width truyen-nhan',\r\n            initialState\r\n          });\r\n          const subModal = this.modalService.onHide.subscribe(() => {\r\n            subModal.unsubscribe();\r\n          });\r\n        }\r\n        else {\r\n          Library.notify(rs.message, \"error\");\r\n        }\r\n      },\r\n      err => {\r\n      },\r\n      () => {\r\n        Library.hideloading();\r\n        sub.unsubscribe();\r\n      }\r\n    );\r\n  }\r\n  onExportSchedules(e) {\r\n    const selectedItem = e.component.option('selectedItem');\r\n    this.objParams.exportSchedulesDefault = selectedItem.code;\r\n    this.objParams.startDate = selectedItem.startDate;\r\n    this.objParams.endDate = selectedItem.endDate;\r\n    this.loadList();\r\n  }\r\n  onStartDate(e) {\r\n    if (e.event) {\r\n      this.objParams.startDate = (e.value) ? moment(e.value).format('YYYY-MM-DD HH:mm:ss') : '';\r\n      this.loadList();\r\n    }\r\n  }\r\n\r\n  onEndDate(e) {\r\n    if (e.event) {\r\n      this.objParams.endDate = (e.value) ? moment(e.value).format('YYYY-MM-DD HH:mm:ss') : '';\r\n      this.loadList();\r\n    }\r\n  }\r\n  formatDate(date, period_type) {\r\n    let result = \"\";\r\n    if (date) {\r\n      switch (period_type) {\r\n        case 'N':\r\n          result = moment(Helper.processDate(date)).format('DD/MM/YYYY')\r\n          break;\r\n        case 'T':\r\n          let dateTimeT = moment(Helper.processDate(date)).format('MM/YYYY');\r\n          if (dateTimeT == \"Invalid date\")\r\n            dateTimeT = date;\r\n          result = \"Tháng \" + dateTimeT;\r\n          break;\r\n        case 'Q':\r\n          let dateTime = moment(Helper.processDate(date)).format('MM/YYYY');\r\n          if (dateTime == \"Invalid date\")\r\n            dateTime = date;\r\n          result = \"Quý \" + dateTime;\r\n          break;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  edit(data) {\r\n    Library.showloading();\r\n    let sub = this.taxService.laythongtinbangtonghop(data.id).subscribe(\r\n      rs => {\r\n        if (rs.status == \"success\") {\r\n          let kydulieu = \"\";\r\n          if (rs.data.period) {\r\n            kydulieu = moment(rs.data.period).format(\"DD/MM/YYYY\");\r\n            if (rs.data.period_type == \"Q\" || rs.data.period_type == \"T\")\r\n              kydulieu = moment(rs.data.period).format(\"MM/YYYY\");\r\n            if (kydulieu == \"Invalid date\")\r\n              kydulieu = rs.data.period;\r\n          }\r\n          let frmData =\r\n          {\r\n            period_type: rs.data.period_type,\r\n            period: rs.data.period,\r\n            number: rs.data.send_number,\r\n            product_type: rs.data.product_type\r\n          }\r\n          const initialState = {\r\n            isUpdate: true,\r\n            isAutoLoadData: false,\r\n            vats: this.vats,\r\n            frmData: frmData,\r\n            is_first: rs.data.is_first,\r\n            external_invoices: rs.data.external_invoices,\r\n            kydulieu: kydulieu,\r\n            langui: rs.data.send_number,\r\n            id: rs.data.id\r\n          };\r\n          this.taxService.kydulieu = kydulieu;\r\n          this.taxService.langui = rs.data.send_number;\r\n          this.taxService.isAutoLoadData = false;\r\n          this.taxService.vats = this.vats;\r\n          this.taxService.frmData = frmData;\r\n          this.taxService.isUpdate = true;\r\n          this.taxService.is_first = rs.data.is_first;\r\n          this.taxService.external_invoices = rs.data.external_invoices;\r\n          this.taxService.id = rs.data.id;\r\n          this.router.navigate(['system/send-data-tax/create']);\r\n        }\r\n        else {\r\n          Library.notify(rs.message, \"error\", 5000);\r\n        }\r\n      },\r\n      err => {\r\n\r\n      },\r\n      () => {\r\n        Library.hideloading();\r\n        sub.unsubscribe();\r\n      }\r\n    );\r\n  }\r\n  view(data) {\r\n    let id = data.id;\r\n    let extend = {\r\n      is_external: data.is_external\r\n    }\r\n    Library.showloading();\r\n    this.taxService.getFilePdf(id, extend).subscribe(\r\n      (rs: any) => {\r\n        if (rs.status == \"success\") {\r\n          if (VStringService._getValueToString(rs.data.fileData) != \"\")\r\n            Helper.showFileXml(rs.data.fileName, 'pdf', rs.data.fileData);\r\n          else\r\n            Library.notify(\"Nội dung file không có dữ liệu\", \"error\", 5000);\r\n        }\r\n        else\r\n          Library.notify(rs.message, \"error\", 5000);\r\n      },\r\n      err => {\r\n\r\n      },\r\n      () => {\r\n        Library.hideloading();\r\n      }\r\n    );\r\n  }\r\n  delete(data) {\r\n    const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n    result.then((dialogResult) => {\r\n      if (dialogResult) {\r\n        let id = data.id;\r\n        let is_external = false;\r\n        if (data.is_external)\r\n          is_external = true;\r\n        let objSend = {\r\n          is_external: is_external\r\n        };\r\n        Library.showloading();\r\n        let sub = this.taxService.xoaBangTongHop(id, objSend).subscribe(\r\n          rs => {\r\n            if (rs.status == \"success\") {\r\n              this.loadList();\r\n            }\r\n            else {\r\n              Library.notify(rs.message, \"error\", 5000);\r\n            }\r\n          },\r\n          err => {\r\n          },\r\n          () => {\r\n            Library.hideloading();\r\n            sub.unsubscribe();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n  loadVat() {\r\n    this.taxService.loadVat().subscribe(\r\n      rs => {\r\n        if (rs.status == \"success\") {\r\n          this.vats = rs.data.DM_TY_LE_VAT;\r\n        }\r\n      },\r\n      err => {\r\n\r\n      },\r\n      () => {\r\n\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<!-- <div class=\\\"modal-header\\\">\\r\\n  <h4 class=\\\"modal-title pull-left\\\">BẢNG TỔNG HỢP DỮ LIỆU HÓA ĐƠN</h4>\\r\\n</div> -->\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <div class=\\\"report-gird-edit\\\">\\r\\n    <div>\\r\\n      <p style=\\\"text-align: center;font-weight: bold;font-size: 21px;margin-bottom: 15px;margin-left: 35px\\\">\\r\\n        {{oCaption.bang_tong_hop_du_lieu}}</p>\\r\\n    </div>\\r\\n    <div>\\r\\n      <dx-form [formData]=\\\"frmData\\\">\\r\\n        <!-- Kỳ dữ liệu -->\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"1\\\" style=\\\"display: flex;justify-content: center;\\\">\\r\\n          <div style=\\\"margin-right: 8px;width: 125px;text-align: right;font-weight: bold;\\\">\\r\\n            {{_translate.CONTROLL.LABEL.data_period}}:</div>\\r\\n          <div class=\\\"input-lan-gui dx-field-item-content dx-field-item-content-location-right\\\">\\r\\n            <div class=\\\"dx-show-invalid-badge dx-textbox dx-texteditor dx-editor-outlined dx-widget\\\">\\r\\n              <div class=\\\"dx-texteditor-container\\\">\\r\\n                <div class=\\\"dx-texteditor-input-container ky-du-lieu\\\">\\r\\n                  <dx-text-box [(value)]=\\\"kydulieu\\\" [readOnly]=\\\"true\\\" style=\\\"padding-top: 7px;\\\"></dx-text-box>\\r\\n\\r\\n                  <div data-dx_placeholder=\\\"\\\" class=\\\"dx-placeholder dx-state-invisible\\\"></div>\\r\\n                </div>\\r\\n                <div class=\\\"dx-texteditor-buttons-container\\\">\\r\\n                  <div></div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </dxi-item>\\r\\n        <!-- Lần gửi -->\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"1\\\" style=\\\"display: flex;justify-content: center;;margin-bottom: 10px\\\">\\r\\n          <div style=\\\"margin-right: 8px;width: 125px;text-align: right;font-weight: bold;\\\">\\r\\n            {{_translate.CONTROLL.LABEL.number_send}}:</div>\\r\\n          <div class=\\\"input-lan-gui dx-field-item-content dx-field-item-content-location-right\\\">\\r\\n            <div class=\\\"dx-show-invalid-badge dx-textbox dx-texteditor dx-editor-outlined dx-widget\\\">\\r\\n              <div class=\\\"dx-texteditor-container\\\">\\r\\n                <div class=\\\"dx-texteditor-input-container\\\">\\r\\n                  <input autocomplete=\\\"off\\\" class=\\\"dx-texteditor-input\\\" type=\\\"number\\\" min=\\\"1\\\" maxlength=\\\"2\\\" tabindex=\\\"0\\\"\\r\\n                    [ngModel]=\\\"langui\\\" readonly=\\\"true\\\" role=\\\"textbox\\\">\\r\\n                  <div data-dx_placeholder=\\\"\\\" class=\\\"dx-placeholder dx-state-invisible\\\"></div>\\r\\n                </div>\\r\\n                <div class=\\\"dx-texteditor-buttons-container\\\">\\r\\n                  <div></div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </dxi-item>\\r\\n        <!-- Số bảng tổng hợp -->\\r\\n        <dxi-item *ngIf=\\\"isShowSoBangTongHop\\\" itemType=\\\"group\\\" [colCount]=\\\"1\\\"\\r\\n          style=\\\"display: flex;margin-bottom: 10px;justify-content: center;\\\">\\r\\n          <div style=\\\"margin-right: 8px;width: 125px;text-align: right;font-weight: bold;\\\">\\r\\n            {{oCaption.so_tong_hop_du_lieu}}:</div>\\r\\n          <div class=\\\"input-lan-gui dx-field-item-content dx-field-item-content-location-right\\\">\\r\\n            <div class=\\\"dx-show-invalid-badge dx-textbox dx-texteditor dx-editor-outlined dx-widget\\\">\\r\\n              <div class=\\\"dx-texteditor-container\\\">\\r\\n                <div class=\\\"dx-texteditor-input-container\\\">\\r\\n                  <input autocomplete=\\\"off\\\" class=\\\"dx-texteditor-input\\\" type=\\\"number\\\" min=\\\"1\\\" [ngModel]=\\\"sobangtonghop\\\"\\r\\n                    maxlength=\\\"2\\\" tabindex=\\\"0\\\" role=\\\"textbox\\\">\\r\\n                  <div data-dx_placeholder=\\\"\\\" class=\\\"dx-placeholder dx-state-invisible\\\"></div>\\r\\n                </div>\\r\\n                <div class=\\\"dx-texteditor-buttons-container\\\">\\r\\n                  <div></div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </dxi-item>\\r\\n      </dx-form>\\r\\n    </div>\\r\\n    <dx-data-grid id=\\\"gridReport\\\" [dataSource]=\\\"dataSource\\\" [showRowLines]=\\\"true\\\" [allowColumnReordering]=\\\"true\\\"\\r\\n      [allowColumnResizing]=\\\"true\\\" [showBorders]=\\\"true\\\" [columnMinWidth]=\\\"50\\\"\\r\\n      (onContextMenuPreparing)=\\\"onContextMenuPreparing($event)\\\" [columnAutoWidth]=\\\"true\\\">\\r\\n      <dxo-sorting mode=\\\"none\\\"></dxo-sorting>\\r\\n      <dxo-editing *ngIf=\\\"!isAutoLoadData\\\" mode=\\\"cell\\\" [allowUpdating]=\\\"true\\\"></dxo-editing>\\r\\n      <dxi-column caption=\\\"STT\\\" dataField=\\\"order\\\" [width]=\\\"63\\\" alignment=\\\"center\\\" sortOrder=\\\"asc\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.template_code}}\\\" dataField=\\\"template_code\\\" [width]=\\\"90\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.invoice_series}}\\\" dataField=\\\"invoice_series\\\" [width]=\\\"90\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.invoice_number}}\\\" dataField=\\\"invoice_number\\\" [width]=\\\"90\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.invoice_date}}\\\" dataField=\\\"invoice_date\\\" [width]=\\\"100\\\"\\r\\n        dataType=\\\"date\\\" format=\\\"dd/MM/yyyy\\\" dateSerializationFormat=\\\"yyyy-MM-dd\\\" alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.customer_name}}\\\" dataField=\\\"customer_name\\\" [width]=\\\"344\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.CONTROLL.LABEL.buyer_name}}\\\" dataField=\\\"buyer_name\\\" [width]=\\\"162\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.mst_khach_hang}}\\\" dataField=\\\"buyer_tax_code\\\" [width]=\\\"140\\\" alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.CONTROLL.LABEL.customer_code}}\\\" dataField=\\\"customer_code\\\" [width]=\\\"135\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE_DETAILS.product_code}}\\\" dataField=\\\"product_code\\\" [width]=\\\"145\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE_DETAILS.product_name}}\\\" dataField=\\\"product_name\\\" [width]=\\\"290\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE_DETAILS.quantity}}\\\" dataField=\\\"quantity\\\" [width]=\\\"105\\\"\\r\\n        [editorOptions]=\\\"{ format: formatter.so_luong }\\\" [format]=\\\"formatter.so_luong\\\" dataType=\\\"number\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.tong_thanh_tien}}\\\" dataField=\\\"amount\\\" [width]=\\\"150\\\"\\r\\n        [editorOptions]=\\\"{ format: formatter.thanh_tien }\\\" [format]=\\\"formatter.thanh_tien\\\" dataType=\\\"number\\\"\\r\\n        alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column dataField=\\\"vat\\\" caption=\\\"{{_translate.GRID.INVOICE_DETAILS.vat}}\\\" [width]=\\\"90\\\" alignment=\\\"center\\\"\\r\\n        [editorOptions]=\\\"{showClearButton: true ,step: '0'}\\\">\\r\\n        <dxo-lookup [dataSource]=\\\"vats\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" *ngIf=\\\"!isAutoLoadData\\\"></dxo-lookup>\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.total_amount_vat}}\\\" dataField=\\\"amount_vat\\\" [width]=\\\"150\\\"\\r\\n        [editorOptions]=\\\"{ format: formatter.tien_thue }\\\" [format]=\\\"formatter.tien_thue\\\" dataType=\\\"number\\\"\\r\\n        alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n      <!-- Tổng tiền phí -->\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.total_fee }}\\\" dataField=\\\"amount_fee\\\" [width]=\\\"150\\\"\\r\\n        [editorOptions]=\\\"{ format: formatter.tien_thue }\\\" [format]=\\\"formatter.tien_thue\\\" dataType=\\\"number\\\"\\r\\n        alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n      <!-- Tổng tiền giảm trừ khác -->\\r\\n      <dxi-column caption=\\\"{{_translate.GRID.INVOICE.other_total_deduction}}\\\" dataField=\\\"other_total_deduction\\\"\\r\\n        [width]=\\\"200\\\" [editorOptions]=\\\"{ format: formatter.tien_thue }\\\" [format]=\\\"formatter.tien_thue\\\" dataType=\\\"number\\\"\\r\\n        alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{_translate.CONTROLL.LABEL.amount_after_vat}}\\\" dataField=\\\"amount_after_vat\\\" [width]=\\\"161\\\"\\r\\n        [editorOptions]=\\\"{ format: formatter.tong_tien }\\\" [format]=\\\"formatter.tong_tien\\\" dataType=\\\"number\\\"\\r\\n        alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n      <!-- Loại tiền -->\\r\\n      <dxi-column caption=\\\"{{_translate.CONTROLL.LABEL.currency_code}}\\\" dataField=\\\"product_exchange_code\\\" [width]=\\\"150\\\"\\r\\n        alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n      <!-- Tỉ giá -->\\r\\n      <dxi-column caption=\\\"{{_translate.CONTROLL.LABEL.currency_rate}}\\\" dataField=\\\"product_exchange_rate\\\" [width]=\\\"150\\\"\\r\\n        alignment=\\\"right\\\" [editorOptions]=\\\"{ format: formatter.tong_tien }\\\" [format]=\\\"formatter.tong_tien\\\"\\r\\n        dataType=\\\"number\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column dataField=\\\"status\\\" caption=\\\"{{_translate.GRID.GENERAL.status}}\\\" [width]=\\\"106\\\" alignment=\\\"center\\\"\\r\\n        [editorOptions]=\\\"{showClearButton: true ,step: '0'}\\\">\\r\\n        <dxo-lookup [dataSource]=\\\"processStatus\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\"></dxo-lookup>\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.loai_hd_lien_quan}}\\\" dataField=\\\"related_invoice_type\\\" [width]=\\\"132\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.mau_so_hd_lien_quan}}\\\" dataField=\\\"related_template_code\\\" [width]=\\\"170\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.ky_hieu_hd_lien_quan}}\\\" dataField=\\\"related_invoice_series\\\" [width]=\\\"170\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.so_hd_lien_quan}}\\\" dataField=\\\"related_invoice_number\\\" [width]=\\\"137\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.loai_ky_du_lieu_dieu_chinh}}\\\" dataField=\\\"period_type\\\" [width]=\\\"190\\\"\\r\\n        alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column caption=\\\"{{oCaption.ky_du_lieu_dieu_chinh}}\\\" dataField=\\\"period\\\" [width]=\\\"170\\\" alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column *ngIf=\\\"!isAutoLoadData\\\" caption=\\\"{{_translate.GRID.GENERAL.note}}\\\" dataField=\\\"note\\\" [width]=\\\"90\\\">\\r\\n      </dxi-column>\\r\\n      <dxo-remote-operations *ngIf=\\\"isAutoLoadData\\\" [sorting]=\\\"true\\\" [paging]=\\\"true\\\" [filtering]=\\\"true\\\"\\r\\n        [summary]=\\\"true\\\">\\r\\n      </dxo-remote-operations>\\r\\n      <dxo-remote-operations *ngIf=\\\"!isAutoLoadData\\\" [sorting]=\\\"false\\\" [filtering]=\\\"false\\\"></dxo-remote-operations>\\r\\n      <dxo-paging *ngIf=\\\"isAutoLoadData\\\" [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n      <dxo-pager *ngIf=\\\"isAutoLoadData\\\" [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[15, 50, 100]\\\"\\r\\n        [showNavigationButtons]=\\\"true\\\" [showInfo]=\\\"true\\\" infoText=\\\"{{ _translate.DXO_PAGER.page }}\\\">\\r\\n      </dxo-pager>\\r\\n    </dx-data-grid>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\" style=\\\"height: 55px;\\\">\\r\\n  <div style=\\\"color: red;font-style: italic;margin-right: 30px;\\\">\\r\\n    <span>{{_translate.CONTROLL.LABEL.note_general_table_max_line}}</span><br>\\r\\n    <span style=\\\"margin-left: 42px;line-height: 18px;\\\">{{_translate.CONTROLL.LABEL.auto_divide_multi_table}}</span>\\r\\n  </div>\\r\\n  <dx-button text=\\\"{{oCaption.gui_du_lieu}}\\\" type=\\\"default\\\" (click)=\\\"GuiDuLieu()\\\">\\r\\n  </dx-button>\\r\\n  <dx-button *ngIf=\\\"!isAutoLoadData\\\" text=\\\"{{_translate.CONTROLL.BUTTON.save_temporary}}\\\" type=\\\"default\\\"\\r\\n    (click)=\\\"GhiTam()\\\">\\r\\n  </dx-button>\\r\\n  <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.close}}\\\" type=\\\"default\\\" (click)=\\\"dong()\\\">\\r\\n  </dx-button>\\r\\n</div>\\r\\n\\r\\n<!-- popup -->\\r\\n<dx-popup class=\\\"popup\\\" [width]=\\\"400\\\" [height]=\\\"120\\\" [showTitle]=\\\"true\\\" title=\\\"{{_translate.NOTIFY.processing}}\\\"\\r\\n  [dragEnabled]=\\\"false\\\" (onShowing)=\\\"onImportShowing($event)\\\" (onHiding)=\\\"onImportHiding($event)\\\"\\r\\n  [(visible)]=\\\"showPopup\\\">\\r\\n  <div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n    <div style=\\\"height: 30px;\\\">\\r\\n      <dx-progress-bar [min]=\\\"0\\\" [max]=\\\"100\\\" [value]=\\\"valueProgress\\\" [statusFormat]=\\\"format\\\">\\r\\n      </dx-progress-bar>\\r\\n    </div>\\r\\n  </div>\\r\\n</dx-popup>\"","module.exports = \"::ng-deep .ky-du-lieu .dx-text-box .dx-texteditor-input{padding-top:3px !important}\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AuthService, Helper, Library, VPreviewInvService, sEnum, VStringService, SocketService, VChanggeMoneyService } from '@core/index';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport ArrayStore from 'devextreme/data/array_store';\r\nimport DataSource from 'devextreme/data/data_source';\r\nimport { InvoiceSend } from \"@modules/send-data-tax/shared/invoice-send\";\r\nimport { DxDataGridComponent, DxFormComponent } from 'devextreme-angular';\r\nimport { SendDataTaxService } from '@modules/send-data-tax/shared/send-data-tax.service';\r\nimport { RegisterService } from '@modules/auth/shared';\r\nimport * as moment from 'moment';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-show-data-invoices',\r\n  templateUrl: './show-data-invoices.component.html',\r\n  styleUrls: ['./show-data-invoices.component.scss']\r\n})\r\nexport class ShowDataInvoicesComponent implements OnInit {\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  _translate: any;\r\n  _language: string;\r\n  currentUser: any;\r\n  configs: any;\r\n  kydulieu: any;\r\n  langui: any;\r\n  isAutoLoadData: any;\r\n  synthesize_datas: ArrayStore;\r\n  dataSource: DataSource;\r\n  invoiceSend: InvoiceSend = new InvoiceSend();\r\n  vats: any;\r\n  frmData: any;\r\n  sobangtonghop: number;\r\n  valueProgress: number = 0;\r\n  errorImport: boolean = false;\r\n  subFile: any;\r\n  showPopup = false;\r\n  totalFile: number;\r\n  fileIndex = 0;\r\n  tempKiFile = 0;\r\n  lstFile: any;\r\n  infoDangKy: any;\r\n  isTT78: boolean = false;\r\n  ioSignature: any;\r\n  formatter: any = {};\r\n  isUpdate: any;\r\n  is_first: boolean = false;\r\n  external_invoices: any;\r\n  isExportFailed: boolean = false;\r\n  id: any;\r\n  isShowSoBangTongHop: boolean = false;\r\n  bsModalRef: BsModalRef;\r\n  maxRowXangDau: number = 8000;\r\n  maxRowKhac: number = 5000;\r\n  oCaption: any;\r\n  format = (value) => {\r\n    let percent = Math.round(value * 100);\r\n    return this._translate.NOTIFY.finish + \": \" + percent + '%';\r\n  }\r\n  processStatus = [\r\n    {\r\n      name: \"Mới\",\r\n      code: \"0\"\r\n    },\r\n    {\r\n      name: \"Hủy\",\r\n      code: \"1\"\r\n    },\r\n    {\r\n      name: \"Điều chỉnh\",\r\n      code: \"2\"\r\n    },\r\n    {\r\n      name: \"Thay thế\",\r\n      code: \"3\"\r\n    },\r\n    {\r\n      name: \"Giải trình\",\r\n      code: \"4\"\r\n    },\r\n    {\r\n      name: \"Sai sót do tổng hợp\",\r\n      code: \"5\"\r\n    }\r\n  ];\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private authService: AuthService,\r\n    private taxService: SendDataTaxService,\r\n    private socketService: SocketService,\r\n    private registerService: RegisterService,\r\n    private router: Router,\r\n    private location: Location,\r\n    private activeRoute: ActivatedRoute,\r\n    private modalService: BsModalService,) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this._language);\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Gán dữ liệu từ service\r\n    this.kydulieu = this.taxService.kydulieu;\r\n    this.langui = this.taxService.langui;\r\n    this.isAutoLoadData = this.taxService.isAutoLoadData;\r\n    this.vats = this.taxService.vats;\r\n    this.frmData = this.taxService.frmData;\r\n    this.isUpdate = this.taxService.isUpdate;\r\n    this.is_first = this.taxService.is_first;\r\n    this.external_invoices = this.taxService.external_invoices;\r\n    this.id = this.taxService.id;\r\n    this.connectWebsocket();\r\n    this.configs = this.authService.getConfigs();\r\n    this.formatter = VChanggeMoneyService.getFormatterColumnInv(this.configs.decimal_places_json);\r\n    this.currentUser = this.authService.getCurrentUser();\r\n    if (this.currentUser.is_convert_TT78) {\r\n      this.infoDangKy = this.authService.getInfoRegister();\r\n      if (this.infoDangKy && this.infoDangKy.id) {\r\n        if (this.infoDangKy.status == \"CHAP_NHAN\")\r\n          this.isTT78 = true;\r\n      }\r\n    }\r\n    if (this.isAutoLoadData) {\r\n      this.loadListInvoice();\r\n    }\r\n    else {\r\n      if (this.isUpdate) {\r\n        this.synthesize_datas = new ArrayStore({\r\n          key: 'id',\r\n          data: this.external_invoices\r\n        });\r\n        this.dataSource = new DataSource({\r\n          store: this.synthesize_datas\r\n        });\r\n      }\r\n      else {\r\n        this.synthesize_datas = new ArrayStore({\r\n          key: 'id',\r\n          data: this.invoiceSend.add_invoices()\r\n        });\r\n        this.dataSource = new DataSource({\r\n          store: this.synthesize_datas\r\n        });\r\n      }\r\n    }\r\n    this.oCaption = \r\n    {\r\n      mst_khach_hang : this._translate.CONTROLL.LABEL.mst + \" \" + this._translate.GRID.INVOICE.customer.toLowerCase(),\r\n      tong_thanh_tien: this._translate.GRID.INVOICE_DETAILS.sum + \" \" + this._translate.GRID.INVOICE_DETAILS.amount.toLowerCase(),\r\n      loai_hd_lien_quan : this._translate.CONTROLL.LABEL.type + \" \" + this._translate.CONTROLL.LABEL.invoice_involve,\r\n      mau_so_hd_lien_quan : this._translate.GRID.INVOICE.template_code + \" \" + this._translate.CONTROLL.LABEL.invoice_involve,\r\n      ky_hieu_hd_lien_quan : this._translate.GRID.INVOICE.invoice_series + \" \" + this._translate.CONTROLL.LABEL.invoice_involve,\r\n      so_hd_lien_quan : this._translate.CONTROLL.LABEL.number + \" \" + this._translate.CONTROLL.LABEL.invoice_involve,\r\n      loai_ky_du_lieu_dieu_chinh : this._translate.CONTROLL.LABEL.data_period_type + \" \" + this._translate.CONTROLL.BUTTON.adjusted.toLowerCase(),\r\n      ky_du_lieu_dieu_chinh : this._translate.CONTROLL.LABEL.data_period + \" \" + this._translate.CONTROLL.BUTTON.adjusted.toLowerCase(),\r\n      gui_du_lieu: this._translate.CONTROLL.BUTTON.send + \" \" + this._translate.CONTROLL.LABEL.data.toLowerCase(),\r\n      bang_tong_hop_du_lieu: this._translate.MENU.send_data_tax.toUpperCase() + \" \" + this._translate.CONTROLL.LABEL.invoice.toUpperCase(),\r\n      so_tong_hop_du_lieu: this._translate.CONTROLL.LABEL.number + \" \" + this._translate.CONTROLL.LABEL.general_table.toLowerCase(),\r\n    }\r\n  }\r\n  \r\n  connectWebsocket() {\r\n    this.ioSignature = this.socketService.lapHoaDon().subscribe(message => {\r\n      const data: any = message;\r\n      if (data.Status == 'success') {\r\n        if (data.SvcName === 'efy_Sign') {\r\n          let i = this.fileIndex;\r\n          if (data.Data.Name === 'hoadon.xml') {\r\n            this.goiApiGuiFile(data.Data.Content);\r\n          }\r\n          else if (data.Data.Name === 'ten_filek_the_trung-dc-nhi.xml') {\r\n            this.xuLyApiKhiXuat(this.lstFile[i]);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        this.isExportFailed = true;\r\n        this.continuteExportInvoice(false);\r\n      }\r\n\r\n    });\r\n  }\r\n  GuiDuLieu() {\r\n    const question = Library.confirm(\"Bạn có chắc chắn gửi dữ liệu cho CQT không?\", this._translate.NOTIFY.notify);\r\n    question.then(\r\n      (result) => {\r\n        if (result) {\r\n          if (!this.isUpdate) {\r\n            if (this.langui == 1)\r\n              this.is_first = true;\r\n          }\r\n          if (this.isAutoLoadData) {\r\n            let data = {\r\n              period_type: this.frmData.period_type,\r\n              period: this.kydulieu,\r\n              number: this.sobangtonghop,\r\n              is_first: this.is_first,\r\n              product_type: this.frmData.product_type,\r\n              addition: this.frmData.number,\r\n              add_hands: false\r\n            };\r\n            Library.showloading();\r\n            let sub = this.taxService.invoicesSummary(data).subscribe(\r\n              rs => {\r\n                if (rs.status == \"success\") {\r\n                  if (rs.data && rs.data.length > 0) {\r\n                    this.showPopup = true;\r\n                    this.lstFile = rs.data;\r\n                    //this.id = rs.data[0].summary_id;\r\n                    this.totalFile = rs.data.length;\r\n                    this.fileIndex = 0;\r\n                    this.tempKiFile = 0;\r\n                    this.LayFileDuLieu();\r\n                  }\r\n                  else\r\n                    Library.notify(\"Không có dữ liệu gửi bảng tổng hợp\", \"error\", 5000);\r\n                }\r\n                else {\r\n                  Library.notify(rs.message, \"error\", 5000);\r\n                }\r\n              },\r\n              err => {\r\n\r\n              },\r\n              () => {\r\n                Library.hideloading();\r\n                sub.unsubscribe();\r\n              }\r\n            );\r\n          }\r\n          else {\r\n            let invoices = [];\r\n            this.synthesize_datas.load().then((dataSource) => {\r\n              invoices = dataSource.filter(p => VStringService._getValueToString(p.invoice_number) != \"\" || VStringService._getValueToString(p.product_name) != \"\");\r\n              invoices.forEach(item => {\r\n                if (item.invoice_date)\r\n                  item.invoice_date = moment(item.invoice_date).format('YYYY-MM-DD HH:mm:ss');\r\n              });\r\n            });\r\n            let data = {\r\n              period_type: this.frmData.period_type,\r\n              period: this.kydulieu,\r\n              number: this.sobangtonghop,\r\n              is_first: this.is_first,\r\n              product_type: this.frmData.product_type,\r\n              addition: this.frmData.number,\r\n              add_hands: true,\r\n              invoices: invoices\r\n            };\r\n            Library.showloading();\r\n            if (this.isUpdate) {\r\n              let sub = this.taxService.updateSummaryHand(this.id, data).subscribe(\r\n                rs => {\r\n                  if (rs.status == \"success\") {\r\n                    if (rs.data && rs.data.length > 0) {\r\n                      this.showPopup = true;\r\n                      this.lstFile = rs.data;\r\n                      this.totalFile = rs.data.length;\r\n                      this.fileIndex = 0;\r\n                      this.tempKiFile = 0;\r\n                      this.LayFileDuLieu();\r\n                    }\r\n                    else\r\n                      Library.notify(\"Không có dữ liệu gửi bảng tổng hợp\", \"error\", 5000);\r\n                  }\r\n                  else {\r\n                    Library.notify(rs.message, \"error\", 5000);\r\n                  }\r\n                },\r\n                err => {\r\n\r\n                },\r\n                () => {\r\n                  Library.hideloading();\r\n                  sub.unsubscribe();\r\n                }\r\n              );\r\n            }\r\n            else {\r\n              let sub = this.taxService.invoicesSummaryHand(data).subscribe(\r\n                rs => {\r\n                  if (rs.status == \"success\") {\r\n                    if (rs.data && rs.data.length > 0) {\r\n                      this.showPopup = true;\r\n                      this.lstFile = rs.data;\r\n                      this.totalFile = rs.data.length;\r\n                     // this.id = rs.data[0].summary_id;\r\n                      this.fileIndex = 0;\r\n                      this.tempKiFile = 0;\r\n                      this.LayFileDuLieu();\r\n                    }\r\n                    else\r\n                      Library.notify(\"Không có dữ liệu gửi bảng tổng hợp\", \"error\", 5000);\r\n                  }\r\n                  else {\r\n                    Library.notify(rs.message, \"error\", 5000);\r\n                  }\r\n                },\r\n                err => {\r\n\r\n                },\r\n                () => {\r\n                  Library.hideloading();\r\n                  sub.unsubscribe();\r\n                }\r\n              );\r\n            }\r\n\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      }\r\n    );\r\n  }\r\n  LayFileDuLieu() {\r\n    let i = this.fileIndex;\r\n    if (this.configs.integrate_parameter.concentrate_signature.is_concentrate_signature\r\n      || (this.configs.integrate_parameter.remote_signing && this.configs.integrate_parameter.remote_signing.is_remote_signing)) {\r\n      this.xuLyApiKhiXuat(this.lstFile[i]);\r\n    } else {\r\n      if (this.isTT78) {\r\n        let ListSerialNumber = \"DSCKS\";\r\n        if (this.infoDangKy && this.infoDangKy.registration_signature) {\r\n          let signatures = this.infoDangKy.registration_signature.filter(p => p.register_form == \"THEM_MOI\" || p.register_form == \"GIA_HAN\");\r\n          if (signatures && signatures.length > 0)\r\n            ListSerialNumber = signatures.map((obj: any) => obj.cert_serial).join(';');\r\n        }\r\n        let invoiceDate = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\r\n        this.socketService.kiSo(() => this.connectWebsocket(), 'PHRlbXBJbnZvaWNlPjwvdGVtcEludm9pY2U+', 'ten_filek_the_trung-dc-nhi.xml', '//tempInvoice', invoiceDate, \"\", ListSerialNumber, true);\r\n      }\r\n      else\r\n        this.socketService.kiSo(() => this.connectWebsocket(), 'PHRlbXBJbnZvaWNlPjwvdGVtcEludm9pY2U+', 'ten_filek_the_trung-dc-nhi.xml', '//tempInvoice')\r\n    }\r\n  }\r\n  xuLyApiKhiXuat(oFile) {\r\n    let xmlInvoice = \"\";\r\n    let mst = this.currentUser.account.tax_code;\r\n    this.id = oFile.summary_id;\r\n    let subFile = this.taxService.getInfoFile(oFile.file_id, mst).subscribe(\r\n      rs => {\r\n        if (rs.status == \"success\") {\r\n          xmlInvoice = rs.data.file_content;\r\n          let sign_date = moment(rs.data.sign_date).format('YYYY-MM-DD HH:mm:ss');\r\n          if (xmlInvoice != \"\") {\r\n            if (this.configs.integrate_parameter.concentrate_signature.is_concentrate_signature\r\n              || (this.configs.integrate_parameter.remote_signing && this.configs.integrate_parameter.remote_signing.is_remote_signing))\r\n              this.goiApiGuiFile(xmlInvoice);\r\n            else\r\n              this.xuLyKiFile(xmlInvoice, sign_date);\r\n          }\r\n        }\r\n        else {\r\n          this.isExportFailed = true;\r\n          this.continuteExportInvoice(false);\r\n        }\r\n      },\r\n      err => {\r\n\r\n      },\r\n      () => {\r\n        subFile.unsubscribe();\r\n      }\r\n    );\r\n  }\r\n  xuLyKiFile(xmlInvoice, invoiceDate) {\r\n    let nodeSign = \"//BTHDLieu/DSCKS/NNT\";\r\n    let ListSerialNumber = \"DSCKS\";\r\n    if (this.infoDangKy && this.infoDangKy.registration_signature) {\r\n      let signatures = this.infoDangKy.registration_signature.filter(p => p.register_form == \"THEM_MOI\" || p.register_form == \"GIA_HAN\");\r\n      if (signatures && signatures.length > 0)\r\n        ListSerialNumber = signatures.map((obj: any) => obj.cert_serial).join(';');\r\n    }\r\n    this.socketService.kiSo(() => this.connectWebsocket(), xmlInvoice, 'hoadon.xml', nodeSign, invoiceDate, 'generelData', ListSerialNumber, true);\r\n  }\r\n  goiApiGuiFile(xml_string) {\r\n    let data = {\r\n      xml_file: xml_string,\r\n      id: this.id\r\n    }\r\n    this.subFile = this.taxService.sendXmlInvoice(data).subscribe(rs => {\r\n      let isSuccess = false;\r\n      this.tempKiFile = 0;\r\n      if (rs.status == 'success') {\r\n        isSuccess = true;\r\n      } else {\r\n        this.isExportFailed = true;\r\n      }\r\n      this.continuteExportInvoice(isSuccess);\r\n    }, err => { }, () => {\r\n      this.subFile.unsubscribe();\r\n    });\r\n  }\r\n  GhiTam() {\r\n    if (!this.isUpdate) {\r\n      if (this.langui == 1)\r\n        this.is_first = true;\r\n    }\r\n    let invoices = [];\r\n    this.synthesize_datas.load().then((dataSource) => {\r\n      invoices = dataSource.filter(p => VStringService._getValueToString(p.invoice_number) != \"\" || VStringService._getValueToString(p.product_name) != \"\");\r\n      invoices.forEach(item => {\r\n        if (item.invoice_date)\r\n          item.invoice_date = moment(item.invoice_date).format('YYYY-MM-DD HH:mm:ss');\r\n      });\r\n    });\r\n    let data = {\r\n      period_type: this.frmData.period_type,\r\n      period: this.kydulieu,\r\n      number: this.sobangtonghop,\r\n      is_first: this.is_first,\r\n      product_type: this.frmData.product_type,\r\n      addition: this.frmData.number,\r\n      add_hands: true,\r\n      invoices: invoices\r\n    };\r\n    Library.showloading();\r\n    if (this.isUpdate) {\r\n      let sub = this.taxService.updateSummaryHand(this.id, data).subscribe(\r\n        rs => {\r\n          if (rs.status == \"success\") {\r\n            Library.notify(\"Ghi tạm thành công\", \"success\", 5000);\r\n            this.router.navigate(['/system/send-data-tax'], { relativeTo: this.activeRoute });\r\n          }\r\n          else {\r\n            Library.notify(rs.message, \"error\", 5000);\r\n          }\r\n        },\r\n        err => {\r\n        },\r\n        () => {\r\n          Library.hideloading();\r\n          sub.unsubscribe();\r\n        }\r\n      );\r\n    }\r\n    else {\r\n      let sub = this.taxService.invoicesSummaryHand(data).subscribe(\r\n        rs => {\r\n          if (rs.status == \"success\") {\r\n            Library.notify(\"Ghi tạm thành công\", \"success\", 5000);\r\n            this.router.navigate(['/system/send-data-tax'], { relativeTo: this.activeRoute });\r\n          }\r\n          else {\r\n            Library.notify(rs.message, \"error\", 5000);\r\n          }\r\n        },\r\n        err => {\r\n        },\r\n        () => {\r\n          Library.hideloading();\r\n          sub.unsubscribe();\r\n        }\r\n      );\r\n    }\r\n  }\r\n  dong() {\r\n    // this.location.back();\r\n    this.router.navigate(['/system/send-data-tax'], { relativeTo: this.activeRoute });\r\n    // window.location.reload();\r\n    // this.router.navigate['/system/send-data-tax']\r\n  }\r\n  onContextMenuPreparing(e) {\r\n    if (e.row && e.row.rowType === 'data') {\r\n      if (!this.isAutoLoadData) {\r\n        e.items = [\r\n          {\r\n            text: this._translate.CONTROLL.BUTTON.add_row,\r\n            onItemClick: () => {\r\n              this.addRow();\r\n            }\r\n          },\r\n          {\r\n            text: this._translate.CONTROLL.BUTTON.delete_row,\r\n            onItemClick: () => {\r\n              this.deleteRow(e.row.data);\r\n            }\r\n          },\r\n        ];\r\n      }\r\n    }\r\n  }\r\n  /* Thêm dòng */\r\n  addRow() {\r\n    let len, order, orderLast;\r\n    this.synthesize_datas.load().then((dataSource) => {\r\n      len = dataSource.length;\r\n      if (len == 0)\r\n        orderLast = 0;\r\n      else\r\n        orderLast = dataSource[len - 1].order;\r\n    });\r\n\r\n    for (let i = 0; i < 1; i++) {\r\n\r\n      if (len >= 1) {\r\n        order = ++orderLast;\r\n      } else {\r\n        order = 1;\r\n      }\r\n      const data = this.invoiceSend.addData(order);\r\n      this.synthesize_datas.insert(data);\r\n    }\r\n    this.dataGrid.instance.refresh();\r\n  }\r\n  deleteRow(item) {\r\n    setTimeout(() => {\r\n      const check = confirm(this._translate.CONFIRM.delete);\r\n      if (check) {\r\n        setTimeout(() => {\r\n          this.synthesize_datas.remove(item.id);\r\n          let order = 0;\r\n          let isOneRow = false;\r\n          this.synthesize_datas.load().then((dataSource) => {\r\n            dataSource.forEach((item, index) => {\r\n              item.order = ++order;\r\n            });\r\n            if (dataSource.length == 0)\r\n              isOneRow = true;\r\n          });\r\n          this.dataGrid.instance.refresh();\r\n          if (isOneRow)\r\n            this.addRow();\r\n        }, 100);\r\n      }\r\n    }, 200);\r\n  }\r\n  onImportShowing(e) {\r\n    this.valueProgress = 0;\r\n  }\r\n  onImportHiding(e) {\r\n    let r = true;\r\n    if (this.valueProgress < 100 && this.errorImport == false) {\r\n      r = confirm(this._translate.CONFIRM.sign_stop);\r\n    }\r\n    if (r) {\r\n      if (this.subFile) {\r\n        this.subFile.unsubscribe();\r\n      }\r\n      this.valueProgress = 0;\r\n    } else {\r\n      e.cancel = true;\r\n    }\r\n  }\r\n  continuteExportInvoice(isSuccess) {\r\n    let percentComplete = 100 / this.totalFile;\r\n    this.valueProgress += percentComplete;\r\n    if (this.fileIndex == this.totalFile - 1) {\r\n      if (!this.isExportFailed && isSuccess)\r\n        Library.notify(\"Gửi bảng tổng hợp thành công\", 'success', 5000);\r\n      else {\r\n        Library.notify(\"Có 1 số hóa đơn chưa gửi lên CQT\", 'success', 5000);\r\n      }\r\n      this.showPopup = false;\r\n      this.router.navigate(['/system/send-data-tax'], { relativeTo: this.activeRoute });\r\n    }\r\n    else if (this.fileIndex < this.totalFile - 1) {\r\n      this.fileIndex++;\r\n      this.LayFileDuLieu();\r\n    }\r\n  }\r\n  loadListInvoice() {\r\n    if (this.langui == 1)\r\n      this.is_first = true;\r\n    let data =\r\n    {\r\n      \"period_type\": this.frmData.period_type,\r\n      \"period\": this.kydulieu,\r\n      \"is_first\": this.is_first,\r\n      \"number\": this.sobangtonghop,\r\n      \"product_type\": this.frmData.product_type,\r\n      \"addition\": this.frmData.number,\r\n    }\r\n    this.synthesize_datas = this.taxService.getInvoices(data, 'bang-tong-hop');\r\n    this.dataSource = new DataSource({\r\n      store: this.synthesize_datas\r\n    });\r\n    //  this.dataSource.store = \r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ModalModule } from 'ngx-bootstrap/modal';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SendDataTaxRoutingModule } from './send-data-tax.routing';\r\nimport { IndexComponent } from './components/index/index.component';\r\nimport { AddNewDataComponent } from './components/add-new-data/add-new-data.component';\r\nimport { ShowDataInvoicesComponent } from './components/show-data-invoices/show-data-invoices.component';\r\nimport { vTranslateModule } from '@core/module/v-translate.module';\r\nimport { devextremeModule } from '@core/index';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { DxLookupModule, DxTooltipModule, DxPopoverModule } from 'devextreme-angular';\r\nimport { DataTaxResolver } from \"@modules/send-data-tax/shared/data-tax.resolver\";\r\nimport { DataTaxEditResolver } from \"@modules/send-data-tax/shared/edit-data-tax.resolver\";\r\nimport {VatDeactivateGuard} from '@modules/vat/deactivate/vat-deactivate.guard';\r\nimport { HandleInvoiceService } from '@modules/handle-invoice/shared';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SendDataTaxRoutingModule,\r\n    vTranslateModule,\r\n    devextremeModule,\r\n    DxLookupModule,\r\n    TagInputModule,\r\n    DxTooltipModule,\r\n    DxPopoverModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ModalModule.forRoot(),\r\n    RouterModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  entryComponents: [\r\n    AddNewDataComponent,\r\n    ShowDataInvoicesComponent\r\n  ],\r\n  declarations: [\r\n    IndexComponent,\r\n    AddNewDataComponent,\r\n    ShowDataInvoicesComponent],\r\n  providers: [\r\n    DataTaxResolver,\r\n    DataTaxEditResolver,\r\n    VatDeactivateGuard,\r\n    HandleInvoiceService\r\n  ]\r\n})\r\nexport class SendDataTaxModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IndexComponent } from './components/index/index.component';\r\nimport { ShowDataInvoicesComponent } from \"@modules/send-data-tax/components/show-data-invoices/show-data-invoices.component\";\r\nimport { DataTaxResolver } from \"@modules/send-data-tax/shared/data-tax.resolver\";\r\nimport { DataTaxEditResolver } from \"@modules/send-data-tax/shared/edit-data-tax.resolver\";\r\nimport {VatDeactivateGuard} from '@modules/vat/deactivate/vat-deactivate.guard';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: IndexComponent\r\n  },\r\n  {\r\n    path: 'create',\r\n    component: ShowDataInvoicesComponent,\r\n    data: { brec: 'create_summary_data' }\r\n  },\r\n  {\r\n    path: ':Id',\r\n    component: ShowDataInvoicesComponent,\r\n    resolve: { init: DataTaxEditResolver },\r\n    data: { brec: 'invoice_details' }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SendDataTaxRoutingModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Router, Resolve, RouterStateSnapshot, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { take, map, catchError } from 'rxjs/operators';\r\nimport { ListsService } from '@modules/lists/shared';\r\nimport { Library, Helper, sEnum, AuthService } from '@core/index';\r\nimport { forkJoin } from 'rxjs';\r\n@Injectable()\r\nexport class DataTaxResolver implements Resolve<any[]> {\r\n  constructor(\r\n    private router: Router,\r\n  ) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any[]> {\r\n    Library.showloading();\r\n    return null;\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Router, Resolve, RouterStateSnapshot, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { take, map, catchError } from 'rxjs/operators';\r\nimport { ListsService } from '@modules/lists/shared';\r\nimport { Library, Helper, sEnum, AuthService } from '@core/index';\r\nimport { forkJoin } from 'rxjs';\r\n@Injectable()\r\nexport class DataTaxEditResolver implements Resolve<any[]> {\r\n  constructor(\r\n    private router: Router,\r\n  ) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any[]> {\r\n    Library.showloading();\r\n    return null;\r\n  }\r\n}","import * as moment from 'moment';\r\nimport { Helper } from '@core/helper/Helper';\r\n\r\nexport class InvoiceSend {\r\n  constructor() {\r\n  }\r\n  id: string = '';\r\n  id_invoice: string = '';\r\n  is_external: boolean = false;/* Có phải dữ liệu được thêm mới trên lưới k? */\r\n  order: number = null;/* Số thứ tự */\r\n  template_code: string = '';/* Mẫu số */\r\n  invoice_series: string = '';/* Ký hiệu */\r\n  customer_name: string = '';/* Tên khách hàng */\r\n  buyer_tax_code: string = '';/* MST khách hàng */\r\n  customer_code: string = '';/* Mã khách hàng */\r\n  product_code: string = '';/* Mã hàng hóa, dịch vụ */\r\n  product_name: string = '';/* Tên hàng hóa, dịch vụ */\r\n  quantity: number = null;/* Số lượng */\r\n  amount: number = null;/* Tổng thành tiền */\r\n  vat: string = '';/* Thuế suất */\r\n  amount_vat: number = null;/* Tổng tiền thuế */\r\n  amount_after_vat: number = null;/* Tổng tiền thanh toán */\r\n  status: string = '';/* Trạng thái */\r\n  related_invoice_type: string = '';/* Loại HĐ liên quan */\r\n  related_template_code: string = '';/* Mẫu số  HĐ liên quan */\r\n  period_type: string = '';/* Loại kỳ dữ liệu điều chỉnh */\r\n  period: string = '';/* Kỳ dữ liệu điều chỉnh */\r\n  note: string = '';/* Ghi chú */\r\n  invoice_date: string = \"\";//Ngày hóa đơn\r\n  invoice_number: string = \"\"; //Số hóa đơn\r\n  buyer_name: string = \"\";\r\n  related_invoice_series: string = '';/* Ký hiệu  HĐ liên quan */\r\n  related_invoice_number: string = '';/* Số  HĐ liên quan */\r\n  decimal_places_json: string = \"\";\r\n  add_invoices() {\r\n    let arr = [];\r\n    for (let i = 0; i < 10; i++) {\r\n      arr.push({\r\n        id: Helper.makeid(),\r\n        id_invoice: \"\",\r\n        is_external: true,/*  */\r\n        order: i + 1,\r\n        template_code: \"\",\r\n        invoice_series: \"\",\r\n        customer_name: \"\",\r\n        buyer_tax_code: \"\",\r\n        customer_code: \"\",\r\n        product_code: \"\",\r\n        product_name: \"\",\r\n        quantity: null,\r\n        amount: null,\r\n        vat: \"\",\r\n        amount_vat: null,\r\n        amount_after_vat: null,\r\n        status: \"\",\r\n        related_invoice_type: \"\",\r\n        related_template_code: \"\",\r\n        period_type: \"\",\r\n        period: \"\",\r\n        note: \"\",\r\n        invoice_date: \"\",\r\n        invoice_number: \"\",\r\n        buyer_name: \"\",\r\n        related_invoice_series: \"\",\r\n        related_invoice_number: \"\",\r\n        decimal_places_json: \"\"\r\n      });\r\n    }\r\n    return arr;\r\n  }\r\n  addData(order) {\r\n    return {\r\n      id: Helper.makeid(),\r\n      is_external: true,/*  */\r\n      id_invoice: \"\",\r\n      order: order,\r\n      template_code: \"\",\r\n      invoice_series: \"\",\r\n      customer_name: \"\",\r\n      buyer_tax_code: \"\",\r\n      customer_code: \"\",\r\n      product_code: \"\",\r\n      product_name: \"\",\r\n      quantity: null,\r\n      amount: null,\r\n      vat: \"\",\r\n      amount_vat: null,\r\n      amount_after_vat: null,\r\n      status: \"\",\r\n      related_invoice_type: \"\",\r\n      related_template_code: \"\",\r\n      period_type: \"\",\r\n      period: \"\",\r\n      note: \"\",\r\n      invoice_date: \"\",\r\n      invoice_number: \"\",\r\n      buyer_name: \"\",\r\n      related_invoice_series: \"\",\r\n      related_invoice_number: \"\",\r\n      decimal_places_json: \"\"\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ApiService, CoreService, VStringService } from '@core/index';\r\nimport { environment } from '@environments/environment';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SendDataTaxService {\r\n  kydulieu: any;\r\n  langui: any;\r\n  isAutoLoadData: boolean = false;\r\n  vats: any;\r\n  frmData: any;\r\n  isUpdate: boolean = false;\r\n  is_first: boolean = false;\r\n  external_invoices: any;\r\n  id: any;\r\n  constructor(\r\n    private apiService: ApiService,\r\n  ) {\r\n\r\n  }\r\n  getAll(params?) {\r\n    let filter = \"\";\r\n    if (params) {\r\n      filter += '&' + params;\r\n    }\r\n    const sort = '';//'&sort[0][key]=status_order&sort[0][direction]=ASC';\r\n    return this.apiService.getDataTable('/new/invoices-summary', filter, sort);\r\n  }\r\n  /* Gửi dữ liệu tạo tự động */\r\n  invoicesSummary(data) {\r\n    return this.apiService.post('/new/invoices-summary', data);\r\n  }\r\n  /* Gửi dữ liệu tạo thủ công */\r\n  invoicesSummaryHand(data) {\r\n    return this.apiService.post('/new/invoices-summary-hand', data);\r\n  }\r\n  /* Update bảng tổng hợp */\r\n  updateSummaryHand(id, data) {\r\n    return this.apiService.put('/new/invoices-summary-hand/' + id, data);\r\n  }\r\n  /* Danh mục vat */\r\n  loadVat() {\r\n    return this.apiService.get(\"/get-lists-by-listtype-code/DM_TY_LE_VAT\");\r\n  }\r\n  getInfoFile(id, mst) {\r\n    return this.apiService.get(\"/download/tmp-file?id=\" + id + \"&t=\" + mst + \"&raw=1\");\r\n  }\r\n  sendXmlInvoice(data) {\r\n    return this.apiService.post('/new/invoices-summary-send', data);\r\n  }\r\n  laythongtinbangtonghop(id) {\r\n    const includes = 'includes[]=external_invoices';\r\n    return this.apiService.get(\"/new/invoices-summary-hand/\" + id + \"?\" + includes);\r\n  }\r\n  xoaBangTongHop(id, data) {\r\n    return this.apiService.post('/delete/invoices-summary-hand/' + id, data);\r\n  }\r\n  getInvoices(data, type) {\r\n    return this.apiService.getDataTableForReport(`/new/invoices-summary-all`, data, type);\r\n  }\r\n  getFilePdf(id, data) {\r\n    return this.apiService.post(`/new/invoices-summary/` + id, data);\r\n  }\r\n  getInfoCreate(data) {\r\n    return this.apiService.post(`/invoices-summary-single`, data);\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {CanDeactivate} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\n\r\nexport interface CanComponentDeactivate {\r\n  canDeactivate: () => Observable<boolean> | Promise<boolean> | boolean;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VatDeactivateGuard implements CanDeactivate<CanComponentDeactivate> {\r\n\r\n  canDeactivate(component: CanComponentDeactivate) {\r\n    return component.canDeactivate && component.canDeactivate();\r\n  }\r\n}\r\n"],"sourceRoot":""}