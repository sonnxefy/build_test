{"version":3,"sources":["webpack:///./node_modules/ng2-split-pane/lib/horizontal-split-pane-separator.component.js","webpack:///./node_modules/ng2-split-pane/lib/horizontal-split-pane.component.js","webpack:///./node_modules/ng2-split-pane/lib/ng2-split-pane.js","webpack:///./node_modules/ng2-split-pane/lib/position.service.js","webpack:///./node_modules/ng2-split-pane/lib/split-pane-separator.component.js","webpack:///./node_modules/ng2-split-pane/lib/split-pane.component.js","webpack:///./node_modules/ng2-split-pane/lib/vertical-split-pane-separator.component.js","webpack:///./node_modules/ng2-split-pane/lib/vertical-split-pane.component.js","webpack:///./src/app/modules/invoice-buy/component/captcha-update/captcha-update.component.html","webpack:///./src/app/modules/invoice-buy/component/captcha-update/captcha-update.component.scss","webpack:///./src/app/modules/invoice-buy/component/captcha-update/captcha-update.component.ts","webpack:///./src/app/modules/invoice-buy/component/form-header-invoice/form-header-invoice.component.html","webpack:///./src/app/modules/invoice-buy/component/form-header-invoice/form-header-invoice.component.scss","webpack:///./src/app/modules/invoice-buy/component/form-header-invoice/form-header-invoice.component.ts","webpack:///./src/app/modules/invoice-buy/component/index/index.component.html","webpack:///./src/app/modules/invoice-buy/component/index/index.component.scss","webpack:///./src/app/modules/invoice-buy/component/index/index.component.ts","webpack:///./src/app/modules/invoice-buy/component/invoice/invoice.component.html","webpack:///./src/app/modules/invoice-buy/component/invoice/invoice.component.scss","webpack:///./src/app/modules/invoice-buy/component/invoice/invoice.component.ts","webpack:///./src/app/modules/invoice-buy/component/list-invoice-tct/list-invoice-tct.component.html","webpack:///./src/app/modules/invoice-buy/component/list-invoice-tct/list-invoice-tct.component.scss","webpack:///./src/app/modules/invoice-buy/component/list-invoice-tct/list-invoice-tct.component.ts","webpack:///./src/app/modules/invoice-buy/component/list-invoice/list-invoice.component.html","webpack:///./src/app/modules/invoice-buy/component/list-invoice/list-invoice.component.scss","webpack:///./src/app/modules/invoice-buy/component/list-invoice/list-invoice.component.ts","webpack:///./src/app/modules/invoice-buy/component/list-mail-received/list-mail-received.component.html","webpack:///./src/app/modules/invoice-buy/component/list-mail-received/list-mail-received.component.scss","webpack:///./src/app/modules/invoice-buy/component/list-mail-received/list-mail-received.component.ts","webpack:///./src/app/modules/invoice-buy/component/preview-mail/preview-mail.component.html","webpack:///./src/app/modules/invoice-buy/component/preview-mail/preview-mail.component.scss","webpack:///./src/app/modules/invoice-buy/component/preview-mail/preview-mail.component.ts","webpack:///./src/app/modules/invoice-buy/component/product-grip/product-grip.component.html","webpack:///./src/app/modules/invoice-buy/component/product-grip/product-grip.component.scss","webpack:///./src/app/modules/invoice-buy/component/product-grip/product-grip.component.ts","webpack:///./src/app/modules/invoice-buy/component/search-mail/search-mail.component.html","webpack:///./src/app/modules/invoice-buy/component/search-mail/search-mail.component.scss","webpack:///./src/app/modules/invoice-buy/component/search-mail/search-mail.component.ts","webpack:///./src/app/modules/invoice-buy/invoice-buy.module.ts","webpack:///./src/app/modules/invoice-buy/invoice-buy.routing.ts","webpack:///./src/app/modules/invoice-buy/shared/class/invoice.model.ts","webpack:///./src/app/modules/invoice-buy/shared/file/file-upload-invoice-buy/file-upload-invoice-buy.component.html","webpack:///./src/app/modules/invoice-buy/shared/file/file-upload-invoice-buy/file-upload-invoice-buy.component.scss","webpack:///./src/app/modules/invoice-buy/shared/file/file-upload-invoice-buy/file-upload-invoice-buy.component.ts","webpack:///./src/app/modules/invoice-buy/shared/invoice.pipe.ts","webpack:///./src/app/modules/invoice-buy/shared/modal/check-invoice-number/check-invoice-number.component.html","webpack:///./src/app/modules/invoice-buy/shared/modal/check-invoice-number/check-invoice-number.component.scss","webpack:///./src/app/modules/invoice-buy/shared/modal/check-invoice-number/check-invoice-number.component.ts","webpack:///./src/app/modules/invoice-buy/shared/modal/notify-tax-code/notify-tax-code.component.html","webpack:///./src/app/modules/invoice-buy/shared/modal/notify-tax-code/notify-tax-code.component.scss","webpack:///./src/app/modules/invoice-buy/shared/modal/notify-tax-code/notify-tax-code.component.ts","webpack:///./src/app/modules/invoice-buy/shared/modal/upload-file-zip/upload-file-zip.component.html","webpack:///./src/app/modules/invoice-buy/shared/modal/upload-file-zip/upload-file-zip.component.scss","webpack:///./src/app/modules/invoice-buy/shared/modal/upload-file-zip/upload-file-zip.component.ts","webpack:///./src/app/modules/invoice-buy/shared/resolve/form-resolver.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,uCAAuC,mBAAO,CAAC,6GAAkC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK;AACL;AACA,uCAAuC,+BAA+B,mCAAmC,0BAA0B,2BAA2B,OAAO,mBAAmB,kCAAkC,OAAO,8BAA8B,2BAA2B,qBAAqB,oBAAoB,wBAAwB,OAAO,iBAAiB,oBAAoB,qBAAqB,+BAA+B,qBAAqB,OAAO;AACvd;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA,gEAAgE,WAAW;AAC3E;AACA,qE;;;;;;;;;;;;ACrCa;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,6BAA6B,mBAAO,CAAC,yFAAwB;AAC7D,yBAAyB,mBAAO,CAAC,iFAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK;AACL;AACA,0CAA0C,qBAAqB,oBAAoB,sBAAsB,0BAA0B,OAAO,0BAA0B,gCAAgC,OAAO,0BAA0B,gCAAgC,OAAO;AAC5Q;AACA,aAAa,IAAI;AACjB;AACA,2DAA2D,WAAW;AACtE;AACA,wBAAwB,2CAA2C;AACnE,cAAc,qBAAqB;AACnC,qBAAqB,8DAA8D;AACnF;AACA;AACA,2D;;;;;;;;;;;;AC1Da;AACb,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,eAAe,mBAAO,CAAC,uEAAiB;AACxC,kDAAkD,mBAAO,CAAC,mIAA6C;AACvG,gDAAgD,mBAAO,CAAC,+HAA2C;AACnG,wCAAwC,mBAAO,CAAC,+GAAmC;AACnF,sCAAsC,mBAAO,CAAC,2GAAiC;AAC/E,uCAAuC,mBAAO,CAAC,6GAAkC;AACjF,6BAA6B,mBAAO,CAAC,yFAAwB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA,8CAA8C,WAAW;AACzD;AACA,0C;;;;;;;;;;;;ACvCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;ACrIa;AACb,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK;AACL;AACA,aAAa,IAAI;AACjB;AACA,sDAAsD,WAAW;AACjE;AACA,mBAAmB,qBAAqB;AACxC,8BAA8B,sBAAsB;AACpD,4BAA4B,wDAAwD;AACpF,qBAAqB,8DAA8D;AACnF;AACA;AACA,0D;;;;;;;;;;;;AC5Ba;AACb,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,yEAAyE;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK;AACL;AACA;AACA,uBAAuB;AACvB,aAAa,IAAI;AACjB;AACA,iDAAiD,WAAW;AAC5D;AACA,0BAA0B,sDAAsD;AAChF,4BAA4B,wDAAwD;AACpF,sBAAsB,gEAAgE;AACtF,wBAAwB,2DAA2D;AACnF,0BAA0B,6DAA6D;AACvF,4BAA4B,qDAAqD;AACjF,2BAA2B,+DAA+D;AAC1F,6BAA6B,iEAAiE;AAC9F,yBAAyB,mDAAmD;AAC5E,6BAA6B,4CAA4C;AACzE,6BAA6B,oDAAoD;AACjF,6BAA6B,oDAAoD;AACjF,mBAAmB,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","file":"invoice-buy-invoice-buy-module.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar split_pane_separator_component_1 = require(\"./split-pane-separator.component\");\nvar HorizontalSplitSeparatorComponent = (function (_super) {\n    __extends(HorizontalSplitSeparatorComponent, _super);\n    function HorizontalSplitSeparatorComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HorizontalSplitSeparatorComponent.prototype.ngAfterViewInit = function () {\n        this.invisibleExtension.nativeElement.style.top =\n            -(7 - this.thickness) / 2 + \"px\";\n    };\n    return HorizontalSplitSeparatorComponent;\n}(split_pane_separator_component_1.SplitSeparatorComponent));\nHorizontalSplitSeparatorComponent.decorators = [\n    { type: core_1.Component, args: [{\n                selector: 'horizontal-split-separator',\n                styles: [\"\\n    :host {\\n      background-color: #fff;\\n      border-top: 1px solid #ddd;\\n      cursor: ns-resize;\\n      position: relative;\\n    }\\n    :host:hover {\\n      background-color: #fafafa;\\n    }\\n\\n    .invisible-extension {\\n      position: absolute;\\n      height: 100%;\\n      width: 100%;\\n      min-height: 7px;\\n    }\\n\\n    .handle {\\n      width: 35px;\\n      height: 100%;\\n      background-color: #eee;\\n      margin: auto;\\n    }\\n  \"],\n                template: \"\\n    <!-- Used to extend the 'draggable' area in case the separator is too thin,\\n    so it's not too hard to drag. -->\\n    <div\\n      #invisibleExtension\\n      [hidden]=\\\"thickness >= 7\\\"\\n      class=\\\"invisible-extension\\\"></div>\\n\\n    <div class=\\\"handle\\\"></div>\\n  \",\n                host: {\n                    '[style.height.px]': 'thickness'\n                }\n            },] },\n];\nHorizontalSplitSeparatorComponent.ctorParameters = function () { return []; };\nexports.HorizontalSplitSeparatorComponent = HorizontalSplitSeparatorComponent;\n//# sourceMappingURL=horizontal-split-pane-separator.component.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar split_pane_component_1 = require(\"./split-pane.component\");\nvar position_service_1 = require(\"./position.service\");\nvar HorizontalSplitPaneComponent = (function (_super) {\n    __extends(HorizontalSplitPaneComponent, _super);\n    function HorizontalSplitPaneComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HorizontalSplitPaneComponent.prototype.getTotalSize = function () {\n        return this.outerContainer.nativeElement.offsetHeight;\n    };\n    HorizontalSplitPaneComponent.prototype.getPrimarySize = function () {\n        return this.primaryComponent.nativeElement.offsetHeight;\n    };\n    HorizontalSplitPaneComponent.prototype.getSecondarySize = function () {\n        return this.secondaryComponent.nativeElement.offsetHeight;\n    };\n    HorizontalSplitPaneComponent.prototype.dividerPosition = function (size) {\n        var sizePct = (size / this.getTotalSize()) * 100.0;\n        this.primaryComponent.nativeElement.style.height = sizePct + \"%\";\n        this.secondaryComponent.nativeElement.style.height =\n            \"calc(\" + (100 - sizePct) + \"% - \" + this.separatorThickness + \"px)\";\n    };\n    HorizontalSplitPaneComponent.prototype.onMousemove = function (event) {\n        if (this.isResizing) {\n            var coords = position_service_1.PositionService.offset(this.primaryComponent);\n            this.applySizeChange(event.pageY - coords.top);\n            return false;\n        }\n    };\n    return HorizontalSplitPaneComponent;\n}(split_pane_component_1.SplitPaneComponent));\nHorizontalSplitPaneComponent.decorators = [\n    { type: core_1.Component, args: [{\n                selector: 'horizontal-split-pane',\n                styles: [\"\\n    .h-outer {\\n      height: 100%;\\n      width: 100%;\\n      display: flex;\\n      flex-flow: column;\\n    }\\n\\n    .upper-component {\\n      height: calc(50% - 4px);\\n    }\\n\\n    .lower-component {\\n      height: calc(50% - 4px);\\n    }\\n  \"],\n                template: \"\\n  <div #outer class=\\\"h-outer\\\">\\n    <div\\n      #primaryComponent\\n      [hidden]=\\\"primaryToggledOff\\\"\\n      class=\\\"upper-component\\\">\\n      <ng-content select=\\\".split-pane-content-primary\\\"></ng-content>\\n    </div>\\n    <horizontal-split-separator\\n      #separator\\n      [hidden]=\\\"primaryToggledOff ||\\u00A0secondaryToggledOff\\\"\\n      [thickness]=\\\"separatorThickness\\\"\\n      (notifyWillChangeSize)=\\\"notifyWillChangeSize($event)\\\">\\n    </horizontal-split-separator>\\n    <div\\n      #secondaryComponent\\n      [hidden]=\\\"secondaryToggledOff\\\"\\n      class=\\\"lower-component\\\">\\n      <ng-content select=\\\".split-pane-content-secondary\\\"></ng-content>\\n    </div>\\n  </div>\\n  \",\n            },] },\n];\nHorizontalSplitPaneComponent.ctorParameters = function () { return []; };\nHorizontalSplitPaneComponent.propDecorators = {\n    'outerContainer': [{ type: core_1.ViewChild, args: ['outer',] },],\n    'test': [{ type: core_1.Input },],\n    'onMousemove': [{ type: core_1.HostListener, args: ['mousemove', ['$event'],] },],\n};\nexports.HorizontalSplitPaneComponent = HorizontalSplitPaneComponent;\n//# sourceMappingURL=horizontal-split-pane.component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar horizontal_split_pane_separator_component_1 = require(\"./horizontal-split-pane-separator.component\");\nvar vertical_split_pane_separator_component_1 = require(\"./vertical-split-pane-separator.component\");\nvar horizontal_split_pane_component_1 = require(\"./horizontal-split-pane.component\");\nvar vertical_split_pane_component_1 = require(\"./vertical-split-pane.component\");\nvar split_pane_separator_component_1 = require(\"./split-pane-separator.component\");\nvar split_pane_component_1 = require(\"./split-pane.component\");\nfunction delayedInit() {\n    return {\n        ngModule: SplitPaneModule,\n        providers: []\n    };\n}\nexports.delayedInit = delayedInit;\nvar SplitPaneModule = (function () {\n    function SplitPaneModule() {\n    }\n    return SplitPaneModule;\n}());\nSplitPaneModule.forRoot = delayedInit();\nSplitPaneModule.decorators = [\n    { type: core_1.NgModule, args: [{\n                imports: [common_1.CommonModule],\n                declarations: [\n                    horizontal_split_pane_component_1.HorizontalSplitPaneComponent,\n                    vertical_split_pane_component_1.VerticalSplitPaneComponent,\n                    horizontal_split_pane_separator_component_1.HorizontalSplitSeparatorComponent,\n                    vertical_split_pane_separator_component_1.VerticalSplitSeparatorComponent,\n                    split_pane_separator_component_1.SplitSeparatorComponent,\n                    split_pane_component_1.SplitPaneComponent\n                ],\n                exports: [horizontal_split_pane_component_1.HorizontalSplitPaneComponent, vertical_split_pane_component_1.VerticalSplitPaneComponent]\n            },] },\n];\nSplitPaneModule.ctorParameters = function () { return []; };\nexports.SplitPaneModule = SplitPaneModule;\n//# sourceMappingURL=ng2-split-pane.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PositionService = (function () {\n    function PositionService() {\n    }\n    PositionService.position = function (element) {\n        var nativeEl = element.nativeElement;\n        var elBCR = this.offset(nativeEl);\n        var offsetParentBCR = { top: 0, left: 0 };\n        var offsetParentEl = this.parentOffsetEl(nativeEl);\n        if (offsetParentEl !== this.document) {\n            offsetParentBCR = this.offset(offsetParentEl);\n            offsetParentBCR.top += offsetParentEl.clientTop - offsetParentEl.scrollTop;\n            offsetParentBCR.left += offsetParentEl.clientLeft - offsetParentEl.scrollLeft;\n        }\n        var boundingClientRect = nativeEl.getBoundingClientRect();\n        return {\n            width: boundingClientRect.width || nativeEl.offsetWidth,\n            height: boundingClientRect.height || nativeEl.offsetHeight,\n            top: elBCR.top - offsetParentBCR.top,\n            left: elBCR.left - offsetParentBCR.left\n        };\n    };\n    PositionService.offset = function (element) {\n        var nativeEl = element.nativeElement;\n        var boundingClientRect = nativeEl.getBoundingClientRect();\n        return {\n            width: boundingClientRect.width || nativeEl.offsetWidth,\n            height: boundingClientRect.height || nativeEl.offsetHeight,\n            top: boundingClientRect.top + (this.window.pageYOffset || this.document.documentElement.scrollTop),\n            left: boundingClientRect.left + (this.window.pageXOffset || this.document.documentElement.scrollLeft)\n        };\n    };\n    PositionService.positionElements = function (host, target, positionStr, appendToBody) {\n        var hostEl = host.nativeElement;\n        var targetEl = target.nativeElement;\n        var positionStrParts = positionStr.split('-');\n        var pos0 = positionStrParts[0];\n        var pos1 = positionStrParts[1] || 'center';\n        var hostElPos = appendToBody ?\n            this.offset(hostEl) :\n            this.position(hostEl);\n        var targetElWidth = targetEl.offsetWidth;\n        var targetElHeight = targetEl.offsetHeight;\n        var shiftWidth = {\n            center: function () {\n                return hostElPos.left + hostElPos.width / 2 - targetElWidth / 2;\n            },\n            left: function () {\n                return hostElPos.left;\n            },\n            right: function () {\n                return hostElPos.left + hostElPos.width;\n            }\n        };\n        var shiftHeight = {\n            center: function () {\n                return hostElPos.top + hostElPos.height / 2 - targetElHeight / 2;\n            },\n            top: function () {\n                return hostElPos.top;\n            },\n            bottom: function () {\n                return hostElPos.top + hostElPos.height;\n            }\n        };\n        var targetElPos;\n        switch (pos0) {\n            case 'right':\n                targetElPos = {\n                    top: shiftHeight[pos1](),\n                    left: shiftWidth[pos0]()\n                };\n                break;\n            case 'left':\n                targetElPos = {\n                    top: shiftHeight[pos1](),\n                    left: hostElPos.left - targetElWidth\n                };\n                break;\n            case 'bottom':\n                targetElPos = {\n                    top: shiftHeight[pos0](),\n                    left: shiftWidth[pos1]()\n                };\n                break;\n            default:\n                targetElPos = {\n                    top: hostElPos.top - targetElHeight,\n                    left: shiftWidth[pos1]()\n                };\n                break;\n        }\n        return targetElPos;\n    };\n    Object.defineProperty(PositionService, \"window\", {\n        get: function () {\n            return window;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PositionService, \"document\", {\n        get: function () {\n            return window.document;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PositionService.getStyle = function (nativeEl, cssProp) {\n        if (nativeEl.currentStyle) {\n            return nativeEl.currentStyle[cssProp];\n        }\n        if (this.window.getComputedStyle) {\n            return this.window.getComputedStyle(nativeEl)[cssProp];\n        }\n        return nativeEl.style[cssProp];\n    };\n    PositionService.isStaticPositioned = function (nativeEl) {\n        return (this.getStyle(nativeEl, 'position') || 'static') === 'static';\n    };\n    PositionService.parentOffsetEl = function (nativeEl) {\n        var offsetParent = nativeEl.offsetParent || this.document;\n        while (offsetParent && offsetParent !== this.document &&\n            this.isStaticPositioned(offsetParent)) {\n            offsetParent = offsetParent.offsetParent;\n        }\n        return offsetParent || this.document;\n    };\n    ;\n    return PositionService;\n}());\nexports.PositionService = PositionService;\n//# sourceMappingURL=position.service.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar SplitSeparatorComponent = (function () {\n    function SplitSeparatorComponent() {\n        this.notifyWillChangeSize = new core_1.EventEmitter();\n    }\n    SplitSeparatorComponent.prototype.ngOnInit = function () {\n    };\n    SplitSeparatorComponent.prototype.onMousedown = function (event) {\n        this.notifyWillChangeSize.emit(true);\n        return false;\n    };\n    return SplitSeparatorComponent;\n}());\nSplitSeparatorComponent.decorators = [\n    { type: core_1.Component, args: [{\n                template: ''\n            },] },\n];\nSplitSeparatorComponent.ctorParameters = function () { return []; };\nSplitSeparatorComponent.propDecorators = {\n    'thickness': [{ type: core_1.Input },],\n    'notifyWillChangeSize': [{ type: core_1.Output },],\n    'invisibleExtension': [{ type: core_1.ViewChild, args: ['invisibleExtension',] },],\n    'onMousedown': [{ type: core_1.HostListener, args: ['mousedown', ['$event'],] },],\n};\nexports.SplitSeparatorComponent = SplitSeparatorComponent;\n//# sourceMappingURL=split-pane-separator.component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar SplitPaneComponent = (function () {\n    function SplitPaneComponent() {\n        this.initialRatio = 0.5;\n        this.primaryMinSize = 0;\n        this.secondaryMinSize = 0;\n        this.separatorThickness = 7;\n        this.primaryToggledOff = false;\n        this.secondaryToggledOff = false;\n        this.localStorageKey = null;\n        this.notifySizeDidChange = new core_1.EventEmitter();\n        this.notifyBeginResizing = new core_1.EventEmitter();\n        this.notifyEndedResizing = new core_1.EventEmitter();\n        this.dividerSize = 8.0;\n        this.isResizing = false;\n    }\n    SplitPaneComponent.prototype.ngAfterViewInit = function () {\n        this.checkBothToggledOff();\n        if (!this.primaryToggledOff && !this.secondaryToggledOff) {\n            var ratio = this.initialRatio;\n            if (this.localStorageKey != null) {\n                var ratioStr = localStorage.getItem(this.localStorageKey);\n                if (ratioStr != null) {\n                    ratio = JSON.parse(ratioStr);\n                }\n            }\n            var size = ratio * this.getTotalSize();\n            this.applySizeChange(size);\n        }\n    };\n    SplitPaneComponent.prototype.ngOnChanges = function (changes) {\n        this.checkBothToggledOff();\n        if (changes['primaryToggledOff']) {\n            if (changes['primaryToggledOff'].currentValue === true) {\n                this.primarySizeBeforeTogglingOff = this.getPrimarySize();\n                this.applySizeChange(0);\n            }\n            else {\n                this.applySizeChange(this.primarySizeBeforeTogglingOff);\n            }\n        }\n        else if (changes['secondaryToggledOff']) {\n            if (changes['secondaryToggledOff'].currentValue === true) {\n                this.primarySizeBeforeTogglingOff = this.getPrimarySize();\n                this.applySizeChange(this.getTotalSize());\n            }\n            else {\n                this.applySizeChange(this.primarySizeBeforeTogglingOff);\n            }\n        }\n    };\n    SplitPaneComponent.prototype.getTotalSize = function () {\n        throw (\"SplitPaneComponent shouldn't be instantiated. Override this method.\");\n    };\n    SplitPaneComponent.prototype.getPrimarySize = function () {\n        throw (\"SplitPaneComponent shouldn't be instantiated. Override this method.\");\n    };\n    SplitPaneComponent.prototype.getSecondarySize = function () {\n        throw (\"SplitPaneComponent shouldn't be instantiated. Override this method.\");\n    };\n    SplitPaneComponent.prototype.dividerPosition = function (size) {\n        throw (\"SplitPaneComponent shouldn't be instantiated. Override this method.\");\n    };\n    SplitPaneComponent.prototype.getAvailableSize = function () {\n        return this.getTotalSize() - this.dividerSize;\n    };\n    SplitPaneComponent.prototype.applySizeChange = function (size) {\n        var primarySize = this.checkValidBounds(size, this.primaryMinSize, this.getAvailableSize() - this.secondaryMinSize);\n        if (this.primaryToggledOff) {\n            primarySize = 0;\n        }\n        else if (this.secondaryToggledOff) {\n            primarySize = this.getTotalSize();\n        }\n        this.dividerPosition(primarySize);\n        this.notifySizeDidChange.emit({ 'primary': this.getPrimarySize(), 'secondary': this.getSecondarySize() });\n    };\n    SplitPaneComponent.prototype.notifyWillChangeSize = function (resizing) {\n        this.isResizing = resizing;\n        this.notifyBeginResizing.emit();\n    };\n    SplitPaneComponent.prototype.checkValidBounds = function (newSize, minSize, maxSize) {\n        return newSize >= minSize\n            ? (newSize <= maxSize)\n                ? newSize\n                : maxSize\n            : minSize;\n    };\n    SplitPaneComponent.prototype.checkBothToggledOff = function () {\n        if (this.primaryToggledOff && this.secondaryToggledOff) {\n            throw ('You cannot toggle off both the primary and secondary component');\n        }\n    };\n    SplitPaneComponent.prototype.stopResizing = function () {\n        this.isResizing = false;\n        this.primaryComponent.nativeElement.style.cursor = \"auto\";\n        this.secondaryComponent.nativeElement.style.cursor = \"auto\";\n        if (this.localStorageKey != null) {\n            var ratio = this.getPrimarySize() / (this.getTotalSize());\n            localStorage.setItem(this.localStorageKey, JSON.stringify(ratio));\n        }\n        this.notifyEndedResizing.emit();\n    };\n    SplitPaneComponent.prototype.onMouseup = function (event) {\n        if (this.isResizing) {\n            this.stopResizing();\n            return false;\n        }\n    };\n    return SplitPaneComponent;\n}());\nSplitPaneComponent.decorators = [\n    { type: core_1.Component, args: [{\n                selector: 'split-pane',\n                template: '',\n                host: { 'style': 'height: 100%' }\n            },] },\n];\nSplitPaneComponent.ctorParameters = function () { return []; };\nSplitPaneComponent.propDecorators = {\n    'primaryComponent': [{ type: core_1.ViewChild, args: ['primaryComponent',] },],\n    'secondaryComponent': [{ type: core_1.ViewChild, args: ['secondaryComponent',] },],\n    'initialRatio': [{ type: core_1.Input, args: ['primary-component-initialratio',] },],\n    'primaryMinSize': [{ type: core_1.Input, args: ['primary-component-minsize',] },],\n    'secondaryMinSize': [{ type: core_1.Input, args: ['secondary-component-minsize',] },],\n    'separatorThickness': [{ type: core_1.Input, args: ['separator-thickness',] },],\n    'primaryToggledOff': [{ type: core_1.Input, args: ['primary-component-toggled-off',] },],\n    'secondaryToggledOff': [{ type: core_1.Input, args: ['secondary-component-toggled-off',] },],\n    'localStorageKey': [{ type: core_1.Input, args: ['local-storage-key',] },],\n    'notifySizeDidChange': [{ type: core_1.Output, args: ['on-change',] },],\n    'notifyBeginResizing': [{ type: core_1.Output, args: ['on-begin-resizing',] },],\n    'notifyEndedResizing': [{ type: core_1.Output, args: ['on-ended-resizing',] },],\n    'onMouseup': [{ type: core_1.HostListener, args: ['mouseup', ['$event'],] },],\n};\nexports.SplitPaneComponent = SplitPaneComponent;\n//# sourceMappingURL=split-pane.component.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar split_pane_separator_component_1 = require(\"./split-pane-separator.component\");\nvar VerticalSplitSeparatorComponent = (function (_super) {\n    __extends(VerticalSplitSeparatorComponent, _super);\n    function VerticalSplitSeparatorComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VerticalSplitSeparatorComponent.prototype.ngAfterViewInit = function () {\n        this.invisibleExtension.nativeElement.style.left =\n            -(7 - this.thickness) / 2 + \"px\";\n    };\n    return VerticalSplitSeparatorComponent;\n}(split_pane_separator_component_1.SplitSeparatorComponent));\nVerticalSplitSeparatorComponent.decorators = [\n    { type: core_1.Component, args: [{\n                selector: 'vertical-split-separator',\n                styles: [\"\\n    :host {\\n      background-color: #fff;\\n      border-left: 1px solid #ddd;\\n      cursor: ew-resize;\\n      position: relative;\\n    }\\n    :host:hover {\\n      background-color: #fafafa;\\n    }\\n\\n    .invisible-extension {\\n      position: absolute;\\n      height: 100%;\\n      width: 100%;\\n      min-width: 7px;\\n    }\\n\\n    .handle {\\n      width: 100%;\\n      height: 35px;\\n      background-color: #eee;\\n      position: absolute;\\n      top: calc(50% - 17px);\\n    }\\n  \"],\n                template: \"\\n    <!-- Used to extend the 'draggable' area in case the separator is too thin,\\n    so it's not too hard to drag. -->\\n    <div\\n      #invisibleExtension\\n      [hidden]=\\\"thickness >= 7\\\"\\n      class=\\\"invisible-extension\\\"></div>\\n\\n    <div class=\\\"handle\\\"></div>\\n  \",\n                host: {\n                    '[style.width.px]': 'thickness'\n                }\n            },] },\n];\nVerticalSplitSeparatorComponent.ctorParameters = function () { return []; };\nexports.VerticalSplitSeparatorComponent = VerticalSplitSeparatorComponent;\n//# sourceMappingURL=vertical-split-pane-separator.component.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar split_pane_component_1 = require(\"./split-pane.component\");\nvar position_service_1 = require(\"./position.service\");\nvar VerticalSplitPaneComponent = (function (_super) {\n    __extends(VerticalSplitPaneComponent, _super);\n    function VerticalSplitPaneComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VerticalSplitPaneComponent.prototype.getTotalSize = function () {\n        return this.outerContainer.nativeElement.offsetWidth;\n    };\n    VerticalSplitPaneComponent.prototype.getPrimarySize = function () {\n        return this.primaryComponent.nativeElement.offsetWidth;\n    };\n    VerticalSplitPaneComponent.prototype.getSecondarySize = function () {\n        return this.secondaryComponent.nativeElement.offsetWidth;\n    };\n    VerticalSplitPaneComponent.prototype.dividerPosition = function (size) {\n        var sizePct = (size / this.getTotalSize()) * 100;\n        this.primaryComponent.nativeElement.style.width = sizePct + \"%\";\n        this.secondaryComponent.nativeElement.style.width =\n            \"calc(\" + (100 - sizePct) + \"% - \" + this.separatorThickness + \"px)\";\n    };\n    VerticalSplitPaneComponent.prototype.onMousemove = function (event) {\n        if (this.isResizing) {\n            var coords = position_service_1.PositionService.offset(this.primaryComponent);\n            this.applySizeChange(event.pageX - coords.left);\n            return false;\n        }\n    };\n    return VerticalSplitPaneComponent;\n}(split_pane_component_1.SplitPaneComponent));\nVerticalSplitPaneComponent.decorators = [\n    { type: core_1.Component, args: [{\n                selector: 'vertical-split-pane',\n                styles: [\"\\n    .v-outer {\\n      height: 100%;\\n      width: 100%;\\n      display: flex;\\n    }\\n\\n    .left-component {\\n      width: calc(50% - 4px);\\n    }\\n\\n    .right-component {\\n      width: calc(50% - 4px);\\n    }\\n  \"],\n                template: \"\\n  <div #outer class=\\\"v-outer\\\">\\n    <div\\n      #primaryComponent\\n      [hidden]=\\\"primaryToggledOff\\\"\\n      class=\\\"left-component\\\">\\n      <ng-content select=\\\".split-pane-content-primary\\\"></ng-content>\\n    </div>\\n    <vertical-split-separator\\n      #separator\\n      [hidden]=\\\"primaryToggledOff ||\\u00A0secondaryToggledOff\\\"\\n      [thickness]=\\\"separatorThickness\\\"\\n      (notifyWillChangeSize)=\\\"notifyWillChangeSize($event)\\\">\\n    </vertical-split-separator>\\n    <div\\n      #secondaryComponent\\n      [hidden]=\\\"secondaryToggledOff\\\"\\n      class=\\\"right-component\\\">\\n      <ng-content select=\\\".split-pane-content-secondary\\\"></ng-content>\\n    </div>\\n  </div>\\n  \",\n            },] },\n];\nVerticalSplitPaneComponent.ctorParameters = function () { return []; };\nVerticalSplitPaneComponent.propDecorators = {\n    'outerContainer': [{ type: core_1.ViewChild, args: ['outer',] },],\n    'onMousemove': [{ type: core_1.HostListener, args: ['mousemove', ['$event'],] },],\n};\nexports.VerticalSplitPaneComponent = VerticalSplitPaneComponent;\n//# sourceMappingURL=vertical-split-pane.component.js.map","module.exports = \"<div class=\\\"modal-header\\\">\\r\\n  <div>\\r\\n    <h4 class=\\\"modal-title pull-left\\\">thông tin - tài khoản kết nối</h4>\\r\\n  </div>\\r\\n  <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"close()\\\">\\r\\n    <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n  </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <div class=\\\"container\\\" *ngIf=\\\"is_expired\\\">\\r\\n    <dx-form id=\\\"isInvoiceBuyFromMail\\\" [formData]=\\\"captcha\\\" validationGroup=\\\"cfData\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n      <dxi-item itemType=\\\"group\\\" cssClass=\\\"captcha\\\">\\r\\n        <dxi-item [label]=\\\"{ text: _translate.CONFIGS.captcha_code}\\\">\\r\\n          <div class=\\\"captcha-container\\\">\\r\\n            <img [src]=\\\"captchaContent\\\" class=\\\"captcha-img\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"reset-captcha\\\"><i class=\\\"anticon\\\" (click)=\\\"getCaptcha()\\\"><svg\\r\\n                  xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24.195\\\" height=\\\"24.22\\\" viewBox=\\\"0 0 24.195 24.22\\\">\\r\\n                  <g id=\\\"cap_cha_btn\\\" transform=\\\"translate(-775.977 -774.928)\\\">\\r\\n                    <path id=\\\"Path_4177\\\" data-name=\\\"Path 4177\\\"\\r\\n                      d=\\\"M788.332,777.993v-3.065l-5.571,5.571,5.571,5.57V783c6.515-.544,10.72,3.789,11.78,9.487C800.8,784.211,795.486,779.318,788.332,777.993Z\\\"\\r\\n                      fill=\\\"#333\\\"></path>\\r\\n                    <path id=\\\"Path_4178\\\" data-name=\\\"Path 4178\\\"\\r\\n                      d=\\\"M787.942,796.05v3.1l5.63-5.63-5.63-5.629v3.1c-5.228.437-10.525-2.174-11.905-9.587C775.342,789.785,780.737,794.716,787.942,796.05Z\\\"\\r\\n                      fill=\\\"#333\\\"></path>\\r\\n                  </g>\\r\\n                </svg></i></button>\\r\\n          </div>\\r\\n        </dxi-item>\\r\\n        <dxi-item dataField=\\\"captcha_code\\\" cssClass=\\\"invoice-captcha\\\"\\r\\n          [label]=\\\"{ text: _translate.CONFIGS.enter_captcha_code}\\\" [colSpan]=\\\"2\\\">\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n            message=\\\"{{_translate.CONFIGS.enter_captcha_code}} {{_translate.VALIDATION.required}}\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n      </dxi-item>\\r\\n    </dx-form>\\r\\n  </div>\\r\\n  <h1 *ngIf=\\\"!is_expired\\\">Vui lòng kết nối tài khoản thuế <a (click)=\\\"goToConfig()\\\" href=\\\"javascript:void(0)\\\">Tại đây</a></h1>\\r\\n</div>\\r\\n<div style=\\\"padding: 1rem; border-top: 1px solid #e9ecef\\\">\\r\\n  <div class=\\\"row\\\" style=\\\"justify-content: flex-end;\\\">\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n      <div class=\\\"button-box\\\" style=\\\"display: flex; justify-content: flex-end; align-items: center\\\">\\r\\n        <dx-button text=\\\"Kết nối\\\" type=\\\"default\\\" (click)=\\\"udateCaptcha()\\\" *ngIf=\\\"is_expired\\\">\\r\\n        </dx-button>\\r\\n        <dx-button text=\\\"Quay lại\\\" type=\\\"default\\\" (click)=\\\"close()\\\">\\r\\n        </dx-button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \".captcha-container{display:flex;align-items:center;margin-left:10px}.captcha-container .captcha-img{background:#e5e5e5;border:1px solid;border-right:none;height:30px}.captcha-container .reset-captcha{height:30px;border-left:none;background:#e5e5e5;outline:none;border-bottom:1px solid;border-right:1px solid;border-top:1px solid}::ng-deep .captcha{align-items:center}::ng-deep .invoice-captcha .dx-texteditor{margin-left:10px}\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService, CoreService } from '@core/services';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { Router } from '@angular/router';\r\nimport { Library } from '@core/library';\r\nimport { ConfigsService } from '@modules/configs/shared';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'app-captcha-update',\r\n  templateUrl: './captcha-update.component.html',\r\n  styleUrls: ['./captcha-update.component.scss']\r\n})\r\nexport class CaptchaUpdateComponent implements OnInit {\r\n  _translate: any;\r\n  captcha: any = {};\r\n  isCheck = false;\r\n  tax_code: number;\r\n  arrCookie = [];\r\n  valueCokie: number;\r\n  captcha_code: any\r\n  captchaContent: any;\r\n  is_expired: any;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    public coreService: CoreService,\r\n    public router: Router,\r\n    public configsService: ConfigsService,\r\n    private domSanitizer: DomSanitizer\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getCaptcha();\r\n  }\r\n\r\n  close() {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  dongy() {\r\n    this.bsModalRef.content.successSaveItem = 'SuccessHomePage';\r\n    this.bsModalRef.hide();\r\n  }\r\n  goToConfig() {\r\n    this.router.navigate(['/system/configs', { type: 'tct' }]);\r\n    this.bsModalRef.hide();\r\n  }\r\n  getCaptcha() {\r\n    Library.showloading()\r\n    this.configsService.getCaptcha().subscribe(res => {\r\n      if (res.status == 'success') {\r\n        this.captchaContent = this.domSanitizer.bypassSecurityTrustUrl('data:image/svg+xml;base64,' + res.data.content);\r\n        this.captcha_code = res.data.key;\r\n      } else {\r\n        Library.notify('Hệ thống của tổng cục thuế đang lỗi, vui lòng thử lại', 'error', 5000)\r\n      }\r\n      Library.hideloading()\r\n    })\r\n  }\r\n  udateCaptcha() {\r\n    Library.showloading();\r\n    let data = {\r\n      config_search: {\r\n        captcha_key: this.captcha_code,\r\n        captcha_code: this.captcha.captcha_code\r\n      }\r\n    }\r\n    this.configsService.updateCaptcha(data).subscribe(res => {\r\n      if (res.status == 'success') {\r\n        Library.notify(this._translate.NOTIFY.update_success, 'success');\r\n        this.bsModalRef.hide();\r\n      } else {\r\n        Library.notify(res.message, 'error');\r\n        this.getCaptcha();\r\n      }\r\n      Library.hideloading()\r\n    })\r\n  }\r\n  onChangeCheck() {\r\n    this.isCheck = !this.isCheck;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row invoice-form\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <dx-form [formData]=\\\"frmData\\\" validationGroup=\\\"formData\\\">\\r\\n      <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"3\\\" cssClass='vat layout_input group-input-button'>\\r\\n          <dxi-item\\r\\n            [editorOptions]=\\\"{placeholder: 'Nhấn icon để tải file (chỉ ghi nhận file có định dạng XML)', disabled: true}\\\"\\r\\n            dataField=\\\"invoice_type_name\\\"\\r\\n            name=\\\"invoice_release_id\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.GRID.INVOICE.load_XML_invoice }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n\\r\\n          <dxi-item cssClass='btn-small'>\\r\\n            <input placeholder=\\\"Nhấn icon để tải file (chỉ ghi nhận file có định dạng XML)\\\"\\r\\n                   #myInput type=\\\"file\\\"\\r\\n                   class=\\\"d-none\\\" id=\\\"file-id\\\"\\r\\n                   name=\\\"file-id\\\" accept='text/xml'\\r\\n                   (change)=\\\"fileChanged($event)\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"openFile()\\\" class=\\\"text-primary border-0 bg-transparent\\\">\\r\\n              <i class=\\\"dx-icon fa fa-upload icon-size\\\"></i>\\r\\n            </button>\\r\\n          </dxi-item>\\r\\n\\r\\n          <dxi-item cssClass='btn-small'>\\r\\n            <button type=\\\"button\\\" (click)=\\\"clearDataFrm()\\\" class=\\\"text-danger border-0 bg-transparent\\\">\\r\\n              <i class=\\\"dx-icon fa fa-trash icon-size\\\"></i>\\r\\n            </button>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item dataField=\\\"seller_legal_name\\\">\\r\\n          <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.name_seller_unit }}\\\"></dxo-label>\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n                               message=\\\"{{ _translate.CONTROLL.LABEL.name_seller_unit }} {{ _translate.VALIDATION.required }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item dataField=\\\"template_code\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.invoice_form }}\\\"></dxo-label>\\r\\n            <dxi-validation-rule type=\\\"required\\\"\\r\\n                                 message=\\\"{{ _translate.CONTROLL.LABEL.invoice_form }} {{ _translate.VALIDATION.required }}\\\">\\r\\n            </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n\\r\\n          <dxi-item dataField=\\\"invoice_series\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.GRID.INVOICE.invoice_series }}\\\"></dxo-label>\\r\\n            <dxi-validation-rule type=\\\"required\\\"\\r\\n                                 message=\\\"{{ _translate.CONTROLL.LABEL.invoice_series }} {{ _translate.VALIDATION.required }}\\\">\\r\\n            </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item dataField=\\\"seller_address\\\">\\r\\n          <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.address }}\\\"></dxo-label>\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n                               message=\\\"{{ _translate.CONTROLL.LABEL.address }} {{ _translate.VALIDATION.required }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item dataField=\\\"invoice_date\\\" editorType=\\\"dxDateBox\\\"\\r\\n                    [editorOptions]=\\\"{useMaskBehavior:true, displayFormat: 'dd/MM/yyyy', dateSerializationFormat: 'yyyy-MM-dd HH:mm:ss'}\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.GRID.INVOICE.invoice_date }}\\\"></dxo-label>\\r\\n            <dxi-validation-rule type=\\\"required\\\"\\r\\n                                 message=\\\"{{ _translate.CONTROLL.LABEL.invoice_date }} {{ _translate.VALIDATION.required }}\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n\\r\\n          <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\" cssClass='vat layout_input group-input-button'>\\r\\n            <dxi-item dataField=\\\"invoice_number\\\" cssClass=\\\"style_data_filed_invoice_buy\\\" name=\\\"search-mst\\\">\\r\\n              <dxo-label text=\\\"{{ _translate.GRID.INVOICE.invoice_number }}\\\"></dxo-label>\\r\\n              <dxi-validation-rule type=\\\"required\\\"\\r\\n                                   message=\\\"{{ _translate.GRID.INVOICE.invoice_number }} {{ _translate.VALIDATION.required }}\\\"></dxi-validation-rule>\\r\\n            </dxi-item>\\r\\n            <dxi-item cssClass='btn-small'>\\r\\n              <button (click)=\\\"checkNumberInvoice()\\\" type=\\\"button\\\" class=\\\"border-0 bg-transparent\\\">\\r\\n                <i class=\\\"dx-icon fa fa-file-pdf-o icon-size\\\"></i>\\r\\n              </button>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\" cssClass='vat layout_input group-input-button'>\\r\\n            <dxi-item dataField=\\\"seller_tax_code\\\" cssClass=\\\"style_data_filed_invoice_buy\\\" name=\\\"search-mst\\\">\\r\\n              <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.tax_code }}\\\"></dxo-label>\\r\\n              <div *dxTemplate>\\r\\n                <dx-autocomplete\\r\\n                  valueExpr=\\\"tax_code\\\"\\r\\n                  placeholder=\\\"{{ _translate.CONTROLL.PLACE_HOLDER.input_content_search }}\\\"\\r\\n                  [dataSource]=\\\"tax_codes\\\"\\r\\n                  [(value)]=\\\"frmData.seller_tax_code\\\"\\r\\n                  [readOnly]=\\\"readOnlyCacTruongConLai\\\"\\r\\n                  (onItemClick)=\\\"taxCodeChoose($event)\\\"\\r\\n                >\\r\\n                  <div *dxTemplate=\\\"let item of 'item'\\\">\\r\\n                    <span>{{item.tax_code}}: {{ item.name }}</span>\\r\\n                  </div>\\r\\n                </dx-autocomplete>\\r\\n              </div>\\r\\n            </dxi-item>\\r\\n            <dxi-item itemType=\\\"button\\\" [buttonOptions]=\\\"mst_btn_options\\\" cssClass='btn-small'>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n\\r\\n          <dxi-item dataField=\\\"seller_mobile\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.mobile }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item dataField=\\\"currency_code\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.currency_code }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n          <dxi-item dataField=\\\"currency_rate\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.currency_rate }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item [label]=\\\"{text: 'Email'}\\\">\\r\\n          <div class=\\\"dx-field-item-content dx-field-item-content-location-right\\\">\\r\\n            <div\\r\\n              class=\\\"dx-textbox dx-texteditor dx-widget dx-texteditor-empty dx-validator dx-visibility-change-handler\\\">\\r\\n              <div class=\\\"dx-texteditor-container\\\" style=\\\"background: #fff; border: 1px solid #ddd;\\\">\\r\\n                <app-tag-input-email [typePlacehoderValue]=\\\"false\\\" [variableName]=\\\"this.emails\\\"\\r\\n                                     (numberGenerated)=\\\"renderDataEmail($event)\\\"\\r\\n                ></app-tag-input-email>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item dataField=\\\"payment_method_view_name\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.payment_method }}\\\"></dxo-label>\\r\\n          </dxi-item>\\r\\n          <dxi-item dataField=\\\"adjustment_type\\\" editorType=\\\"dxSelectBox\\\"\\r\\n                    [editorOptions]=\\\"{items: select.invoice_type, displayExpr: 'name', valueExpr: 'code'}\\\">\\r\\n            <dxo-label text=\\\"{{ _translate.GRID.TEMPLATE.invoice_type }}\\\"></dxo-label>\\r\\n            <dxi-validation-rule type=\\\"required\\\"\\r\\n                                 message=\\\"{{ _translate.GRID.TEMPLATE.invoice_type }} {{ _translate.VALIDATION.required }}\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item dataField=\\\"seller_bank_account\\\">\\r\\n          <dxo-label text=\\\"{{ _translate.GRID.INVOICE.account_bank }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n      </dxi-item>\\r\\n      <dxi-item itemType=\\\"group\\\" [colCount]=\\\"1\\\">\\r\\n        <dxi-item cssClass=\\\"vat invoice-note\\\" dataField=\\\"note\\\">\\r\\n          <dxo-label text=\\\"{{ _translate.CONTROLL.LABEL.note }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n      </dxi-item>\\r\\n    </dx-form>\\r\\n    <dx-form style=\\\"margin-top:7px\\\">\\r\\n    </dx-form>\\r\\n  </div>\\r\\n</div>\\r\\n<dx-popup\\r\\n  [width]=\\\"350\\\"\\r\\n  [height]=\\\"175\\\"\\r\\n  [showTitle]=\\\"true\\\"\\r\\n  title=\\\"Thông báo\\\"\\r\\n  [dragEnabled]=\\\"false\\\"\\r\\n  [closeOnOutsideClick]=\\\"true\\\"\\r\\n  [(visible)]=\\\"showPopup\\\">\\r\\n  <div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n    <p style=\\\"margin-bottom: 35px;\\\">{{_translate.CONFIRM.update_customer}}</p>\\r\\n    <div class=\\\"pull-right\\\">\\r\\n      <dx-button text=\\\"{{_translate.CONTROLL.LABEL.update}}\\\" type=\\\"default\\\"></dx-button>\\r\\n      <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.cancel}}\\\" type=\\\"default\\\"></dx-button>\\r\\n    </div>\\r\\n  </div>\\r\\n</dx-popup>\\r\\n\"","module.exports = \"::ng-deep .style_data_filed_invoice_buy .dx-field-item-label .dx-field-item-label-content{width:138px !important}.icon-size{font-size:24px !important}\\n\"","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NotifyTaxCodeComponent } from '@modules/invoice-buy/shared/modal/notify-tax-code/notify-tax-code.component';\r\nimport { CheckInvoiceNumberComponent } from '@modules/invoice-buy/shared/modal/check-invoice-number/check-invoice-number.component';\r\n\r\nimport xml2js from 'xml2js';\r\nimport * as moment from 'moment';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { Library } from '@core/library';\r\nimport { Invoice } from '@modules/invoice-buy/shared/class/invoice.model';\r\nimport DataSource from 'devextreme/data/data_source';\r\nimport { VatService } from '@modules/vat/shared';\r\nimport { VStringService } from '@core/library/public/v-string.service';\r\nimport { CustomersService } from '@modules/customers/shared';\r\nimport { DxFormComponent } from 'devextreme-angular';\r\nimport { sEnum, Helper, VChanggeMoneyService } from '@core/index';\r\n\r\n@Component({\r\n  selector: 'app-form-header-invoice',\r\n  templateUrl: './form-header-invoice.component.html',\r\n  styleUrls: ['./form-header-invoice.component.scss']\r\n})\r\nexport class FormHeaderInvoiceComponent implements OnInit {\r\n  showPopup = false;\r\n  _translate: any;\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  @ViewChild('myInput') myFile: ElementRef;\r\n  @Input() dataSource: any;\r\n  @Input() invoice_products: any;\r\n  @Input() frmData: any;\r\n  @Input() formatter: any;\r\n  @Input() _objTemplateSelect: any;\r\n  @Output('onFormChange') formEvent = new EventEmitter<any>();\r\n  @Input() extentionGrid: any;\r\n  select: any = {};\r\n  mst_btn_options = {\r\n    text: '',\r\n    icon: 'fa fa-search',\r\n    type: 'default',\r\n    onClick: () => {\r\n      Library.showloading();\r\n      this.customersService.getInfoCompany(this.frmData.seller_tax_code).subscribe(\r\n        (res: any) => {\r\n          if (res.status === 'success') {\r\n            if (res.data.customer.active_status === 1) {\r\n              const initialState = {\r\n                data: res.data.customer,\r\n                isShow: false,\r\n              };\r\n              this.bsModalRef = this.modalService.show(NotifyTaxCodeComponent, {\r\n                class: 'modal-md', initialState, backdrop: 'static',\r\n                keyboard: false\r\n              });\r\n            } else {\r\n              const initialState = {\r\n                isShow: true,\r\n                message: this._translate.NOTIFY.system_not_found\r\n              };\r\n              this.bsModalRef = this.modalService.show(NotifyTaxCodeComponent, {\r\n                class: 'modal-md', initialState, backdrop: 'static',\r\n                keyboard: false\r\n              });\r\n            }\r\n          } else {\r\n            // Library.notify(res.message, 'error');\r\n            const initialState = {\r\n              isShow: true,\r\n              message: this._translate.NOTIFY.system_not_found\r\n            };\r\n            this.bsModalRef = this.modalService.show(NotifyTaxCodeComponent, {\r\n              class: 'modal-md', initialState, backdrop: 'static',\r\n              keyboard: false\r\n            });\r\n          }\r\n        }, error => Library.notify(error, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n    }\r\n  };\r\n  emails: any = [];\r\n  customer_codes: any = [];\r\n  fileReader = new FileReader();\r\n  htXuatOptions = [];\r\n\r\n  tax_code_local: string = null;\r\n  tax_codes: any = [];\r\n  readOnlyCacTruongConLai: boolean;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private route: ActivatedRoute,\r\n    private modalService: BsModalService,\r\n    public bsModalRef: BsModalRef,\r\n    public translate: TranslateService,\r\n    private invoiceBuyService: InvoiceBuyService,\r\n    private vatService: VatService,\r\n    private customersService: CustomersService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngOnInit() {\r\n    const dataUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    this.tax_code_local = dataUser.account.tax_code;\r\n    this.route.data\r\n      .map(value => value.FormResolverService)\r\n      .subscribe((data: any) => {\r\n        this.setDataConfig(data[0]);\r\n        if (this.frmData.seller_email) {\r\n          this.emails = [];\r\n          const stringDataEmailGet = this.frmData.seller_email.split(';');\r\n          for (let i = 0; i < stringDataEmailGet.length; i++) {\r\n            this.emails.push({ display: stringDataEmailGet[i], value: stringDataEmailGet[i] });\r\n          }\r\n        }\r\n      });\r\n    this.tax_codes = new DataSource({\r\n      load: (loadOptions) => {\r\n        return this.vatService.getDataSourceForm(loadOptions.searchValue, 'tax_code');\r\n      }\r\n    });\r\n  }\r\n\r\n  taxCodeChoose(e) {\r\n    const customer = e.itemData;\r\n    this.frmData.seller_legal_name = customer.name;\r\n    this.frmData.seller_address = customer.business_address;\r\n    this.frmData.seller_mobile = customer.contact_mobile;\r\n    if (customer.email) {\r\n      this.frmData.seller_email = customer.email;\r\n      this.emails = [];\r\n      const stringDataEmailGet = customer.email.split(';');\r\n      for (let i = 0; i < stringDataEmailGet.length; i++) {\r\n        this.emails.push({ display: stringDataEmailGet[i], value: stringDataEmailGet[i] });\r\n      }\r\n    } else {\r\n      this.frmData.seller_email = customer.email;\r\n      this.emails = [];\r\n    }\r\n    if (customer.bank_account_number) {\r\n      this.frmData.seller_bank_account = customer.bank_account_number + ' - ' + customer.bank_name;\r\n    } else {\r\n      this.frmData.seller_bank_account = customer.bank_name;\r\n    }\r\n    this.onFieldDataChanged();\r\n  }\r\n\r\n  setDataConfig(data) {\r\n    this.select.payment_method_names = data.DM_HINH_THUC_THANH_TOAN;\r\n    this.select.currency_codes = data.DM_LOAI_TIEN;\r\n    this.select.invoice_type = [\r\n      { code: '1', name: 'Hóa đơn gốc' },\r\n      { code: '2', name: this._translate.GRID.GENERAL.invoice_replaced },\r\n      { code: '3', name: 'Hóa đơn thay thế' },\r\n      { code: '4', name: this._translate.GRID.GENERAL.invoice_adjusted },\r\n      { code: '5', name: this._translate.GRID.GENERAL.adjustment_invoice },\r\n      { code: '6', name: this._translate.GRID.GENERAL.invoice_deleted },\r\n      { code: '7', name: this._translate.GRID.GENERAL.invoice_removed },\r\n    ];\r\n  }\r\n\r\n  renderDataEmail($event) {\r\n    const arrEmail = [];\r\n    this.emails = $event;\r\n    if (this.emails.length > 0) {\r\n      for (let i = 0; i < this.emails.length; i++) {\r\n        if (typeof this.emails[i] === 'object')\r\n          arrEmail.push(this.emails[i].value);\r\n        else\r\n          if (typeof this.emails[i] === 'string')\r\n            arrEmail.push(this.emails[i]);\r\n      }\r\n      const emailToString = arrEmail.toString();\r\n    } else {\r\n    }\r\n  }\r\n\r\n  fileChanged($event) {\r\n    this.frmData = new Invoice('1');\r\n    this.emails = [];\r\n    this.onFieldDataChanged();\r\n    this.frmData.version_xml = \"1\";\r\n    const fileContent = $event.target.files[0];\r\n    let nameFile;\r\n    if (fileContent.name) {\r\n      nameFile = fileContent.name;\r\n    }\r\n    const fileReader = new FileReader();\r\n    fileReader.onloadend = (x) => {\r\n      this.parseXMLtoObject(fileReader.result, nameFile);\r\n    };\r\n    fileReader.readAsText(fileContent);\r\n  }\r\n\r\n  parseXMLtoObject(data, nameFile) {\r\n    const dataBase64Code = window.btoa(unescape(encodeURIComponent(data)));\r\n    // paser to base64 to a string\r\n    // const b = decodeURIComponent(escape(window.atob(a)));\r\n    xml2js.parseString(data, (err, result) => {\r\n      if (result) {\r\n        if (result.hasOwnProperty('Invoice')) {\r\n          let X509Certificate = '';\r\n          if (result['Invoice']['Signature'])\r\n            X509Certificate = result['Invoice']['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0]\r\n          this.getValueToObject('dreamSoft', result['Invoice']['Content'][0], nameFile, dataBase64Code, X509Certificate);\r\n        } else if (result.hasOwnProperty('inv:invoice')) {\r\n          let X509Certificate = '';\r\n          if (result['inv:invoice']['Signature'])\r\n            X509Certificate = result['inv:invoice']['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0];\r\n          this.getValueToObject('all', result['inv:invoice']['inv:invoiceData'][0], nameFile, dataBase64Code, X509Certificate);\r\n        } else if (result.hasOwnProperty('inv:transaction')) {\r\n          let X509Certificate = '';\r\n          if (result['inv:transaction']['inv:invoices'][0]['inv:invoice'][0]['Signature'])\r\n            X509Certificate = result['inv:transaction']['inv:invoices'][0]['inv:invoice'][0]['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0];\r\n          this.getValueToObject('all', result['inv:transaction']['inv:invoices'][0]['inv:invoice'][0]['inv:invoiceData'][0], nameFile, dataBase64Code, X509Certificate);\r\n        } else if (result.hasOwnProperty(\"HDon\")) {\r\n          this.readDataFromXmlTCT(result, nameFile, dataBase64Code);\r\n        }\r\n        else {\r\n          Library.notify('File dữ liệu không phải file hóa đơn!', 'error');\r\n        }\r\n      } else {\r\n        Library.notify('File dữ liệu không đúng!', 'error');\r\n      }\r\n    }\r\n    );\r\n  }\r\n\r\n  getValueToObject(type, value, nameFile, dataBase64Code, signature) {\r\n    const object = {};\r\n    for (const property in value) {\r\n      if (value.hasOwnProperty(property)) {\r\n        if (typeof value[property][0] === 'string') {\r\n          object[property] = value[property][0].trim();\r\n        } else {\r\n          object[property] = value[property][0];\r\n        }\r\n      }\r\n    }\r\n    if (type === 'dreamSoft') {\r\n      if (object['CusTaxCode']) {\r\n        if (object['CusTaxCode'] === this.tax_code_local) {\r\n          this.addValueToFormFormat1(object, nameFile, dataBase64Code, signature);\r\n        } else {\r\n          Library.notify(this._translate.NOTIFY.tax_code_diffirent_error, 'error');\r\n        }\r\n      } else {\r\n        Library.notify('Chưa hỗ trợ đọc định dạng file hóa đơn này', 'error');\r\n      }\r\n    } else if (type === 'all') {\r\n      if (object['inv:buyerTaxCode']) {\r\n        if (object['inv:buyerTaxCode'] === this.tax_code_local) {\r\n          this.addValueToFormFormat2(object, nameFile, dataBase64Code, signature);\r\n        } else {\r\n          Library.notify(this._translate.NOTIFY.tax_code_diffirent_error, 'error');\r\n        }\r\n      } else {\r\n        Library.notify('Chưa hỗ trợ đọc định dạng file hóa đơn này', 'error');\r\n      }\r\n    }\r\n  }\r\n\r\n  addValueToFormFormat1(object, nameFile, dataBase64Code, signature) {\r\n    this.frmData.invoice_type_name = nameFile;\r\n    this.frmData.signature_content = signature;\r\n    if (object['ArisingDate'])\r\n      this.frmData.invoice_date = moment(object['ArisingDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n    if (object['SignDate'])\r\n      this.frmData.sign_date = moment(object['SignDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n    this.frmData.template_code = object['InvoicePattern'];\r\n    if (object.hasOwnProperty('Kind_of_Payment')) {\r\n      this.frmData.payment_method_view_name = object['Kind_of_Payment'];\r\n    } else {\r\n      this.frmData.payment_method_view_name = object['PaymentMethod'];\r\n    }\r\n    this.frmData.invoice_series = object['SerialNo'];\r\n    this.frmData.seller_legal_name = object['ComName'];\r\n    this.frmData.invoice_number = object['InvoiceNo'];\r\n    this.frmData.currency_code = object['CurrencyUnit'];\r\n    if (object['ExchangeRate']) {\r\n      this.frmData.currency_rate = object['ExchangeRate'].replace(',', '.');\r\n    }\r\n    this.frmData.adjustment_type = '1';\r\n    this.frmData.seller_tax_code = object['ComTaxCode'];\r\n    this.frmData.seller_address = object['ComAddress'];\r\n    this.frmData.seller_mobile = object['ComPhone'];\r\n    if (object['ComEmail']) {\r\n      if (object['ComEmail'] !== '.') {\r\n        this.frmData.seller_email = object['ComEmail'];\r\n        this.emails = [];\r\n        const stringDataEmailGet = object['ComEmail'].split(';');\r\n        for (let i = 0; i < stringDataEmailGet.length; i++) {\r\n          this.emails.push({ display: stringDataEmailGet[i], value: stringDataEmailGet[i] });\r\n        }\r\n      } else {\r\n        this.frmData.seller_email = null;\r\n        this.emails = [];\r\n      }\r\n    } else {\r\n      this.frmData.seller_email = null;\r\n      this.emails = [];\r\n    }\r\n\r\n    if (object.hasOwnProperty('ComFaxCode')) {\r\n      this.frmData.seller_fax_number = object['ComFaxCode'];\r\n    }\r\n    this.frmData.buyer_legal_name = object['CusName'];\r\n    this.frmData.buyer_tax_code = object['CusTaxCode'];\r\n    this.frmData.buyer_mobile = object['CusPhone'];\r\n    this.frmData.buyer_address = object['CusPhone'];\r\n    this.frmData.buyer_email = object['CusEmail'];\r\n    this.frmData.xml_type = \"2\";\r\n    if (object.hasOwnProperty('ComBankNo')) {\r\n      if (object['ComBankName']) {\r\n        this.frmData.seller_bank_account = object['ComBankNo'] + ' - ' + object['ComBankName'];\r\n      } else {\r\n        this.frmData.seller_bank_account = object['ComBankName'];\r\n      }\r\n    }\r\n    this.frmData.amount = parseInt(object['Total'].replace(',', '.'), 10);\r\n    if (object.hasOwnProperty('VATAmount')) {\r\n      this.frmData.total_amount_vat = parseInt(object['VATAmount'].replace(',', '.'), 10);\r\n    } else {\r\n      this.frmData.total_amount_vat = parseInt(object['VAT_Amount'].replace(',', '.'), 10);\r\n    }\r\n    this.frmData.total_payment = parseInt(object['Amount'].replace(',', '.'), 10);\r\n    if (object.hasOwnProperty('Amount_words')) {\r\n      this.frmData.total_payment_in_word = object['Amount_words'];\r\n    } else {\r\n      this.frmData.total_payment_in_word = object['AmountInWords'];\r\n    }\r\n    this.frmData.input_invoice_files = [{\r\n      order: 'DK',\r\n      file_name: nameFile,\r\n      file_content: dataBase64Code,\r\n      is_file_import: true\r\n    }];\r\n    if (object['Products']) {\r\n      const arrItem = object['Products']['Product'];\r\n      for (let i = 0; i < arrItem.length; i++) {\r\n        for (const keyItem in arrItem[i]) {\r\n          if (arrItem[i].hasOwnProperty(keyItem)) {\r\n            arrItem[i][keyItem] = arrItem[i][keyItem][0].trim();\r\n          }\r\n        }\r\n      }\r\n      const arrItemFormat = this.invoiceBuyService.formatArrayItem(arrItem);\r\n      arrItemFormat.forEach((value, index) => {\r\n        if (value.quantity) {\r\n          value.quantity = parseInt(value.quantity.replace(',', '.'), 10);\r\n        } else {\r\n          value.quantity = null;\r\n        }\r\n        if (!value.product_code) {\r\n          value.product_code = null;\r\n        }\r\n        if (value.price) {\r\n          value.price = parseInt(value.price.replace(',', '.'), 10);\r\n        } else {\r\n          value.price = null;\r\n        }\r\n        if (value.amount) {\r\n          value.amount = parseInt(value.amount.replace(',', '.'), 10);\r\n        } else {\r\n          value.amount = null;\r\n        }\r\n        if (value.vat) {\r\n          value.vat = parseInt(value.vat.replace(',', '.'), 10);\r\n        } else {\r\n          value.vat = null;\r\n        }\r\n        if (!value.unit_name) {\r\n          value.unit_name = null;\r\n        }\r\n        if (value.amount_vat) {\r\n          value.amount_vat = parseInt(value.amount_vat.replace(',', '.'), 10);\r\n        } else {\r\n          value.amount_vat = null;\r\n        }\r\n        if (value.unit_code === undefined) {\r\n          value.unit_code = null;\r\n        }\r\n        if (value.amount && value.amount_vat) {\r\n          value.amount_after_vat = value.amount + value.amount_vat;\r\n        } else if (value.amount && !value.amount_vat) {\r\n          value.amount_after_vat = value.amount;\r\n        } else {\r\n          value.amount_after_vat = null;\r\n        }\r\n        value.order = index + 1;\r\n      });\r\n      this.frmData.input_invoice_products = arrItemFormat;\r\n    }\r\n    this.onFieldDataChanged();\r\n  }\r\n\r\n  /* Đọc file xml từ Tổng Cục Thuế */\r\n  readDataFromXmlTCT(content, nameFile, dataBase64Code) {\r\n    let TTChung = content['HDon']['DLHDon'][0]['TTChung'][0];\r\n    let NBan = content['HDon']['DLHDon'][0]['NDHDon'][0]['NBan'][0];\r\n    let NMua = content['HDon']['DLHDon'][0]['NDHDon'][0]['NMua'][0];\r\n    let DSHHDVu = content['HDon']['DLHDon'][0]['NDHDon'][0]['DSHHDVu'][0]['HHDVu'];\r\n    let TToan = content['HDon']['DLHDon'][0]['NDHDon'][0]['TToan'][0];\r\n    let X509Certificate = content['HDon']['DSCKS'][0]['NBan'][0]['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0];\r\n    let THTTLTSuat = [];\r\n    if (content['HDon']['DLHDon'][0]['NDHDon'][0]['TToan'][0]['THTTLTSuat'])\r\n      THTTLTSuat = content['HDon']['DLHDon'][0]['NDHDon'][0]['TToan'][0]['THTTLTSuat'][0]['LTSuat'];\r\n    let MST_BENMUA = content['HDon']['DLHDon'][0]['NDHDon'][0]['NMua'][0][\"MST\"];\r\n    let signDate = content['HDon']['DSCKS'][0]['NBan'][0]['Signature'][0]['Object'][0]['SignatureProperties'][0]['SignatureProperty'][0]['SigningTime'][0]._;\r\n    let TTHDLQuan = content['HDon']['DLHDon'][0]['TTChung'][0][\"TTHDLQuan\"];\r\n    if (TTHDLQuan) {\r\n      let TCHDon = content['HDon']['DLHDon'][0]['TTChung'][0][\"TTHDLQuan\"][0][\"TCHDon\"];\r\n      if (TCHDon) {\r\n        TCHDon = content['HDon']['DLHDon'][0]['TTChung'][0][\"TTHDLQuan\"][0][\"TCHDon\"][0];\r\n        if (TCHDon == \"1\")\r\n          this.frmData.adjustment_type = \"3\";\r\n        else if (TCHDon == \"2\")\r\n          this.frmData.adjustment_type = \"5\";\r\n      }\r\n      else\r\n        this.frmData.adjustment_type = \"1\";\r\n    }\r\n    else\r\n      this.frmData.adjustment_type = \"1\";\r\n    if (!signDate)\r\n      signDate = content['HDon']['DSCKS'][0]['NBan'][0]['Signature'][0]['Object'][0]['SignatureProperties'][0]['SignatureProperty'][0]['SigningTime'][0];\r\n    let MaCQT = \"\";\r\n    if (content['HDon']['MCCQT'])\r\n      MaCQT = content['HDon']['MCCQT'][0]._;\r\n    if (MST_BENMUA) {\r\n      MST_BENMUA = content['HDon']['DLHDon'][0]['NDHDon'][0]['NMua'][0][\"MST\"][0];\r\n      MST_BENMUA = MST_BENMUA.trim();\r\n      if (MST_BENMUA === this.tax_code_local) {\r\n      } else {\r\n        Library.notify(\"Mã số thuế người mua trên hóa đơn không trùng với Mã số thuế của đơn vị\", 'error');\r\n        return;\r\n      }\r\n    } else {\r\n      Library.notify('Mã số thuế người mua trên hóa đơn không trùng với Mã số thuế của đơn vị', 'error');\r\n      return;\r\n    }\r\n    this.frmData.invoice_type_name = nameFile;\r\n    this.frmData.tax_authority_code = MaCQT;\r\n    this.frmData.xml_type = \"3\";\r\n    /* Thông tin chung */\r\n    for (const property in TTChung) {\r\n      let valueI = TTChung[property][0];\r\n      switch (property) {\r\n        case \"KHMSHDon\":\r\n          this.frmData.template_code = valueI;\r\n          break;\r\n        case \"KHHDon\":\r\n          this.frmData.invoice_series = valueI;\r\n          break;\r\n        case \"SHDon\":\r\n          this.frmData.invoice_number = valueI;\r\n          break;\r\n        case \"NLap\":\r\n          const date = new Date(valueI);\r\n          if (date.toString() === 'Invalid Date') {\r\n            this.frmData.invoice_date = moment(valueI, 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n          } else {\r\n            this.frmData.invoice_date = moment(valueI).format('YYYY-MM-DD hh:mm:ss');\r\n          }\r\n          break;\r\n        case \"DVTTe\":\r\n          this.frmData.currency_code = valueI;\r\n          break;\r\n        case \"HTTToan\":\r\n          this.frmData.payment_method_view_name = valueI;\r\n          break;\r\n      }\r\n    }\r\n    /* Thông tin bên bán */\r\n    for (const property in NBan) {\r\n      let valueI = NBan[property][0];\r\n      switch (property) {\r\n        case \"Ten\":\r\n          this.frmData.seller_legal_name = valueI;\r\n          break;\r\n        case \"MST\":\r\n          this.frmData.seller_tax_code = valueI;\r\n          break;\r\n        case \"DChi\":\r\n          this.frmData.seller_address = valueI;\r\n          break;\r\n        case \"SDThoai\":\r\n          this.frmData.seller_mobile = valueI;\r\n          break;\r\n      }\r\n    }\r\n    /* Thông tin bên mua */\r\n    for (const property in NMua) {\r\n      let valueI = NMua[property][0];\r\n      switch (property) {\r\n        case \"Ten\":\r\n          this.frmData.buyer_legal_name = valueI;\r\n          break;\r\n        case \"MST\":\r\n          this.frmData.buyer_tax_code = valueI;\r\n          break;\r\n        case \"DChi\":\r\n          this.frmData.buyer_address = valueI;\r\n          break;\r\n        case \"SDThoai\":\r\n          this.frmData.buyer_mobile = valueI;\r\n          break;\r\n        case \"MKHang\":\r\n          this.frmData.customer_code = valueI;\r\n          break;\r\n        case \"DCTDTu\":\r\n          this.frmData.buyer_email = valueI;\r\n          break;\r\n        case \"HVTNMHang\":\r\n          this.frmData.buyer_name = valueI;\r\n          break;\r\n      }\r\n    }\r\n    /* Thông tin Số tiền trên hóa đơn */\r\n    for (const property in TToan) {\r\n      let valueI = TToan[property][0];\r\n      switch (property) {\r\n        case \"TgTCThue\":\r\n          this.frmData.amount = valueI;\r\n          break;\r\n        case \"TgTThue\":\r\n          this.frmData.total_amount_vat = valueI;\r\n          break;\r\n        case \"TgTTTBSo\":\r\n          this.frmData.total_payment = valueI;\r\n          break;\r\n        case \"TgTTTBChu\":\r\n          this.frmData.total_payment_in_word = valueI;\r\n          break;\r\n      }\r\n    }\r\n    if (THTTLTSuat && THTTLTSuat.length > 0) {\r\n      let lstTThue = [];\r\n      for (let i = 0; i < THTTLTSuat.length; i++) {\r\n        const object = {};\r\n        for (const property in THTTLTSuat[i]) {\r\n          let valueI = THTTLTSuat[i][property][0];\r\n          object[property] = valueI;\r\n        }\r\n        lstTThue.push(object);\r\n      }\r\n      if (lstTThue.length > 0) {\r\n        lstTThue.forEach(itemT => {\r\n          switch (itemT.TSuat) {\r\n            case \"0%\":\r\n              this.frmData.total_amount_product_vat0 = itemT.ThTien;\r\n              break;\r\n            case \"5%\":\r\n              this.frmData.total_amount_product_vat5 = itemT.ThTien;\r\n              this.frmData.amount_vat5 = itemT.TThue;\r\n              break;\r\n            case \"8%\":\r\n              this.frmData.total_amount_product_vat8 = itemT.ThTien;\r\n              this.frmData.amount_vat8 = itemT.TThue;\r\n              break;\r\n            case \"10%\":\r\n              this.frmData.total_amount_product_vat10 = itemT.ThTien;\r\n              this.frmData.amount_vat10 = itemT.TThue;\r\n              break;\r\n            case \"KCT\":\r\n              this.frmData.total_amount_product_vatx = itemT.ThTien;\r\n              break;\r\n            case \"KKKNT\":\r\n              this.frmData.total_amount_product_vat_kkknt = itemT.ThTien;\r\n              break;\r\n          }\r\n        });\r\n      }\r\n    }\r\n    /* Danh sách hàng hóa, dịch vụ */\r\n    if (DSHHDVu && DSHHDVu.length > 0) {\r\n      let lstHangHoa = [];\r\n      for (let i = 0; i < DSHHDVu.length; i++) {\r\n        const object = {};\r\n        for (const property in DSHHDVu[i]) {\r\n          let valueI = DSHHDVu[i][property][0];\r\n          object[property] = valueI;\r\n        }\r\n        lstHangHoa.push(object);\r\n      }\r\n      if (lstHangHoa.length > 0) {\r\n        this.frmData.input_invoice_products = [];\r\n        lstHangHoa.forEach(itemHH => {\r\n          let oHangHoa = {};\r\n          oHangHoa[\"order\"] = itemHH.STT ? itemHH.STT : null;\r\n          oHangHoa[\"product_code\"] = itemHH.MHHDVu ? itemHH.MHHDVu : null;\r\n          oHangHoa[\"product_name\"] = itemHH.THHDVu ? itemHH.THHDVu : null;\r\n          oHangHoa[\"unit_name\"] = itemHH.DVTinh ? itemHH.DVTinh : null;\r\n          oHangHoa[\"quantity\"] = itemHH.SLuong;\r\n          oHangHoa[\"price\"] = itemHH.DGia;\r\n          oHangHoa[\"amount\"] = itemHH.ThTien;\r\n          oHangHoa[\"product_group\"] = \"1\";\r\n          oHangHoa[\"unit_code\"] = null;\r\n          oHangHoa[\"is_promotion\"] = null;\r\n          // oHangHoa[\"view_order\"] = oHangHoa[\"order\"];\r\n          switch (itemHH.TSuat) {\r\n            case \"0%\":\r\n              oHangHoa[\"vat\"] = 0;\r\n              break;\r\n            case \"5%\":\r\n              oHangHoa[\"vat\"] = 5;\r\n              break;\r\n            case \"10%\":\r\n              oHangHoa[\"vat\"] = 10;\r\n              break;\r\n            case \"8%\":\r\n              oHangHoa[\"vat\"] = 8;\r\n              break;\r\n            case \"KCT\":\r\n              oHangHoa[\"vat\"] = -1;\r\n              break;\r\n            case \"KKKNT\":\r\n              oHangHoa[\"vat\"] = -2;\r\n              break;\r\n            default:\r\n              oHangHoa[\"vat\"] = null;\r\n              break;\r\n          }\r\n          /* Cấu hình thập phân */\r\n          //->Số lượng\r\n          if (oHangHoa[\"quantity\"]) {\r\n            let arr = oHangHoa[\"quantity\"].split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.so_luong = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.so_luong = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Đơn giá\r\n          if (oHangHoa[\"price\"]) {\r\n            let arr = oHangHoa[\"price\"].split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.don_gia = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.don_gia = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Thành tiền\r\n          if (oHangHoa[\"amount\"]) {\r\n            let arr = oHangHoa[\"amount\"].split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.thanh_tien = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.thanh_tien = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Tiền thuế\r\n          if (this.frmData.total_amount_vat) {\r\n            let arr = this.frmData.total_amount_vat.split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.tien_thue = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.tien_thue = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Tổng tiền\r\n          if (this.frmData.total_payment) {\r\n            let arr = this.frmData.total_payment.split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.tong_tien = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.tong_tien = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n\r\n          if (oHangHoa[\"quantity\"])\r\n            oHangHoa[\"quantity\"] = VChanggeMoneyService.roundNumber(Helper.toNumber(oHangHoa[\"quantity\"]), this.formatter.so_luong);\r\n          else\r\n            oHangHoa[\"quantity\"] = null;\r\n\r\n          if (oHangHoa[\"price\"])\r\n            oHangHoa[\"price\"] = VChanggeMoneyService.roundNumber(Helper.toNumber(oHangHoa[\"price\"]), this.formatter.don_gia);\r\n          else\r\n            oHangHoa[\"price\"] = null;\r\n\r\n          if (oHangHoa[\"amount\"])\r\n            oHangHoa[\"amount\"] = VChanggeMoneyService.roundNumber(Helper.toNumber(oHangHoa[\"amount\"]), this.formatter.thanh_tien);\r\n          else\r\n            oHangHoa[\"amount\"] = null;\r\n\r\n          /* Tính tiền thuế */\r\n          if (oHangHoa[\"amount\"] != null && oHangHoa[\"vat\"] != null) {\r\n            if (oHangHoa[\"vat\"] > 0) {\r\n              oHangHoa[\"amount_vat\"] = VChanggeMoneyService.roundNumber((oHangHoa[\"amount\"] * oHangHoa[\"vat\"]) / 100, this.formatter.tien_thue);\r\n            } else if (oHangHoa[\"vat\"] == 0)\r\n              oHangHoa[\"amount_vat\"] = VChanggeMoneyService.roundNumber(0, this.formatter.tien_thue);\r\n            else\r\n              oHangHoa[\"amount_vat\"] = null;\r\n          } else if (oHangHoa[\"vat\"] == null || (oHangHoa[\"vat\"] != null && oHangHoa[\"amount\"] == null))\r\n            oHangHoa[\"amount_vat\"] = null;\r\n          /* Tính tổng tiền hàng hóa */\r\n          if (oHangHoa[\"amount_vat\"] != null && oHangHoa[\"amount\"] != null)\r\n            oHangHoa[\"amount_after_vat\"] = VChanggeMoneyService.roundNumber(oHangHoa[\"amount\"] + oHangHoa[\"amount_vat\"], this.formatter.tong_tien);\r\n          else if (oHangHoa[\"amount\"] != null)\r\n            oHangHoa[\"amount_after_vat\"] = VChanggeMoneyService.roundNumber(oHangHoa[\"amount\"], this.formatter.tong_tien);\r\n          else\r\n            oHangHoa[\"amount_after_vat\"] = null;\r\n\r\n          this.frmData.input_invoice_products.push(oHangHoa);\r\n        });\r\n      }\r\n    }\r\n\r\n    /* Cấu hình thập phân cho số tiền */\r\n    if (this.frmData.total_amount_product_vat0)\r\n      this.frmData.total_amount_product_vat0 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat0), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat0 = null;\r\n\r\n    if (this.frmData.total_amount_product_vat5)\r\n      this.frmData.total_amount_product_vat5 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat5), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat5 = null;\r\n\r\n    if (this.frmData.total_amount_product_vat8)\r\n      this.frmData.total_amount_product_vat8 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat8), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat8 = null;\r\n\r\n    if (this.frmData.total_amount_product_vat10)\r\n      this.frmData.total_amount_product_vat10 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat10), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat10 = null;\r\n\r\n    if (this.frmData.total_amount_product_vatx)\r\n      this.frmData.total_amount_product_vatx = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vatx), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vatx = null;\r\n\r\n    if (this.frmData.total_amount_product_vat_kkknt)\r\n      this.frmData.total_amount_product_vat_kkknt = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat_kkknt), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat_kkknt = null;\r\n\r\n    if (this.frmData.amount)\r\n      this.frmData.amount = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.amount = null;\r\n\r\n    if (this.frmData.total_amount_vat)\r\n      this.frmData.total_amount_vat = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_vat), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.total_amount_vat = null;\r\n\r\n    if (this.frmData.total_payment)\r\n      this.frmData.total_payment = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_payment), this.formatter.tong_tien);\r\n    else\r\n      this.frmData.total_payment = null;\r\n\r\n    if (this.frmData.amount_vat5)\r\n      this.frmData.amount_vat5 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount_vat5), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.amount_vat5 = null;\r\n\r\n    if (this.frmData.amount_vat8)\r\n      this.frmData.amount_vat8 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount_vat8), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.amount_vat8 = null;\r\n\r\n    if (this.frmData.amount_vat10)\r\n      this.frmData.amount_vat10 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount_vat10), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.amount_vat10 = null;\r\n\r\n    this.frmData.input_invoice_products = this.frmData.input_invoice_products.filter((item) => {\r\n      if (item.product_name !== 'Tổng tiền hàng' && item.product_name !== 'Tổng tiền chiết khấu' && item.product_name !== 'Chiết khấu') {\r\n        return item;\r\n      }\r\n    });\r\n    this.frmData.signature_content = X509Certificate;\r\n    if (signDate)\r\n      this.frmData.sign_date = signDate.replace(\"T\", \" \");\r\n    this.frmData.input_invoice_files = [{\r\n      order: 'DK',\r\n      file_name: nameFile,\r\n      file_content: dataBase64Code,\r\n      is_file_import: true\r\n    }];\r\n    this.onFieldDataChanged();\r\n  }\r\n\r\n  addValueToFormFormat2(object, nameFile, dataBase64Code, signature) {\r\n    this.frmData.invoice_type_name = nameFile;\r\n    this.frmData.signature_content = signature;\r\n    this.frmData.template_code = object['inv:templateCode'];\r\n    if (object['inv:adjustmentType']) {\r\n      if (object['inv:adjustmentType'].trim() === '') {\r\n        this.frmData.adjustment_type = '1';\r\n      } else {\r\n        this.frmData.adjustment_type = object['inv:adjustmentType'];\r\n      }\r\n    } else {\r\n      this.frmData.adjustment_type = '1';\r\n    }\r\n    this.frmData.invoice_number = object['inv:invoiceNumber'];\r\n    this.frmData.invoice_series = object['inv:invoiceSeries'];\r\n    this.frmData.currency_code = object['inv:currencyCode'];\r\n    this.frmData.xml_type = \"2\";\r\n    if (object['inv:signedDate']) {\r\n      const date = new Date(object['inv:signedDate']);\r\n      if (date.toString() === 'Invalid Date') {\r\n        this.frmData.sign_date = moment(object['inv:signedDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n      } else {\r\n        this.frmData.sign_date = moment(object['inv:signedDate']).format('YYYY-MM-DD hh:mm:ss');\r\n      }\r\n    }\r\n    if (object['inv:invoiceIssuedDate']) {\r\n      const date = new Date(object['inv:invoiceIssuedDate']);\r\n      if (date.toString() === 'Invalid Date') {\r\n        this.frmData.invoice_date = moment(object['inv:invoiceIssuedDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n      } else {\r\n        this.frmData.invoice_date = moment(object['inv:invoiceIssuedDate']).format('YYYY-MM-DD hh:mm:ss');\r\n      }\r\n    }\r\n    this.frmData.seller_tax_code = object['inv:sellerTaxCode'];\r\n    this.frmData.seller_fax_number = object['inv:sellerFaxNumber'];\r\n    this.frmData.seller_contact_name = object['inv:sellerContactPersonName'];\r\n    this.frmData.seller_address = object['inv:sellerAddressLine'];\r\n    this.frmData.seller_mobile = object['inv:sellerPhoneNumber'];\r\n    this.frmData.seller_legal_name = object['inv:sellerLegalName'];\r\n    this.frmData.buyer_legal_name = object['inv:buyerLegalName'];\r\n    this.frmData.buyer_tax_code = object['inv:buyerTaxCode'];\r\n    this.frmData.buyer_mobile = object['inv:buyerPhoneNumber'];\r\n    this.frmData.buyer_email = object['inv:buyerEmail'];\r\n    if (object.hasOwnProperty('inv:exchangeRate') || object.hasOwnProperty('inv:exchangeRate')) {\r\n      if (object['inv:exchangeRate']) {\r\n        this.frmData.currency_rate = object['inv:exchangeRate'].replace(',', '.');\r\n      } else if (object['inv:ExchangeRate']) {\r\n        this.frmData.currency_rate = object['inv:ExchangeRate'].replace(',', '.');\r\n      }\r\n    }\r\n    if (object.hasOwnProperty('inv:sellerBankAccount')) {\r\n      if (object['inv:sellerBankAccount']) {\r\n        this.frmData.seller_bank_account = object['inv:sellerBankAccount'] + ' - ' + object['inv:sellerBankName'];\r\n      } else {\r\n        this.frmData.seller_bank_account = object['inv:sellerBankName'];\r\n      }\r\n    } else {\r\n      this.frmData.seller_bank_account = object['inv:sellerBankName'];\r\n    }\r\n    const payments = object['inv:payments']['inv:payment'][0];\r\n    if (payments.hasOwnProperty('inv:paymentMethodName')) {\r\n      this.frmData.payment_method_view_name = payments['inv:paymentMethodName'][0];\r\n    } else {\r\n      this.frmData.payment_method_view_name = payments['inv:paymentMethodNameExt'][0];\r\n    }\r\n    if (object['inv:sellerEmail']) {\r\n      if (object['inv:sellerEmail'] !== '.') {\r\n        this.frmData.seller_email = object['inv:sellerEmail'];\r\n        this.emails = [];\r\n        const stringDataEmailGet = object['inv:sellerEmail'].split(';');\r\n        for (let i = 0; i < stringDataEmailGet.length; i++) {\r\n          this.emails.push({ display: stringDataEmailGet[i], value: stringDataEmailGet[i] });\r\n        }\r\n      } else {\r\n        this.frmData.seller_email = null;\r\n        this.emails = [];\r\n      }\r\n    } else {\r\n      this.frmData.seller_email = null;\r\n      this.emails = [];\r\n    }\r\n    if (object['inv:items']) {\r\n      const arrItem = object['inv:items']['inv:item'];\r\n      for (let i = 0; i < arrItem.length; i++) {\r\n        for (const keyItem in arrItem[i]) {\r\n          if (arrItem[i].hasOwnProperty(keyItem)) {\r\n            arrItem[i][keyItem] = arrItem[i][keyItem][0].trim();\r\n          }\r\n        }\r\n      }\r\n      const arrItemFormat = this.invoiceBuyService.formatArrayItem1(arrItem);\r\n      arrItemFormat.forEach((value, index) => {\r\n        if (value.quantity) {\r\n          value.quantity = parseInt(value.quantity.replace(',', '.'), 10);\r\n        } else {\r\n          value.quantity = null;\r\n        }\r\n        if (!value.product_code) {\r\n          value.product_code = null;\r\n        }\r\n        if (value.price) {\r\n          value.price = parseInt(value.price.replace(',', '.'), 10);\r\n        } else {\r\n          value.price = null;\r\n        }\r\n        if (value.amount_after_vat) {\r\n          value.amount_after_vat = parseInt(value.amount_after_vat.replace(',', '.'), 10);\r\n        } else {\r\n          value.amount_after_vat = null;\r\n        }\r\n        if (!value.unit_name) {\r\n          value.unit_name = null;\r\n        }\r\n        if (value.amount) {\r\n          value.amount = parseInt(value.amount.replace(',', '.'), 10);\r\n        } else {\r\n          value.amount = null;\r\n        }\r\n        if (value.vat) {\r\n          value.vat = parseInt(value.vat.replace(',', '.'), 10);\r\n        } else {\r\n          value.vat = null;\r\n        }\r\n        if (value.amount_vat) {\r\n          value.amount_vat = parseInt(value.amount_vat.replace(',', '.'), 10);\r\n        } else {\r\n          value.amount_vat = null;\r\n        }\r\n        if (value.unit_code === undefined) {\r\n          value.unit_code = null;\r\n        }\r\n        if (value.amount && value.amount_vat) {\r\n          value.amount_after_vat = value.amount + value.amount_vat;\r\n        } else if (value.amount && !value.amount_vat) {\r\n          value.amount_after_vat = value.amount;\r\n        } else {\r\n          value.amount_after_vat = null;\r\n        }\r\n        value.order = index + 1;\r\n      });\r\n      this.frmData.input_invoice_products = arrItemFormat.filter((item) => {\r\n        if (item.product_name !== 'Tổng tiền hàng' && item.product_name !== 'Tổng tiền chiết khấu' && item.product_name !== 'Chiết khấu') {\r\n          return item;\r\n        }\r\n      });\r\n    }\r\n    this.frmData.amount = parseInt(object['inv:totalAmountWithoutVAT'].replace(',', '.'), 10);\r\n    this.frmData.total_amount_vat = parseInt(object['inv:totalVATAmount'].replace(',', '.'), 10);\r\n    this.frmData.total_payment = parseInt(object['inv:totalAmountWithVAT'].replace(',', '.'), 10);\r\n    this.frmData.total_payment_in_word = object['inv:totalAmountWithVATInWords'];\r\n    this.frmData.input_invoice_files = [{\r\n      order: 'DK',\r\n      file_name: nameFile,\r\n      file_content: dataBase64Code,\r\n      is_file_import: true\r\n    }];\r\n    this.onFieldDataChanged();\r\n  }\r\n\r\n  onFieldDataChanged() {\r\n    this.formEvent.emit(this.frmData);\r\n  }\r\n\r\n  openFile() {\r\n    document.getElementById('file-id').click();\r\n  }\r\n\r\n  checkNumberInvoice() {\r\n    if (VStringService._getValueToString(this.frmData.template_code) == '') {\r\n      Library.notify(this._translate.CONTROLL.LABEL.invoice_form + ' ' + this._translate.VALIDATION.required, 'error');\r\n    } else if (VStringService._getValueToString(this.frmData.invoice_series) == '') {\r\n      Library.notify(this._translate.GRID.INVOICE.invoice_series + ' ' + this._translate.VALIDATION.required, 'error');\r\n    } else if (VStringService._getValueToString(this.frmData.invoice_date) == '') {\r\n      Library.notify(this._translate.GRID.INVOICE.invoice_date + ' ' + this._translate.VALIDATION.required, 'error');\r\n    } else if (VStringService._getValueToString(this.frmData.invoice_number) == '') {\r\n      Library.notify(this._translate.GRID.INVOICE.invoice_number + ' ' + this._translate.VALIDATION.required, 'error');\r\n    } else {\r\n      Library.showloading();\r\n      const _data = {\r\n        input_invoice: {\r\n          template_code: this.frmData.template_code,\r\n          invoice_number: this.frmData.invoice_number,\r\n          invoice_series: this.frmData.invoice_series,\r\n          tax_code: this.frmData.seller_tax_code,\r\n          invoice_date: moment(this.frmData.invoice_date).format('YYYY-MM-DD'),\r\n        }\r\n      };\r\n      this.invoiceBuyService.apiCheckNumberInvocie(_data).subscribe(\r\n        (res: any) => {\r\n          const initialState = {\r\n            isError: res.message.status === 'success' ? false : true,\r\n            message: res.message.content\r\n          };\r\n          this.modalService.show(CheckInvoiceNumberComponent, {\r\n            class: 'modal-md', initialState, backdrop: 'static',\r\n            keyboard: false\r\n          });\r\n        }, error => Library.notify(error, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n\r\n    }\r\n\r\n  }\r\n\r\n  clearDataFrm() {\r\n    this.myFile.nativeElement.value = '';\r\n    this.frmData = new Invoice('1');\r\n    this.emails = [];\r\n    this.onFieldDataChanged();\r\n    this.frmData.version_xml = \"1\";\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"list-header row\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <div id=\\\"tab-invoice\\\">\\r\\n      <dx-tabs [dataSource]=\\\"tabs\\\" [selectedIndex]=\\\"selectedIndex\\\" (onItemClick)=\\\"selectTab($event)\\\">\\r\\n      </dx-tabs>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hiển thị danh sách hộp thư đến -->\\r\\n<div *ngIf=\\\"isTabHopThuDen\\\">\\r\\n  <app-list-mail-received [isMailReceived]='isMailReceived' (currentMail)=\\\"getCurrentMail($event)\\\"\\r\\n    [isHasPackage]=\\\"isHasPackage\\\">\\r\\n  </app-list-mail-received>\\r\\n</div>\\r\\n<!-- Hiển thị danh sách hóa đơn đầu vào -->\\r\\n<div *ngIf=\\\"isTabHoaDonDauVao\\\">\\r\\n  <app-list-invoice [isHasPackage]=\\\"isHasPackage\\\">\\r\\n  </app-list-invoice>\\r\\n</div>\\r\\n<!-- Hiển thị danh sách tổng hóa đơn từ tct -->\\r\\n<div *ngIf=\\\"isTabHoaDonTCT\\\">\\r\\n  <app-list-invoice-tct (currentMail)=\\\"getCurrentMail($event)\\\">\\r\\n  </app-list-invoice-tct>\\r\\n</div>\\r\\n<!-- Hiển thị danh sách thư đã xóa -->\\r\\n<div *ngIf=\\\"isTabThuDaXoa\\\">\\r\\n  <app-list-mail-received [isMailReceived]='isMailReceived' (currentMail)=\\\"getCurrentMail($event)\\\">\\r\\n  </app-list-mail-received>\\r\\n</div>\"","module.exports = \"#tab-invoice{width:100%;border-bottom:1px solid #ddd}#tab-invoice .dx-tabs{width:56%;border-bottom:0}::ng-deep .dx-tab.dx-tab-selected{color:#2680eb !important}::ng-deep #tab-invoice .dx-tab{padding:4px}\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { VatService } from '@modules/vat/shared';\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { SocketService, sEnum } from '@core/index';\r\nimport { VSelectBoxService } from '@core/library/public/v-select-box.service';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.scss']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n  _language: string;\r\n  _translate: any;\r\n  tabs = [];\r\n  isTabHopThuDen = false;\r\n  isTabHoaDonDauVao = false;\r\n  isTabThuDaXoa = false;\r\n  isTabHoaDonTCT = false;\r\n  isMailReceived: any;\r\n  currentMailId: any;\r\n  isHasPackage = false;\r\n  configs: any;\r\n  selectedIndex: any;\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalDocumentCancel: BsModalRef,\r\n    public translate: TranslateService,\r\n    public invoiceBuyService: InvoiceBuyService,\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this._language);\r\n    this.configs = this.authService.getConfigs();\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.configs.system_parameter.is_use_mail_get_invoice || this.configs.system_parameter.is_use_mail_get_invoice == undefined) {\r\n      this.tabs = VSelectBoxService.tabsInvoiceBuyEmail(this._translate);\r\n      this.selectedIndex = this.tabs.length - 1\r\n    } else {\r\n      this.tabs = VSelectBoxService.tabsInvoiceBuyTCT(this._translate);\r\n      this.selectedIndex = this.tabs.length - 1\r\n    }\r\n    this.isTabHoaDonDauVao = true;\r\n    this.invoiceBuyService.getPackage().subscribe(res => {\r\n      if (res.data.meta.total > 0) {\r\n        this.isHasPackage = true;\r\n      } else {\r\n        this.isHasPackage = false;\r\n      }\r\n    })\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n  getCurrentMail(e) {\r\n    this.currentMailId = e\r\n  }\r\n  async selectTab(e) {\r\n    let isCheckInitFee = await this.authService.checkInitialFee(sEnum.initial_fee.hoadonmuavao);\r\n    if (!isCheckInitFee)\r\n      return;\r\n    const tab = e.itemData.code;\r\n    switch (tab) {\r\n      case 'HOP_THU_DEN':\r\n        this.isTabHopThuDen = true;\r\n        this.isTabHoaDonDauVao = false;\r\n        this.isTabThuDaXoa = false;\r\n        this.isTabHoaDonTCT = false;\r\n        this.isMailReceived = { listDelete: true, id: this.currentMailId };\r\n        break;\r\n      case 'HOA_DON_DAU_VAO':\r\n        this.isTabHopThuDen = false;\r\n        this.isTabHoaDonDauVao = true;\r\n        this.isTabThuDaXoa = false;\r\n        this.isTabHoaDonTCT = false;\r\n        break;\r\n      case 'THU_DA_XOA':\r\n        this.isTabHopThuDen = false;\r\n        this.isTabHoaDonDauVao = false;\r\n        this.isTabThuDaXoa = true;\r\n        this.isTabHoaDonTCT = false;\r\n        this.isMailReceived = { listDelete: false, id: this.currentMailId };\r\n        break;\r\n      case 'HOA_DON_DAU_VAO_TCT':\r\n        this.isTabHopThuDen = false;\r\n        this.isTabHoaDonDauVao = false;\r\n        this.isTabThuDaXoa = false;\r\n        this.isTabHoaDonTCT = true;\r\n        this.isMailReceived = { listDelete: false, id: this.currentMailId };\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<form>\\r\\n  <div class=\\\"invoice-container\\\">\\r\\n    <app-form-header-invoice [dataSource]=\\\"dataSource\\\" [invoice_products]=\\\"invoice_products\\\" [formatter]=\\\"formatter\\\"\\r\\n                             [frmData]=\\\"frmData\\\" [_objTemplateSelect]=\\\"_objTemplateSelect\\\"\\r\\n                             [extentionGrid]=\\\"extentionGrid\\\"\\r\\n                             (onFormChange)=\\\"getDataInChildForm($event)\\\"\\r\\n                             (onTemplateChange)=\\\"onTemplateChange($event)\\\"\\r\\n                             (onTemplateTypeChange)=\\\"onTemplateTypeChange($event)\\\">\\r\\n    </app-form-header-invoice>\\r\\n    <app-product-grip #child [dataSource]=\\\"dataSource\\\" [invoice_products]=\\\"invoice_products\\\"\\r\\n                      [formDataInInvoice]=\\\"frmData\\\" [formatter]=\\\"formatter\\\" [isHdGTGT]=\\\"isHdGTGT\\\"\\r\\n                      [_objTemplateSelect]=\\\"_objTemplateSelect\\\" [extentionGrid]=\\\"extentionGrid\\\">\\r\\n    </app-product-grip>\\r\\n\\r\\n    <div class=\\\"table-footer\\\">\\r\\n      <div class=\\\"table-footer-1\\\">\\r\\n        <div class=\\\"vat amount-table-footer\\\">\\r\\n          <dx-number-box [value]=\\\"frmData.total_payment\\\" step=\\\"0\\\" [format]=\\\"formatter.tong_tien\\\" [disabled]=\\\"true\\\">\\r\\n          </dx-number-box>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"table-footer-2\\\">\\r\\n        <div class=\\\"vat amount-vat-table-footer\\\">\\r\\n          <dx-number-box [value]=\\\"frmData.total_amount_vat\\\" step=\\\"0\\\" [format]=\\\"formatter.tien_thue\\\" [disabled]=\\\"true\\\">\\r\\n          </dx-number-box>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"table-footer-3\\\">\\r\\n        <div class=\\\"vat amount-after-vat-table-footer\\\">\\r\\n          <dx-number-box [value]=\\\"frmData.amount\\\" step=\\\"0\\\" [format]=\\\"formatter.thanh_tien\\\" [disabled]=\\\"true\\\">\\r\\n          </dx-number-box>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row after-table\\\">\\r\\n      <div class=\\\"col-md-4\\\">\\r\\n        <app-file-upload-invoice-buy [frmData]=\\\"frmData\\\" [fileData]=\\\"fileData\\\" [invoiceExp] = \\\"invoiceExp\\\"\\r\\n                                     (fileChange)=\\\"getFileData($event)\\\"></app-file-upload-invoice-buy>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-4\\\">\\r\\n        <div class=\\\"dx-field\\\">\\r\\n          <div class=\\\"dx-field-label\\\">Link tra cứu hóa đơn</div>\\r\\n          <div class=\\\"dx-field-value\\\">\\r\\n            <dx-text-box [(value)]=\\\"frmData.lookup_link\\\" [readOnly]=\\\"isReadOnly\\\"></dx-text-box>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"dx-field\\\">\\r\\n          <div class=\\\"dx-field-label\\\">Mã tra cứu</div>\\r\\n          <div class=\\\"dx-field-value\\\">\\r\\n            <dx-text-box [(value)]=\\\"frmData.lookup_code\\\" [readOnly]=\\\"isReadOnly\\\"></dx-text-box>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"dx-field\\\">\\r\\n          <div class=\\\"dx-field-label\\\">Mã cơ quan thuế</div>\\r\\n          <div class=\\\"dx-field-value\\\">\\r\\n            <dx-text-box [(value)]=\\\"frmData.tax_authority_code\\\"></dx-text-box>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"dx-field loai-hoa-don\\\">\\r\\n          <div class=\\\"dx-field-label\\\">Loại hóa đơn</div>\\r\\n          <div class=\\\"dx-field-value\\\">\\r\\n            <dx-select-box class=\\\"sl-hoa-don\\\"\\r\\n               [dataSource]=\\\"typeInvoices\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" [(value)]=\\\"frmData.xml_type\\\" (onItemClick)=\\\"changedTypeInvoice($event)\\\">\\r\\n               <div *dxTemplate=\\\"let data of 'item'\\\">\\r\\n                <div style=\\\"padding-bottom: 17px;\\\">{{data.name}}</div>\\r\\n            </div>\\r\\n            </dx-select-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-4\\\">\\r\\n        <div class=\\\"vat money-pull-right\\\">\\r\\n          <div class=\\\"dx-field\\\">\\r\\n            <div class=\\\"dx-field-label\\\">{{ _translate.CONTROLL.LABEL.total_amount_discount}}</div>\\r\\n            <div class=\\\"dx-field-value\\\">\\r\\n              <dx-number-box [(value)]=\\\"frmData.amount_discount\\\"\\r\\n                             tabIndex=\\\"-1\\\"\\r\\n                             step=\\\"0\\\"\\r\\n                             [format]=\\\"formatter.tien_chiet_khau\\\"\\r\\n                             (onValueChanged)=\\\"onNumberChange()\\\">\\r\\n              </dx-number-box>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"dx-field\\\">\\r\\n            <div class=\\\"dx-field-label\\\">{{ _translate.CONTROLL.LABEL.amount}}</div>\\r\\n            <div class=\\\"dx-field-value\\\">\\r\\n              <dx-number-box [(value)]=\\\"frmData.amount\\\" tabIndex=\\\"-1\\\"\\r\\n                             [format]=\\\"formatter.thanh_tien\\\"\\r\\n                             step=\\\"0\\\"\\r\\n                             (onValueChanged)=\\\"onNumberChange()\\\">\\r\\n              </dx-number-box>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"dx-field\\\">\\r\\n            <div class=\\\"dx-field-label\\\">{{ _translate.CONTROLL.LABEL.total_amount_vat}}</div>\\r\\n            <div class=\\\"dx-field-value\\\">\\r\\n              <dx-number-box [(value)]=\\\"frmData.total_amount_vat\\\"\\r\\n                             tabIndex=\\\"-1\\\"\\r\\n                             [format]=\\\"formatter.tien_thue\\\"\\r\\n                             step=\\\"0\\\"\\r\\n                             (onKeyDown)=\\\"keyDown($event)\\\"\\r\\n                             (onValueChanged)=\\\"totalPaymentChange($event)\\\">\\r\\n              </dx-number-box>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"dx-field\\\">\\r\\n            <div class=\\\"dx-field-label\\\">{{ _translate.CONTROLL.LABEL.amount_after_vat}}</div>\\r\\n            <div class=\\\"dx-field-value\\\">\\r\\n              <dx-number-box\\r\\n                [(value)]=\\\"frmData.total_payment\\\"\\r\\n                tabIndex=\\\"-1\\\" [format]=\\\"formatter.tong_tien\\\"\\r\\n                step=\\\"0\\\"\\r\\n                (onKeyDown)=\\\"keyDown($event)\\\"\\r\\n                (onValueChanged)=\\\"totalPaymentChange($event)\\\">\\r\\n              </dx-number-box>\\r\\n              <!--            [disabled]=\\\"!!this.frmData.invoice_type_name\\\"-->\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-12 so-tien-chu\\\">\\r\\n        <div class=\\\"vat total-payment-in-word\\\">\\r\\n          <div class=\\\"dx-field\\\">\\r\\n            <div class=\\\"dx-field-label\\\">{{ _translate.CONTROLL.LABEL.total_payment_in_word}}</div>\\r\\n            <div class=\\\"dx-field-value\\\">\\r\\n              <dx-text-box [(value)]=\\\"frmData.total_payment_in_word\\\"></dx-text-box>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-5 khung-vien\\\">\\r\\n        <div class=\\\"tieu-de\\\">\\r\\n         <span>Kiểm tra Thông tin người bán </span> \\r\\n         <img class =\\\"refresh\\\" src=\\\"assets/img/icons/Refresh-02.png\\\" alt=\\\"refresh\\\" (click)=\\\"onClickBenBan()\\\">\\r\\n        </div>\\r\\n        <div [innerHTML]=\\\"noiDungNguoiBan\\\">\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-1\\\">\\r\\n      </div>\\r\\n      <div class=\\\"col-md-5 khung-vien\\\">\\r\\n        <div class=\\\"tieu-de\\\">\\r\\n          <span>Kiểm tra file hóa đơn (Đáp ứng với hóa đơn điện tử) </span> \\r\\n          <img class =\\\"refresh\\\" src=\\\"assets/img/icons/Refresh-02.png\\\" alt=\\\"refresh\\\" (click)=\\\"onClickChungThuSo()\\\">\\r\\n        </div>\\r\\n        <div [innerHTML]=\\\"noiDungFileHoaDon\\\">\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row button-action\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"pull-left\\\">\\r\\n        </div>\\r\\n        <div class=\\\"pull-right\\\">\\r\\n          <dx-button *ngIf=\\\"isView\\\" [icon]=\\\"this._translate.ICONS.save\\\" (onClick)=\\\"eSubmit($event)\\\"\\r\\n                     text=\\\"{{ 'CONTROLL.BUTTON.save' | translate }}\\\" type=\\\"default\\\"\\r\\n                     validationGroup=\\\"listData\\\" [useSubmitBehavior]=\\\"true\\\">\\r\\n          </dx-button>\\r\\n          <dx-button appBackButton type=\\\"default\\\" [(icon)]=\\\"this._translate.ICONS.come_back\\\"\\r\\n                     text=\\\"{{ _translate.CONTROLL.BUTTON.close}}\\\"></dx-button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \".invoice-container{padding-top:15px}.after-table{margin-top:10px}::ng-deep .vat.total-payment-in-word{margin-top:15px}::ng-deep .vat.total-payment-in-word input{color:#000000;font-weight:bold;text-align:right}.vat.total-payment-in-word .dx-field-label{width:12%}.vat.total-payment-in-word .dx-field-value{width:88% !important}::ng-deep .vat.money-pull-right input{text-align:right}::ng-deep .pr-0.money-pull-right input{text-align:right}::ng-deep .prt-1.money-pull-right input{text-align:right}.vat.money-pull-right .dx-field-label{width:45%}.vat.money-pull-right .dx-field-value{width:55% !important}::ng-deep .vat.amount-table-footer input,::ng-deep .vat.amount-vat-table-footer input,::ng-deep .vat.amount-after-vat-table-footer input{font-weight:bold;text-align:right;color:#0034F5}.button-action{margin-top:18px}.table-footer{height:40px;background:#E3E3E3;padding-top:3px}.table-footer .table-footer-1{display:inline-block;width:109px;float:right}.table-footer .table-footer-2{display:inline-block;width:120px;margin-right:32px;float:right}.table-footer .table-footer-3{display:inline-block;width:150px;margin-right:90px;float:right}.table-footer .table-footer-4{display:inline-block;width:109px;margin-right:190px;float:right}::ng-deep .loai-hoa-don .dx-field-value.dx-widget,.dx-field-value:not(.dx-widget)>.dx-widget{height:30px}.pr-0.dx-selectbox .dx-texteditor-input:-moz-read-only{padding-bottom:17px}.pr-0.dx-selectbox .dx-texteditor-input:read-only{padding-bottom:17px}.sl-hoa-don{height:28px}.khung-vien{border-width:1px;border-color:#2f2d7e;border-style:solid;margin-top:20px}.refresh{cursor:pointer}.tieu-de{margin-top:10px;margin-bottom:10px;font-weight:bold;color:#324878}.so-tien-chu{margin-top:5px}.font-error{color:red;margin-bottom:8px}.linkTaiDay{color:#0E76BC !important;cursor:pointer;font-weight:600}.font-success{color:#2ebd1d;margin-bottom:8px}.chi-tiet{font-weight:bold}\\n\"","import { AfterViewInit, ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { VatService } from '@modules/vat/shared';\r\nimport { BsModalService } from 'ngx-bootstrap';\r\nimport ArrayStore from 'devextreme/data/array_store';\r\nimport DataSource from 'devextreme/data/data_source';\r\nimport { Helper } from '@core/helper/Helper';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AuthService, SocketService } from '@core/services';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CustomersService } from '@modules/customers/shared';\r\nimport { VChanggeMoneyService } from '@core/library/invoice/v-changge-money.service';\r\nimport { Invoice } from '@modules/invoice-buy/shared/class/invoice.model';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { Library } from '@core/library';\r\nimport { FormHeaderInvoiceComponent } from '@modules/invoice-buy/component/form-header-invoice/form-header-invoice.component';\r\nimport { ProductGripComponent } from '@modules/invoice-buy/component/product-grip/product-grip.component';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { VStringService, sEnum } from '@core/index';\r\nimport { VSelectBoxService } from '@core/library/public/v-select-box.service';\r\n\r\n@Component({\r\n  selector: 'app-invoice',\r\n  templateUrl: './invoice.component.html',\r\n  styleUrls: ['./invoice.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class InvoiceComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @ViewChild(ProductGripComponent) productGrip: ProductGripComponent;\r\n  @ViewChild(FormHeaderInvoiceComponent) formInvoice: FormHeaderInvoiceComponent;\r\n  frmData: Invoice = new Invoice('1');\r\n  frmTraLai = {\r\n    reason: ''\r\n  };\r\n  is_multi_vat: any;\r\n  isHdGTGT = true;\r\n  invoice_products: ArrayStore;\r\n  dataSource: DataSource;\r\n  formatter: any = {};\r\n  extentionGrid: any = {};\r\n  idInvoice: string = null;\r\n  _objTemplateSelect: any = {};\r\n  _translate: any;\r\n  system_parameter: any = {};\r\n  fileData: Array<any> = [];\r\n  ttDaXuatHoaDon = false; // Trạng thái đã xuất hóa đơn hay chưa\r\n  isAccessExportInv = false;\r\n  isView = true;\r\n  _isValid = false;\r\n  configs: any;\r\n  invoiceExp = \"MO_RONG_FILE\";\r\n  ioSignature: Subscription;\r\n  noiDungNguoiBan: any;\r\n  noiDungFileHoaDon: any;\r\n  typeInvoices = [];\r\n  isReadOnly = false;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private modalService: BsModalService,\r\n    private vatService: VatService,\r\n    private socketService: SocketService,\r\n    private authService: AuthService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public translate: TranslateService,\r\n    private customersService: CustomersService,\r\n    private invoiceBuyService: InvoiceBuyService\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  getFileData(fileData) {\r\n    this.fileData = fileData;\r\n  }\r\n\r\n  ngOnInit() {\r\n    let dataValue = this.frmData;\r\n    if (this.route.snapshot.routeConfig.path === 'view-invoice/:id') {\r\n      this.isView = false;\r\n    }\r\n    this.configs = this.authService.getConfigs();\r\n    this.typeInvoices = VSelectBoxService.loaiHD();\r\n    this.connectWebsocket();\r\n    this.route.data\r\n      .map(value => value.FormResolverService)\r\n      .subscribe((data: any) => {\r\n        this.setConfig(data[1]);\r\n        if (data.length > 3) {\r\n          this.idInvoice = this.route.snapshot.params['id'];\r\n          dataValue = data[3].input_invoice;\r\n          dataValue.input_invoice_products = data[3].input_invoice.input_invoice_products;\r\n          dataValue.input_invoice_files = data[3].input_invoice.input_invoice_files;\r\n          this.fileData = data[3].input_invoice.input_invoice_files;\r\n          this.frmData = dataValue;\r\n          if (VStringService._attemptConvertBool(this.frmData.export_from_ihd)) {\r\n            this.isReadOnly = true;\r\n            this.frmData.lookup_link = \"https://ihoadon.vn/kiem-tra/\";\r\n          }\r\n          if (dataValue.decimal_places_json)\r\n            this.formatter = VChanggeMoneyService.getFormatterColumnInv(JSON.parse(dataValue.decimal_places_json));\r\n          this.createValueDataSource(dataValue.input_invoice_products);\r\n          if (VStringService._getValueToString(this.frmData.version_xml) == \"1\") {\r\n            if (VStringService._attemptConvertBool(this.frmData.is_import_from_zip)) {\r\n              this.thongtinBenBan(false);\r\n              this.verifySignature();\r\n            }\r\n            else {\r\n              this.viewThongTinBenBan(this.frmData.json_data);\r\n              this.fillDataToForm(this.frmData.json_data);\r\n            }\r\n          }\r\n          else {\r\n            this.thongtinBenBan(false);\r\n            this.verifySignature();\r\n          }\r\n        } else {\r\n          this.khoiTaoKhiThemMoi();\r\n        }\r\n      });\r\n  }\r\n\r\n  createValueDataSource(value) {\r\n    this.invoice_products = new ArrayStore({\r\n      key: 'id',\r\n      data: this.createDataSource(value)\r\n    });\r\n    this.dataSource = new DataSource({\r\n      store: this.invoice_products\r\n    });\r\n  }\r\n\r\n  createDataSource(value) {\r\n    const arr = [];\r\n    value.forEach(item => {\r\n      arr.push({\r\n        id: Helper.makeid(),\r\n        order: parseInt(item.order, 10),\r\n        product_code: item.product_code,\r\n        product_name: item.product_name,\r\n        unit_code: item.unit_code,\r\n        unit_name: item.unit_name,\r\n        quantity: item.quantity,\r\n        price: item.price,\r\n        vat: item.vat,\r\n        amount_vat: item.amount_vat,\r\n        amount: item.amount,\r\n        product_group: item.product_group,\r\n        amount_after_vat: item.amount_after_vat\r\n      });\r\n    });\r\n    let order1 = arr.length;\r\n    for (let i = 0; i < 2; i++) {\r\n      arr.push({\r\n        id: Helper.makeid(),\r\n        order: order1 + 1,\r\n        product_code: '',\r\n        product_name: '',\r\n        unit_code: null,\r\n        unit_name: '',\r\n        quantity: null,\r\n        price: null,\r\n        vat: null,\r\n        amount_vat: null,\r\n        amount: null,\r\n        product_group: null,\r\n        amount_after_vat: null\r\n      });\r\n      order1++;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  khoiTaoKhiThemMoi() {\r\n    // khởi tạo mới lưới\r\n    this.invoice_products = new ArrayStore({\r\n      key: 'id',\r\n      data: this.add_invoice_products_data()\r\n    });\r\n    this.dataSource = new DataSource({\r\n      store: this.invoice_products\r\n    });\r\n    this.frmData.version_xml = \"1\";\r\n  }\r\n\r\n  add_invoice_products_data() {\r\n    const arr = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      arr.push({\r\n        id: Helper.makeid(),\r\n        order: i + 1,\r\n        product_code: '',\r\n        product_name: '',\r\n        unit_code: null,\r\n        unit_name: '',\r\n        quantity: null,\r\n        price: null,\r\n        vat: null,\r\n        amount_vat: null,\r\n        amount: null,\r\n        product_group: null,\r\n        amount_after_vat: null\r\n      });\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  setConfig(value) {\r\n    value.configs.forEach(item => {\r\n      if (item.name === 'decimal_places_json') {\r\n        this.formatter = VChanggeMoneyService.getFormatterColumnInv(JSON.parse(item.value));\r\n      }\r\n    });\r\n    const obj1 = value.configs.filter(p => p.name === 'system_parameter')[0];\r\n    if (obj1) {\r\n      this.formatter.display_int = this.system_parameter.display_int;\r\n    }\r\n  }\r\n\r\n  onNumberChange() {\r\n    VChanggeMoneyService._changeMoney(this.frmData);\r\n  }\r\n\r\n  // // sự kiện form\r\n  totalPaymentChange = (e) => {\r\n    this.onNumberChange();\r\n    let currency_code = this.frmData.currency_code;\r\n    if (this.system_parameter.view_price_nte) {\r\n      currency_code = 'VND';\r\n    }\r\n    //  this.frmData.total_payment_in_word = Helper.tienBangChu(e.value, VChanggeMoneyService.getFormatterToNumber(this.formatter.tong_tien), currency_code, this.configs.system_parameter.display_read_money_english);\r\n  };\r\n\r\n  getDataInChildForm(e) {\r\n    this.frmData = e;\r\n    this.frmTraLai.reason = e.lido;\r\n    this.invoice_products = new ArrayStore({\r\n      key: 'id',\r\n      data: this.createDataSource(this.frmData.input_invoice_products)\r\n    });\r\n    this.dataSource = new DataSource({\r\n      store: this.invoice_products\r\n    });\r\n    this.fileData = this.frmData.input_invoice_files;\r\n    if (this.frmData.version_xml == '1') {\r\n      this.thongtinBenBan(false);\r\n      this.verifySignature();\r\n    }\r\n    else {\r\n      this.noiDungFileHoaDon = \"\";\r\n      this.noiDungNguoiBan = \"\";\r\n    }\r\n  }\r\n\r\n  onTemplateChange(e) {\r\n    this.is_multi_vat = e;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.ioSignature.unsubscribe();\r\n    // this.ioSignature.unsubscribe();\r\n    // this.routeSub.unsubscribe();\r\n    // this.socketService.close();\r\n  }\r\n\r\n  // canDeactivate(): Observable<boolean> | Promise<boolean> | boolean {\r\n  //   if (!this.checkDataFormChange(this.valueChange, this.frmData)) {\r\n  //     if (confirm(this._translate.CONFIRM.waring_save_data)) {\r\n  //       return this.subData('GHI_TAM', this.frmData).then(value => value);\r\n  //     }\r\n  //     return true;\r\n  //   }\r\n  //   return true;\r\n  // }\r\n\r\n  _validForm() {\r\n    const _lst = this.dataSource.items().filter(p => p.product_name);\r\n    if (_lst.length > 0) {\r\n      const sttItem = _lst.filter((item) => {\r\n        if (!item.product_group) {\r\n          return item;\r\n        }\r\n      });\r\n      if (sttItem.length > 0) {\r\n        Library.notify(this._translate.NOTIFY.no_product, 'error');\r\n        this.productGrip.dataGrid.instance.focus(this.productGrip.dataGrid.instance.getCellElement(_lst.indexOf(sttItem[0]), 'product_group'));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  eSubmit(e) {\r\n    const checkValid = this.formInvoice.form.instance.validate();\r\n    if (!checkValid.isValid) {\r\n      return;\r\n    }\r\n    if (!this._validForm()) {\r\n      return;\r\n    }\r\n    const valueDataSource = this.dataSource.items().filter((item) => {\r\n      if (item.product_name && item.product_group) {\r\n        return item;\r\n      }\r\n    });\r\n    if (this.formatter)\r\n      this.frmData.decimal_places_json = JSON.stringify(VChanggeMoneyService.getObjFormatterToColumn(this.formatter));\r\n    this.frmData.is_import_from_zip = false;\r\n    const dataForm = {\r\n      input_invoice: this.frmData,\r\n      input_invoice_products: valueDataSource,\r\n      input_invoice_files: this.fileData,\r\n    };\r\n    for (const [key] of Object.entries(dataForm.input_invoice)) {\r\n      if (key === 'id') {\r\n        delete dataForm.input_invoice[key];\r\n      }\r\n      if (key === 'input_invoice_products') {\r\n        delete dataForm.input_invoice[key];\r\n      }\r\n      if (key === 'input_invoice_files') {\r\n        delete dataForm.input_invoice[key];\r\n      }\r\n    }\r\n    dataForm.input_invoice_products.forEach(value => {\r\n      for (const [key] of Object.entries(value)) {\r\n        if (key === 'id') {\r\n          delete value[key];\r\n        }\r\n      }\r\n    });\r\n    Library.showloading();\r\n    if (this.idInvoice !== null) {\r\n      this.invoiceBuyService.apiUpdateInvoice(this.idInvoice, dataForm).subscribe(\r\n        value1 => {\r\n          if (value1.status === 'success') {\r\n            Library.notify(this._translate.NOTIFY.update_success, 'success');\r\n          } else {\r\n            Library.notify(value1.message, 'error');\r\n          }\r\n        },\r\n        valueError => Library.notify(valueError, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n    } else {\r\n      this.invoiceBuyService.apiInvoice(dataForm).subscribe(\r\n        value1 => {\r\n          if (value1.status === 'success') {\r\n            if (value1.data && value1.data.result)\r\n              this.idInvoice = value1.data.result.id;\r\n            Library.notify(this._translate.NOTIFY.update_success, 'success');\r\n          } else {\r\n            Library.notify(value1.message, 'error');\r\n          }\r\n        }, valueError => Library.notify(valueError, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n    }\r\n  }\r\n\r\n  onTemplateTypeChange(e) {\r\n    // this.invoicereleaseTempt = e;\r\n  }\r\n\r\n  keyDown(e: any) {\r\n    if (e.event.key === 'Delete') {\r\n      e.event.srcElement.value = null;\r\n    }\r\n  }\r\n  verifySignature() {\r\n    let fileContent = \"\";\r\n    if (VStringService._getValueToString(this.frmData.version_xml) == \"1\") {\r\n      let oFile = this.fileData.filter(p => VStringService._attemptConvertBool(p.is_file_import))[0];\r\n      if (oFile)\r\n        fileContent = oFile.file_content;\r\n    }\r\n    else {\r\n      if (!this.frmData.json_data) {\r\n        this.frmData.json_data =\r\n        {\r\n          statusCert: null,\r\n          signDateCompareCert: null,\r\n          signDateCompareInv: null,\r\n          statusFileXml: null,\r\n          capBoi: null,\r\n          kyBoi: null,\r\n          thoiHanChungThu: null,\r\n          thoiGianKyHoaDon: null,\r\n          tax_code: null,\r\n          name: null,\r\n          business_address: null,\r\n          status: null,\r\n          mstNB: null\r\n        }\r\n      }\r\n      // 1. Hóa đơn tự động đọc từ efy\r\n      if (VStringService._attemptConvertBool(this.frmData.export_from_ihd)) {\r\n        if (this.frmData.xml_string)\r\n          fileContent = this.frmData.xml_string;\r\n      }\r\n      // 2. Hóa đơn trước tct\r\n      else if (VStringService._attemptConvertBool(this.frmData.export_from_tct)) {\r\n        if (this.frmData.xml_string) {\r\n          fileContent = this.frmData.xml_string;\r\n        }\r\n      }\r\n      // 3. Hóa đơn trước nâng cấp\r\n      else {\r\n        let oFile = this.fileData.filter(p => VStringService._getValueToString(p.file_name) != \"\" && p.file_name == this.frmData.invoice_type_name)[0];\r\n        if (oFile)\r\n          fileContent = oFile.file_content;\r\n      }\r\n    }\r\n    this.socketService.kiemtraCKS(() => this.connectWebsocket(), fileContent, this.frmData.signature_content, this.frmData.sign_date, this.frmData.invoice_date, this.frmData.seller_legal_name);\r\n  }\r\n  /* Kết nối đến socket */\r\n  connectWebsocket() {\r\n    this.ioSignature = this.socketService.lapHoaDon().subscribe(message => {\r\n      const data: any = message;\r\n      if (data.SvcName === 'efy_verifySignature') {\r\n        if (data.Status == \"success\") {\r\n          this.frmData.json_data.statusCert = data.Data.statusCert;\r\n          this.frmData.json_data.signDateCompareCert = data.Data.signDateCompareCert;\r\n          this.frmData.json_data.signDateCompareInv = data.Data.signDateCompareInv;\r\n          this.frmData.json_data.statusFileXml = data.Data.statusFileXml;\r\n          this.frmData.json_data.capBoi = data.Data.capBoi;\r\n          this.frmData.json_data.kyBoi = data.Data.kyBoi;\r\n          this.frmData.json_data.thoiHanChungThu = data.Data.thoiHanChungThu;\r\n          this.frmData.json_data.thoiGianKyHoaDon = data.Data.thoiGianKyHoaDon;\r\n          this.frmData.signature_content = data.Data.SignatureSeller;\r\n          this.fillDataToForm(data.Data);\r\n        }\r\n        else if (data.Status == \"error\") {\r\n          Library.notify(data.Description, 'error');\r\n        }\r\n      }\r\n    });\r\n  }\r\n  fillDataToForm(data) {\r\n    let CTS_HopLe = \"\";\r\n    let CTS_KhongHopLe = \"\";\r\n    let NgayKyCTS_HopLe = \"\";\r\n    let NgayKyCTS_KhongHopLe = \"\";\r\n    let NgayKyNgayHoaDon_HopLe = \"\";\r\n    let NgayKyNgayHoaDon_KhongHopLe = \"\";\r\n    let KhongTonTaiNgayKy = \"\";\r\n    let FileXML_HopLe = \"\";\r\n    let FileXML_KhongHopLe = \"\";\r\n    let TieuDeChiTiet = \"\";\r\n    let CapBoi = \"\";\r\n    let KyBoi = \"\";\r\n    let thoiHanChungThu = \"\";\r\n    let thoiGianKyHoaDon = \"\";\r\n    /* Chữ ký số */\r\n    if (VStringService._getValueToString(data.statusCert) == sEnum.notify.HopLe)\r\n      CTS_HopLe = \"<div class=\\\"font-success\\\"><span>Chứng thư số hợp lệ</span></div>\";\r\n    else if (VStringService._getValueToString(data.statusCert) == sEnum.notify.KhongHopLe)\r\n      CTS_KhongHopLe = \"<div class=\\\"font-error\\\"><span>Chứng thư số không hợp lệ</span></div>\";\r\n    /* Kiểm tra Ngày ký có tồn tại k? */\r\n    if (VStringService._getValueToString(data.signDateCompareCert) == sEnum.notify.KhongTonTai) {\r\n      KhongTonTaiNgayKy = \"<div class=\\\"font-error\\\"><span>Không kiểm tra được thông tin ngày ký</span></div>\";\r\n    }\r\n    else {\r\n      /* Ngày ký nằm trong thời hạn hiệu lực của chứng thư số */\r\n      if (VStringService._getValueToString(data.signDateCompareCert) == sEnum.notify.HopLe)\r\n        NgayKyCTS_HopLe = \"<div class=\\\"font-success\\\"><span>Ngày ký nằm trong thời hạn hiệu lực của chứng thư số</span></div>\";\r\n      else if (VStringService._getValueToString(data.signDateCompareCert) == sEnum.notify.KhongHopLe)\r\n        NgayKyCTS_KhongHopLe = \"<div class=\\\"font-error\\\"><span>Ngày ký không nằm trong thời hạn hiệu lực của chứng thư số</span></div>\";\r\n      /* Ngày ký trùng với ngày hóa đơn  */\r\n      if (VStringService._getValueToString(data.signDateCompareInv) == sEnum.notify.HopLe)\r\n        NgayKyNgayHoaDon_HopLe = \"<div class=\\\"font-success\\\"><span>Ngày ký trùng với ngày hóa đơn</span></div>\";\r\n      else if (VStringService._getValueToString(data.signDateCompareInv) == sEnum.notify.KhongHopLe)\r\n        NgayKyNgayHoaDon_KhongHopLe = \"<div class=\\\"font-error\\\"><span>Ngày ký không trùng với ngày hóa đơn </span></div>\";\r\n    }\r\n    /* File Xml */\r\n    if (VStringService._getValueToString(data.statusFileXml) == sEnum.notify.HopLe)\r\n      FileXML_HopLe = \"<div class=\\\"font-success\\\"><span>File XML hóa đơn còn nguyên vẹn</span></div>\";\r\n    else if (VStringService._getValueToString(data.statusFileXml) == sEnum.notify.KhongHopLe)\r\n      FileXML_KhongHopLe = \"<div class=\\\"font-error\\\"><span>File XML hóa đơn đã bị chỉnh sửa sau khi ký</span></div>\";\r\n    if (data.kyBoi)\r\n      TieuDeChiTiet = \"<div class=\\\"font-success chi-tiet\\\"><span>Thông tin chi tiết:</span></div>\";\r\n    if (data.capBoi)\r\n      CapBoi = \"<div class=\\\"font-success\\\"><span>CTS cấp bởi: </span><span>\" + data.capBoi + \"</span></div>\";\r\n    if (data.kyBoi)\r\n      KyBoi = \"<div class=\\\"font-success\\\"><span>Ký bởi: </span><span>\" + data.kyBoi + \"</span></div>\";\r\n    if (data.thoiHanChungThu)\r\n      thoiHanChungThu = \"<div class=\\\"font-success\\\"><span>Thời hạn CTS: </span><span>\" + data.thoiHanChungThu + \"</span></div>\";\r\n    if (data.thoiGianKyHoaDon)\r\n      thoiGianKyHoaDon = \"<div class=\\\"font-success\\\"><span>Thời gian ký hóa đơn: </span><span>\" + data.thoiGianKyHoaDon + \"</span></div>\";\r\n\r\n    this.noiDungFileHoaDon = CTS_HopLe + CTS_KhongHopLe + NgayKyCTS_HopLe + NgayKyCTS_KhongHopLe + NgayKyNgayHoaDon_HopLe + NgayKyNgayHoaDon_KhongHopLe +\r\n      KhongTonTaiNgayKy + FileXML_HopLe + FileXML_KhongHopLe + TieuDeChiTiet + CapBoi + KyBoi + thoiHanChungThu + thoiGianKyHoaDon;\r\n  }\r\n  thongtinBenBan(isClickButton) {\r\n    this.noiDungNguoiBan = \"\";\r\n\r\n    if (VStringService._getValueToString(this.frmData.seller_tax_code) != \"\") {\r\n      if (isClickButton)\r\n        Library.showloading();\r\n      //  this.customersService.getInfoCompany(\"0102519041\").subscribe(\r\n      this.customersService.getInfoCompany(this.frmData.seller_tax_code).subscribe(\r\n        (res: any) => {\r\n          let isErr = false;\r\n          if (res.status === 'success') {\r\n            if (res.data && res.data.customer) {\r\n              if (res.data.customer.name) {\r\n                let trangthaihoatdong = \"\";\r\n                switch (res.data.customer.status) {\r\n                  case \"00\":\r\n                    trangthaihoatdong = \"NNT đang hoạt động\";\r\n                    break;\r\n                  case \"01\":\r\n                    trangthaihoatdong = \"NNT ngừng hoạt động và đã hoàn thành thủ tục chấm dứt hiệu lực MST\";\r\n                    break;\r\n                  case \"02\":\r\n                    trangthaihoatdong = \"NNT đã chuyển cơ quan thuế quản lý\";\r\n                    break;\r\n                  case \"03\":\r\n                    trangthaihoatdong = \"NNT ngừng HĐ nhưng chưa hoàn thành thủ tục chấm dứt hiệu lực MST\";\r\n                    break;\r\n                  case \"04\":\r\n                    trangthaihoatdong = \"NNT đang hoạt động (chưa đầy đủ thủ tục cấp MST)\";\r\n                    break;\r\n                  case \"05\":\r\n                    trangthaihoatdong = \"NNT tạm ngừng KD có thời hạn\";\r\n                    break;\r\n                  case \"06\":\r\n                    trangthaihoatdong = \"NNT không hoạt động tại địa chỉ đã đăng ký\";\r\n                    break;\r\n                }\r\n                res.data.customer.status = trangthaihoatdong;\r\n                this.frmData.json_data.tax_code = res.data.customer.tax_code;\r\n                this.frmData.json_data.name = res.data.customer.name;\r\n                this.frmData.json_data.business_address = res.data.customer.business_address;\r\n                this.frmData.json_data.status = trangthaihoatdong;\r\n                this.frmData.json_data.mstNB = \"success\";\r\n                this.viewThongTinBenBan(res.data.customer)\r\n              }\r\n              else\r\n                isErr = true;\r\n            }\r\n            else\r\n              isErr = true;\r\n          } else\r\n            isErr = true;\r\n          if (isErr) {\r\n            this.frmData.json_data.mstNB = \"error\";\r\n            let line1 = \"<div><p><span class=\\\"font-error\\\">Hệ thống không tìm thấy dữ liệu. Kiểm tra lại </span><a target=\\\"_blank\\\" class=\\\"linkTaiDay\\\" href=\\\"http://tracuunnt.gdt.gov.vn/tcnnt/mstdn.jsp\\\">Tại đây</a></p></div>\";\r\n            this.noiDungNguoiBan = line1;\r\n          }\r\n          if (isClickButton)\r\n            Library.hideloading();\r\n        },\r\n        error => {\r\n          this.frmData.json_data.mstNB = \"error\";\r\n          let line1 = \"<div><p><span class=\\\"font-error\\\">Hệ thống không tìm thấy dữ liệu. Kiểm tra lại </span><a target=\\\"_blank\\\" class=\\\"linkTaiDay\\\" href=\\\"http://tracuunnt.gdt.gov.vn/tcnnt/mstdn.jsp\\\">Tại đây</a></p></div>\";\r\n          this.noiDungNguoiBan = line1;\r\n          if (isClickButton)\r\n            Library.hideloading();\r\n        }\r\n      );\r\n    }\r\n    else {\r\n      let line1 = \"<div class=\\\"font-error\\\"><p>Mã số thuế không được để trống</p></div>\";\r\n      this.noiDungNguoiBan = line1;\r\n    }\r\n  }\r\n  viewThongTinBenBan(data) {\r\n    let mst = \"\";\r\n    let tendonvi = \"\";\r\n    let diachi = \"\";\r\n    let trangthai = \"\";\r\n    let khongtimthayNB = \"\";\r\n    if (data.tax_code)\r\n      mst = \"<div class=\\\"font-success\\\"><span>Mã số thuế: </span><span>\" + data.tax_code + \"</span></div>\";\r\n    if (data.name)\r\n      tendonvi = \"<div class=\\\"font-success\\\"><span>Tên đơn vị: </span><span>\" + data.name + \"</span></div>\";\r\n    if (data.business_address)\r\n      diachi = \"<div class=\\\"font-success\\\"><span>Địa chỉ: </span><span>\" + data.business_address + \"</span></div>\";\r\n    if (data.status)\r\n      trangthai = \"<div class=\\\"font-success\\\"><span>Trạng thái: </span><span>\" + data.status + \"</span></div>\";\r\n    if (data.mstNB == \"error\")\r\n      khongtimthayNB = \"<div><p><span class=\\\"font-error\\\">Hệ thống không tìm thấy dữ liệu. Kiểm tra lại </span><a target=\\\"_blank\\\" class=\\\"linkTaiDay\\\" href=\\\"http://tracuunnt.gdt.gov.vn/tcnnt/mstdn.jsp\\\">Tại đây</a></p></div>\";\r\n\r\n    this.noiDungNguoiBan = mst + tendonvi + diachi + trangthai + khongtimthayNB;\r\n  }\r\n  onClickBenBan() {\r\n    this.thongtinBenBan(true);\r\n  }\r\n  onClickChungThuSo() {\r\n    this.verifySignature();\r\n  }\r\n  /* Thay đổi loại hóa đơn */\r\n  changedTypeInvoice(data) {\r\n    this.frmData.xml_type = data.itemData.code;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row search-section\\\">\\r\\n  <div class=\\\"col-md-9\\\" style=\\\"padding-right: 0px\\\">\\r\\n    <div class=\\\"search-date-tct\\\">\\r\\n      <div class=\\\"column\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\">{{_translate.CONTROLL.LABEL.export_period}}</div>\\r\\n          <div class=\\\"value\\\">\\r\\n            <dx-select-box [items]=\\\"exportSchedulesTCT\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\"\\r\\n              (onValueChanged)=\\\"onExportSchedules($event)\\\" [value]=\\\"objSearch.exportSchedulesDefault\\\">\\r\\n            </dx-select-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"column day\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\">{{_translate.CONTROLL.LABEL.from_date}}</div>\\r\\n          <div class=\\\"value\\\">\\r\\n            <dx-date-box [(value)]=\\\"objSearch.startDate\\\" type=\\\"date\\\" [useMaskBehavior]=\\\"true\\\" [max]=\\\"maxDate\\\"\\r\\n              [displayFormat]=\\\"'dd/MM/yyyy'\\\" (onValueChanged)=\\\"onStartDateTCT($event)\\\">\\r\\n            </dx-date-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"column day\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\">{{_translate.CONTROLL.LABEL.to_date}}</div>\\r\\n          <div class=\\\"value\\\">\\r\\n            <dx-date-box [(value)]=\\\"objSearch.endDate\\\" [useMaskBehavior]=\\\"true\\\" type=\\\"date\\\"\\r\\n              [max]=\\\"maxDate\\\" [displayFormat]=\\\"'dd/MM/yyyy'\\\" (onValueChanged)=\\\"onEndDateTCT($event)\\\">\\r\\n            </dx-date-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"search-panel\\\">\\r\\n      <div class=\\\"column\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\" style=\\\"width: 100px !important;\\\">{{_translate.CONTROLL.LABEL.search}}</div>\\r\\n          <div class=\\\"value1\\\">\\r\\n            <dx-text-box placeholder=\\\"{{placeholder}}\\\" [(value)]='objSearch.contentSearch'\\r\\n              (onValueChanged)=\\\"onContentSearchChange($event)\\\"></dx-text-box>\\r\\n            <dx-button hint=\\\"{{_translate.CONTROLL.LABEL.search}}\\\" id=\\\"searchBtn\\\" [(icon)]=\\\"_translate.ICONS.search\\\"\\r\\n              type=\\\"default\\\" (click)=\\\"loadList(false)\\\"></dx-button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"column day\\\" style=\\\"width: 32%;\\\">\\r\\n        <div class=\\\"field\\\">\\r\\n          <div class=\\\"label\\\" style=\\\"width: 105px !important; margin-right: 0px;\\\">{{_translate.CONTROLL.LABEL._results}}\\r\\n          </div>\\r\\n          <div class=\\\"trang-thai-hd\\\" style=\\\"width: 60% !important;\\\">\\r\\n            <dx-select-box [dataSource]=\\\"testResults\\\" (onValueChanged)=\\\"onTestResultsChanged($event)\\\"\\r\\n              [value]=\\\"testResults[0].code\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\"></dx-select-box>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-3\\\" style=\\\"max-height: 70px\\\">\\r\\n    <div class=\\\"list-header row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"pull-right button-panel\\\">\\r\\n          <dx-button text=\\\"{{ 'CONTROLL.LABEL.search' | translate }}\\\" type=\\\"default\\\" (click)=\\\"loadList(false)\\\">\\r\\n          </dx-button>\\r\\n          <dx-button text=\\\"Nhận HĐ\\\" type=\\\"default\\\" (click)=\\\"receiveInvoice()\\\">\\r\\n          </dx-button>\\r\\n          <dx-button text=\\\"{{ 'CONTROLL.LABEL.export_data' | translate }}\\\" type=\\\"default\\\" (click)=\\\"exportExcel()\\\">\\r\\n          </dx-button>\\r\\n          <!-- <dx-button text=\\\"123123\\\" type=\\\"default\\\" (click)=\\\"open()\\\">\\r\\n          </dx-button> -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<h1 style=\\\"margin-bottom: 15px;\\\">Đã chọn {{selectedItems.length}}/{{totalInvoice}} hóa đơn</h1>\\r\\n<dx-data-grid id=\\\"gridContainerVat\\\" (onSelectionChanged)=\\\"selectionChanged($event)\\\" [dataSource]=\\\"dataSource\\\"\\r\\n  [showRowLines]=\\\"true\\\" [showBorders]=\\\"true\\\" [(selectedRowKeys)]=\\\"selectedRows\\\" [allowColumnResizing]=\\\"true\\\"\\r\\n  [columnResizingMode]=\\\"true\\\" [wordWrapEnabled]=\\\"true\\\" (onRowPrepared)=\\\"onRowPrepared($event)\\\">\\r\\n  <!-- <dxo-scrolling mode=\\\"virtual\\\"></dxo-scrolling> -->\\r\\n  <dxo-selection selectAllMode=\\\"page\\\" mode=\\\"multiple\\\">\\r\\n  </dxo-selection>\\r\\n  <!-- <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel> -->\\r\\n  <!-- <dxo-state-storing [enabled]=\\\"true\\\" type=\\\"sessionStorage\\\" storageKey=\\\"vat\\\"></dxo-state-storing> -->\\r\\n  <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel>\\r\\n  <dxo-sorting mode=\\\"single\\\"></dxo-sorting>\\r\\n  <!-- <dxo-selection mode=\\\"multiple\\\"></dxo-selection> -->\\r\\n  <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n  <!-- Số hóa đơn -->\\r\\n  <dxi-column dataField=\\\"shdon\\\" caption=\\\"{{ 'GRID.INVOICE.invoice_number' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.so_hoa_don}}\\\" alignment=\\\"center\\\" [filterOperations]=\\\"['=']\\\"\\r\\n    [fixed]=\\\"true\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Mẫu số kí hiệu -->\\r\\n  <dxi-column dataField=\\\"khhdon\\\" cellTemplate=\\\"templateCode\\\"\\r\\n    caption=\\\"{{ 'GRID.INVOICE.template_code' | translate }}, {{ 'GRID.INVOICE.invoice_series' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.mau_so_ky_hieu}}\\\" alignment=\\\"center\\\" [filterOperations]=\\\"['=']\\\" [fixed]=\\\"true\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Ngày hóa đơn -->\\r\\n  <dxi-column dataField=\\\"tdlap\\\" caption=\\\"{{ 'GRID.INVOICE.invoice_date' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.ngay_hoa_don}}\\\" [editorOptions]=\\\"{useMaskBehavior:true}\\\" dataType=\\\"date\\\"\\r\\n    format=\\\"dd/MM/yyyy\\\" alignment=\\\"center\\\" [fixed]=\\\"true\\\" [filterOperations]=\\\"['=']\\\"> </dxi-column>\\r\\n  <!-- MST người bán -->\\r\\n  <dxi-column dataField=\\\"nbmst\\\" caption=\\\"{{ 'GRID.INVOICE.MST_saller' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.hanh_dong_4}}\\\" alignment=\\\"left\\\" [filterOperations]=\\\"['=']\\\" [fixed]=\\\"true\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Tên người bán -->\\r\\n  <dxi-column dataField=\\\"nbten\\\" caption=\\\"{{ 'GRID.INVOICE.saller_name' | translate }}\\\" alignment=\\\"left\\\"\\r\\n   [allowFiltering]=\\\"false\\\" width=\\\"{{_translate.GRID_WIDTH.ten_hang}}\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Tổng tiền chưa thuế -->\\r\\n  <dxi-column caption=\\\"Tổng tiền chưa thuế\\\" dataType=\\\"number\\\" alignment=\\\"right\\\" dataField=\\\"tgtcthue\\\" format=\\\"0,###.##\\\"\\r\\n    [allowFiltering]=\\\"false\\\" width=\\\"120\\\"></dxi-column>\\r\\n  <!-- Tổng tiền thuế -->\\r\\n  <dxi-column caption=\\\"Tổng tiền thuế\\\" dataType=\\\"number\\\" alignment=\\\"right\\\" format=\\\"0,###.##\\\" dataField=\\\"tgtthue\\\"\\r\\n    [allowFiltering]=\\\"false\\\" width=\\\"120\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Tổng tiền chiết khấu thương mại -->\\r\\n  <dxi-column caption=\\\"Tổng tiền chiết khấu thương mại\\\" dataType=\\\"number\\\" alignment=\\\"right\\\" [allowFiltering]=\\\"false\\\"\\r\\n    dataField=\\\"ttcktmai\\\" format=\\\"0,###.##\\\" width=\\\"120\\\"></dxi-column>\\r\\n  <!-- Tổng tiền phí -->\\r\\n  <dxi-column caption=\\\"Tổng tiền phí\\\" dataType=\\\"number\\\" alignment=\\\"right\\\" format=\\\"0,###.##\\\" [allowFiltering]=\\\"false\\\"\\r\\n    dataField=\\\"tgtphi\\\" width=\\\"120\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Tổng tiền thanh toán -->\\r\\n  <dxi-column caption=\\\"Tổng tiền thanh toán\\\" dataType=\\\"number\\\" alignment=\\\"right\\\" [allowFiltering]=\\\"false\\\"\\r\\n    dataField=\\\"tgtttbso\\\" format=\\\"0,###.##\\\" width=\\\"120\\\"></dxi-column>\\r\\n  <!-- Đơn vị tiền tệ -->\\r\\n  <dxi-column dataField=\\\"dvtte\\\" caption=\\\"Đơn vị tiền tệ\\\" alignment=\\\"center\\\" format=\\\"0,###.##\\\" [allowFiltering]=\\\"false\\\"\\r\\n    width=\\\"120\\\">\\r\\n  </dxi-column>\\r\\n  <!-- Trạng thái hóa đơn -->\\r\\n  <dxi-column dataField=\\\"tthai\\\" caption=\\\"Trạng thái hóa đơn\\\" alignment=\\\"center\\\" width=\\\"120\\\">\\r\\n    <dxo-lookup [dataSource]=\\\"adjustmentTypes\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\" width=\\\"120\\\"></dxo-lookup>\\r\\n  </dxi-column>\\r\\n  <!-- Kết quả kiểm tra -->\\r\\n  <dxi-column dataField=\\\"ttxly\\\" cellTemplate=\\\"testResults\\\" caption=\\\"Kết quả kiểm tra\\\" alignment=\\\"center\\\" width=\\\"120\\\"\\r\\n    [allowFiltering]=\\\"false\\\">\\r\\n    <!-- <dxo-lookup [dataSource]=\\\"testResults\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\" width=\\\"120\\\"></dxo-lookup> -->\\r\\n  </dxi-column>\\r\\n  <!-- Trạn thái nhận HĐ -->\\r\\n  <dxi-column dataField=\\\"receiving_status\\\" caption=\\\"Trạng thái nhận HĐ\\\" alignment=\\\"center\\\" width=\\\"120\\\"\\r\\n    [allowFiltering]=\\\"false\\\">\\r\\n    <!-- <dxo-lookup [dataSource]=\\\"statusFilter\\\" valueExpr=\\\"value\\\" displayExpr=\\\"text\\\"></dxo-lookup> -->\\r\\n  </dxi-column>\\r\\n  <dxi-column cellTemplate=\\\"actionIcon\\\" alignment=\\\"center\\\" width=\\\"50\\\">\\r\\n  </dxi-column>\\r\\n  <div *dxTemplate=\\\"let d of 'templateCode'\\\">\\r\\n    <p>{{ d.data.khmshdon }}</p>\\r\\n    <p>{{ d.data.khhdon }}</p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'testResults'\\\">\\r\\n    <p *ngIf=\\\"d.data.ttxly == '5'\\\">Đã cấp mã hóa đơn</p>\\r\\n    <p *ngIf=\\\"d.data.ttxly == '6'\\\">Tổng cục thuế đã nhận không mã</p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'status'\\\">\\r\\n    <a href=\\\"javascript:void(0)\\\" (click)=\\\"checkStatusIhd(d.data)\\\" *ngIf=\\\"this.statusInvoice.id != d.data.id\\\">Kiểm tra\\r\\n      trạng thái</a>\\r\\n    <p *ngIf=\\\"this.statusInvoice.status == 'CHUA_NHAN' && this.statusInvoice.id == d.data.id\\\">HĐ\\r\\n      chưa nhận</p>\\r\\n    <p *ngIf=\\\"this.statusInvoice.status == 'DA_NHAN' && this.statusInvoice.id == d.data.id\\\">HĐ\\r\\n      đã nhận</p>\\r\\n    <p *ngIf=\\\"this.statusInvoice.status == 'TRUNG' && this.statusInvoice.id == d.data.id\\\">HĐ\\r\\n      trùng</p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'invoiceNumber'\\\">\\r\\n    <a class=\\\"gach-chan\\\" href=\\\"javascript:void(0)\\\">{{ d.data.invoice_number }}</a>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'customerName'\\\">\\r\\n    <!--    <p>{{ d.data.seller_legal_name || d.data.seller_legal_name }}</p>-->\\r\\n    <p>{{ d.data.seller_legal_name || d.data.seller_legal_name || _translate.GRID.INVOICE.invoice_wait_for_sign }}</p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'actionStatus'\\\">\\r\\n    <p *ngIf=\\\"d.data.adjustment_type === '1'\\\">{{_translate.CONTROLL.BUTTON.invoice_origin}}</p>\\r\\n    <p *ngIf=\\\"d.data.adjustment_type === '3'\\\">{{_translate.CONTROLL.BUTTON.report_replace}}</p>\\r\\n    <p *ngIf=\\\"d.data.adjustment_type === '7'\\\">{{_translate.GRID.GENERAL.invoice_removed}}</p>\\r\\n    <p *ngIf=\\\"d.data.adjustment_type === '5'\\\">{{_translate.GRID.GENERAL.adjustment_invoice}}</p>\\r\\n    <p *ngIf=\\\"d.data.adjustment_type === '4'\\\">{{_translate.GRID.GENERAL.invoice_adjusted}}</p>\\r\\n    <p *ngIf=\\\"d.data.adjustment_type === '2'\\\">{{_translate.GRID.GENERAL.invoice_replaced}}</p>\\r\\n    <p *ngIf=\\\"d.data.adjustment_type === '6'\\\">{{_translate.GRID.GENERAL.invoice_deleted}}</p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.view_invoice}}\\\" class=\\\"xemIcon actionIcon\\\" (click)=\\\"view(d.data)\\\"\\r\\n      href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n    <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n  </div>\\r\\n  <dxo-summary>\\r\\n    <dxi-total-item summaryType=\\\"custom\\\" [customizeText]=\\\"customizeText\\\" showInColumn=\\\"tgtttbso\\\">\\r\\n    </dxi-total-item>\\r\\n    <!-- <dxi-total-item summaryType=\\\"custom\\\" [customizeText]=\\\"customizeText\\\" showInColumn=\\\"total_payment\\\">\\r\\n    </dxi-total-item> -->\\r\\n    <!-- <dxi-total-item\\r\\nsummaryType=\\\"custom\\\"\\r\\n[customizeText]=\\\"customizeText1\\\"\\r\\nshowInColumn=\\\"customerName\\\">\\r\\n</dxi-total-item> -->\\r\\n  </dxo-summary>\\r\\n  <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\" [filtering]=\\\"true\\\" [summary]=\\\"true\\\">\\r\\n  </dxo-remote-operations>\\r\\n  <dxo-paging [pageSize]=\\\"objSearch.page\\\"></dxo-paging>\\r\\n  <dxo-pager [visible]=\\\"false\\\">\\r\\n  </dxo-pager>\\r\\n</dx-data-grid>\\r\\n<div class=\\\"pagination\\\">\\r\\n  <h1>Tổng số hóa đơn {{totalInvoice}}</h1>\\r\\n  <div class=\\\"pagination-btn\\\">\\r\\n    <button class=\\\"back-btn\\\" (click)=\\\"prev()\\\" id=\\\"prev\\\" disabled><i class=\\\"fa fa-chevron-left\\\"\\r\\n        aria-hidden=\\\"true\\\"></i></button>\\r\\n    <div class=\\\"pagination-number\\\">\\r\\n      {{currentPageNumber}}/{{pageNumber}}\\r\\n    </div>\\r\\n    <button class=\\\"next-btn\\\" (click)=\\\"next()\\\" id=\\\"next\\\" disabled><i class=\\\"fa fa-chevron-right\\\"\\r\\n        aria-hidden=\\\"true\\\"></i></button>\\r\\n  </div>\\r\\n  <div class=\\\"pagination-select\\\">\\r\\n    <dx-select-box [items]=\\\"pagination\\\" displayExpr=\\\"name\\\" valueExpr=\\\"name\\\" (onValueChanged)=\\\"paginationChange($event)\\\"\\r\\n      [value]=\\\"objSearch.limit\\\">\\r\\n    </dx-select-box>\\r\\n  </div>\\r\\n</div>\\r\\n<ngx-spinner bdColor=\\\"rgba(51,51,51,0.8)\\\" size=\\\"medium\\\" color=\\\"#fff\\\" type=\\\"timer\\\">\\r\\n  <p style=\\\"font-size: 20px; color: white\\\">Loading...</p>\\r\\n</ngx-spinner>\\r\\n\"","module.exports = \".chua-gui-khach-hang{color:red}.cho-ky{color:#008b8b}.gach-chan{text-decoration:underline}.search-section{padding-bottom:15px}.button-panel{margin-top:30px}.mainmenubtn{background-color:red;color:white;border:none;cursor:pointer;padding:20px;margin-top:20px}::ng-deep #gridContainerVat .dx-cell-focus-disabled{overflow:visible !important}::ng-deep #gridContainerVat .dx-datagrid-rowsview{overflow:visible}.timkiemIcon{background-image:url('link_sign.png');background-position-x:1px;background-position-y:6px;background-repeat:no-repeat;text-decoration:underline}::ng-deep .view-invoice{max-width:100%;margin:0px;height:100%}::ng-deep .search-section .search-date-tct{width:100%}::ng-deep .search-section .search-date-tct .dx-texteditor-input{padding-top:5px !important;padding-bottom:4px}.search-panel{width:100%}.search-panel .dx-texteditor{border-radius:0}.search-panel .column{width:68%}.search-panel .label{margin:0}.search-panel .value{width:76% !important}.search-panel .value .dx-textbox{width:83%;display:inline-flex}.search-panel .value .dx-button{position:relative;top:-2px;border-left:0;height:27px}.search-panel .value .dx-button-content{padding-right:0 !important}.search-panel .value .dx-icon{margin-right:3px !important;margin-left:3px !important}.search-panel .value #advBtn{margin-top:0;width:5%}.search-panel .value #searchBtn{margin-top:0;width:9%}.search-panel .value1{width:82% !important}.search-panel .value1 .dx-textbox{width:83%;display:inline-flex}.search-panel .value1 .dx-button{position:relative;top:-7px;border-left:0;height:27px}.search-panel .value1 .dx-button-content{padding-right:0 !important}.search-panel .value1 .dx-icon{margin-right:3px !important;margin-left:3px !important}.search-panel .value1 #advBtn{margin-top:0;width:5%}.search-panel .value1 #searchBtn{margin-top:0;width:9%}.search-panel .valueProcess{width:63%}.search-panel .valueProcess .dx-textbox{width:94%;display:inline-flex}.search-panel .valueProcess .dx-button{position:relative;top:-2px;border-left:0;height:27px}.search-panel .valueProcess .dx-button-content{padding-right:0 !important}.search-panel .valueProcess .dx-icon{margin-right:3px !important;margin-left:3px !important}.search-panel .valueProcess #advBtn{margin-top:0;width:5%}.search-panel .valueProcess #searchBtn{margin-top:0;width:9%}.search-panel .trang-thai-hd{width:63%}.search-panel .trang-thai-hd .dx-textbox{margin-left:14px}.search-panel .trang-thai-hd .dx-button{position:relative;top:-2px;border-left:0;height:27px}.search-panel .trang-thai-hd .dx-button-content{padding-right:0 !important}.search-panel .trang-thai-hd .dx-icon{margin-right:3px !important;margin-left:3px !important}.search-panel .trang-thai-hd #advBtn{margin-top:0;width:5%}.search-panel .trang-thai-hd #searchBtn{margin-top:0;width:9%}.advanced,.advanced-invoice-buy{margin:0 -15px;transition:all .3s linear 0s;width:145%}.advanced .dx-texteditor,.advanced-invoice-buy .dx-texteditor{border-radius:0}.advanced .column,.advanced-invoice-buy .column{width:24%}.advanced .column .value,.advanced-invoice-buy .column .value{width:47%}.advanced .name-customer,.advanced-invoice-buy .name-customer{width:48% !important}.advanced .name-customer .value,.advanced-invoice-buy .name-customer .value{width:73.4% !important}.advanced .name-customer-buy,.advanced-invoice-buy .name-customer-buy{width:35.07% !important}.advanced .name-customer-buy .value,.advanced-invoice-buy .name-customer-buy .value{width:63.5% !important}.advanced :host .dx-fieldset,.advanced-invoice-buy :host .dx-fieldset{width:100px}.button-ok{height:30px;padding-bottom:10px !important;padding-left:20px}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-popup-content{padding-top:5px !important;padding-left:5px !important;padding-right:5px !important;padding-bottom:0 !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .dx-treeview{height:80% !important;padding-bottom:5px !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .processing_status-search.dx-treeview,::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .exporter-search.dx-treeview{height:75% !important;padding-bottom:5px !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .dx-button-search{border-radius:12px !important}::ng-deep .dx-dropdowneditor-overlay .dx-overlay-content .dx-template-wrapper .dx-button-search .dx-button-content .dx-icon{font-size:13px !important}.pagination{justify-content:flex-end;align-items:center;margin-top:10px}.pagination .pagination-btn{display:flex;align-items:center;height:100%}.pagination .pagination-btn .pagination-number{height:32px;padding:0px 5px;box-sizing:border-box;border:1px solid #d9d9d9;border-radius:4px;color:rgba(0,0,0,0.85);display:flex;justify-content:center;align-items:center;margin:0px 4px}.pagination .pagination-btn .back-btn{border:none;outline:none;border-radius:4px;height:32px;padding:0px 5px;margin:0px 6px;background-color:#f0f2f5}.pagination .pagination-btn .back-btn:disabled{cursor:not-allowed}.pagination .pagination-btn .next-btn{border:none;outline:none;border-radius:4px;height:32px;padding:0px 5px;margin:0px 6px;background-color:#f0f2f5}.pagination .pagination-btn .next-btn:disabled{cursor:not-allowed}.pagination .pagination-btn .next-enable{background-color:#337ab7}.pagination .pagination-btn .next-enable i{color:white}.pagination .pagination-btn .prev-enable{background-color:#337ab7}.pagination .pagination-btn .prev-enable i{color:white}.pagination .pagination-select{width:62px}\\n\"","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { VatService } from '@modules/vat/shared';\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DxDataGridComponent, DxFilterBuilderComponent, DxMenuComponent } from 'devextreme-angular';\r\nimport { Library } from '@core/library';\r\nimport { Helper } from '@core/helper/Helper';\r\nimport { VPreviewInvService } from '@core/library/invoice/v-preview-inv.service';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { UploadFileZipComponent } from '@modules/invoice-buy/shared/modal/upload-file-zip/upload-file-zip.component';\r\nimport { empty } from 'rxjs';\r\nimport { SocketService } from '@core/index';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { ViewInvoiceMultipageComponent } from '@shared/index';\r\nimport { Invoice } from '@modules/invoice-buy/shared/class/invoice.model';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { VSelectBoxService } from '@core/library/public/v-select-box.service';\r\nimport { CaptchaUpdateComponent } from '../captcha-update/captcha-update.component';\r\nimport { linkToolbarAction } from '@syncfusion/ej2-angular-richtexteditor';\r\nimport { ConfigsService } from '@modules/configs/shared';\r\nimport { collapseTextChangeRangesAcrossMultipleVersions } from 'typescript';\r\nimport { extractStyleParams } from '@angular/animations/browser/src/util';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-list-invoice-tct',\r\n  templateUrl: './list-invoice-tct.component.html',\r\n  styleUrls: ['./list-invoice-tct.component.scss']\r\n})\r\nexport class ListInvoiceTCTComponent implements OnInit {\r\n  @ViewChild(DxMenuComponent) dxMenu: DxMenuComponent;\r\n  @Input() isHasPackage;\r\n  @ViewChild('expandMenu') expandMenu;\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  @ViewChild(DxFilterBuilderComponent) filterBuilder: DxFilterBuilderComponent;\r\n  // dataSource: DataSource;\r\n  dataSource: any;\r\n  selectedRows: Array<any> = [];\r\n  selectedItems: Array<any> = [];\r\n  bsModalSignRef: BsModalRef;\r\n  bsModalRef: BsModalRef;\r\n  listDM: any;\r\n  loaiHoaDon: string;\r\n  test = true;\r\n  isReceiveInvoice = false;\r\n  pagereceiveInvoice: any;\r\n  statusInvoice: any = {};\r\n  isAccessExportInv = true;\r\n  invoice_releases = [];\r\n  paramSearch: string = null;\r\n  _language: string;\r\n  _translate: any;\r\n  checkSubmit: any;\r\n  extras = [];\r\n  data_extras_invoice_buy = [];\r\n  extend = [];\r\n  select: any = {};\r\n  adjustmentTypes: any = []\r\n  testResults: any = [];\r\n  configs: any;\r\n  disEditMulti = true;\r\n  system_parameter: any = {};\r\n  clickCurent = '';\r\n  showStatus = false;\r\n  isSearchUI = true;\r\n  dataAddInvoiceBuy = [];\r\n  paramsExportData: string = null;\r\n  ioSignature: Subscription;\r\n  frmData: Invoice = new Invoice('1');\r\n  statusFilter: any;\r\n  exportSchedulesTCT: any = [];\r\n  currentPageNumber = 1;\r\n  pageNumber: number = 1;\r\n  listState: any = [];\r\n  isPagination = false;\r\n  totalInvoice: number = 0;\r\n  objSearch: any = {\r\n    endDate: '',\r\n    contentSearch: '',\r\n    test_results: '5',\r\n    startDate: '',\r\n    exportSchedulesDefault: 'THANG_NAY',\r\n    limit: 15,\r\n    page: 1,\r\n    state: null,\r\n  };\r\n  startDate: any;\r\n  minDate: any;\r\n  maxDate: any;\r\n  endDateTCT: any;\r\n  placeholder: any;\r\n  pagination = [\r\n    { name: 15 },\r\n    { name: 30 },\r\n    { name: 50 },\r\n  ];\r\n  constructor(\r\n    private authService: AuthService,\r\n    private vatService: VatService,\r\n    private modalService: BsModalService,\r\n    private modalImportService: BsModalService,\r\n    public bsModalDocumentCancel: BsModalRef,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    public translate: TranslateService,\r\n    private invoiceBuyService: InvoiceBuyService,\r\n    private socketService: SocketService,\r\n    private configsService: ConfigsService\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    this.adjustmentTypes = VSelectBoxService._adjustmentTypesTCT(this._translate);\r\n    this.testResults = VSelectBoxService._results(this._translate);\r\n    this.exportSchedulesTCT = Helper.getExportScheduleTCT(this._translate).schedule;\r\n    translate.use(this._language);\r\n    this.data_extras_invoice_buy = [{\r\n      id: '1',\r\n      name: this._translate.CONTROLL.LABEL.export_data,\r\n      items: [\r\n        {\r\n          id: 'LIST_INVOICE_BUY',\r\n          name: this._translate.CONTROLL.LABEL.list_invoice_buy,\r\n          icon: this._translate.ICONS.excel\r\n        },\r\n        {\r\n          id: 'DETAILS_OF_EACH_GOODS_AND_SERVICE',\r\n          name: this._translate.CONTROLL.LABEL.details_of_each_goods_and_service,\r\n          icon: this._translate.ICONS.edit\r\n        },\r\n      ]\r\n    }];\r\n    this.dataAddInvoiceBuy = [{\r\n      id: '1',\r\n      name: this._translate.CONTROLL.BUTTON.add,\r\n      items: [\r\n        {\r\n          id: 'ADD_ONE_INVOICE',\r\n          name: this._translate.CONTROLL.LABEL.add_one_invoice,\r\n          icon: this._translate.ICONS.add_new\r\n        },\r\n        {\r\n          id: 'ADD_MULTIPLE_INVOICE',\r\n          name: this._translate.CONTROLL.LABEL.add_multiple_invoice,\r\n          icon: this._translate.ICONS.add_new\r\n        },\r\n      ]\r\n    }];\r\n    this.placeholder =\r\n      this._translate.CONTROLL.LABEL.input +\r\n      \" \" +\r\n      this._translate.GRID.INVOICE.invoice_number +\r\n      \", \" +\r\n      this._translate.CONTROLL.LABEL.tax_code;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.connectWebsocket();\r\n    let oKyXuat = this.exportSchedulesTCT.filter(\r\n      (p) => p.code == \"THANG_NAY\"\r\n    )[0];\r\n    if (oKyXuat) {\r\n      this.objSearch.startDate = oKyXuat.startDate;\r\n      this.objSearch.endDate = oKyXuat.endDate;\r\n      this.minDate = oKyXuat.startDate;\r\n      this.maxDate = oKyXuat.endDate;\r\n    }\r\n  }\r\n  ngOnDestroy() {\r\n    this.ioSignature.unsubscribe();\r\n    this.isSearchUI = false;\r\n  }\r\n  connectWebsocket() {\r\n    this.ioSignature = this.socketService.lapHoaDon().subscribe(message => {\r\n    });\r\n  }\r\n  getSearch(e) {\r\n    this.paramSearch = e;\r\n    // this.loadList(e);\r\n  }\r\n\r\n  itemExtrasClick(e) {\r\n    if (e.itemData.id === 'ADD_ONE_INVOICE') {\r\n      if (this.isHasPackage) {\r\n        this.router.navigate(['/system/invoice-buy/create']);\r\n      } else {\r\n        Library.notify(\"Vui lòng mua gói hóa đơn đầu vào để sử dụng chức năng này\", \"error\")\r\n      }\r\n    } else if (e.itemData.id === 'ADD_MULTIPLE_INVOICE') {\r\n      if (this.isHasPackage) {\r\n        this.importMultipleFile();\r\n      } else {\r\n        Library.notify(\"Vui lòng mua gói hóa đơn đầu vào để sử dụng chức năng này\", \"error\")\r\n      }\r\n    } else if (e.itemData.id === 'LIST_INVOICE_BUY') {\r\n      this.exportXLXS();\r\n    } else if (e.itemData.id === 'DETAILS_OF_EACH_GOODS_AND_SERVICE') {\r\n      this.exportDetails();\r\n    }\r\n  }\r\n\r\n  // xu ly cho export XML chua xong\r\n  setParameExport() {\r\n    let dataValue;\r\n    const sort = '&sort[0][key]=invoice_date&sort[0][direction]=DESC';\r\n    const period = this.route.snapshot.queryParams.exportSchedulesDefault;\r\n    if (period === 'TAT_CA') {\r\n      dataValue = period + this.paramsExportData + sort;\r\n    } else {\r\n      const from_date = this.route.snapshot.queryParams.startDate;\r\n      const to_date = this.route.snapshot.queryParams.endDate;\r\n      dataValue = `${period}&options[from_date]=${from_date}&options[to_date]=${to_date}` + this.paramsExportData + sort;\r\n    }\r\n    return dataValue;\r\n  }\r\n\r\n  exportXLXS() {\r\n    Library.showloading();\r\n    this.invoiceBuyService.apiExportListInvoicebuy(this.setParameExport())\r\n      .subscribe(res => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.report;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n          Library.notify('Xuất file Excel thành công', 'success');\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n      }, error => Library.notify(error, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n  }\r\n\r\n  exportDetails() {\r\n    Library.showloading();\r\n    this.invoiceBuyService.apiExportDetailInvoicebuy(this.setParameExport())\r\n      .subscribe(res => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.report;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n          Library.notify('Xuất file thành công', 'success');\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n      }, error => Library.notify(error, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n  }\r\n\r\n  importMultipleFile() {\r\n    this.bsModalDocumentCancel = this.modalService.show(UploadFileZipComponent, {\r\n      class: 'modal-lg full-modal', backdrop: 'static',\r\n      keyboard: false\r\n    });\r\n\r\n    this.modalService.onHide.subscribe(\r\n      () => {\r\n        if (this.bsModalDocumentCancel.content.LoadList === 'LoadList') {\r\n          // this.loadList();\r\n          delete this.bsModalDocumentCancel.content.LoadList;\r\n        }\r\n      });\r\n  }\r\n\r\n  edit(data) {\r\n    const row = data ? data : this.selectedItems[0];\r\n    this.router.navigate([`/system/invoice-buy/edit-invoice/${row.id}`]);\r\n  }\r\n\r\n  inChuyenDoi(data) {\r\n    if (this.clickCurent) {\r\n      document.getElementById(this.clickCurent).classList.remove('show');\r\n    }\r\n    if (this.selectedItems.length || data) {\r\n      const _lst = this.selectedItems.filter(p => p.status === 'DA_XUAT');\r\n      if (_lst.length > 0 || data) {\r\n        let ids = [];\r\n        if (data) {\r\n          if (data.status === 'DA_XUAT') {\r\n            ids.push(data.id);\r\n          } else {\r\n            Library.notify(this._translate.NOTIFY.not_print_convert, 'error');\r\n            return;\r\n          }\r\n        } else {\r\n          ids = _lst.map(e => e.id);\r\n        }\r\n        let w = 1920, h = 900;\r\n        w = window.screen.availWidth * 100 / 100;\r\n        h = window.screen.availHeight * 93 / 100;\r\n        const win = window.open('about:blank', 'name', 'width=200, height=100');\r\n        win.document.body.innerHTML = this._translate.NOTIFY.loading;\r\n        win.blur();\r\n        Library.showloading();\r\n        const sub = this.vatService.inChuyenDoiInvoiceImport(ids, false).subscribe(rs => {\r\n          if (rs.status === 'success') {\r\n            const pdf_file = rs.data.invoice.pdf_file;\r\n            const objectUrl = VPreviewInvService._getUrlInvoice(pdf_file);\r\n            win.resizeTo(screen.availWidth, screen.availHeight);\r\n            win.focus();\r\n            win.open(objectUrl, 'name', 'width=' + w + ', height=' + h);\r\n          } else {\r\n            win.close();\r\n            Library.notify(rs.message, 'error');\r\n          }\r\n        }, err => {\r\n        }, () => {\r\n          Library.hideloading();\r\n          sub.unsubscribe();\r\n        });\r\n      } else {\r\n        Library.notify(this._translate.NOTIFY.no_record_selected, 'error');\r\n      }\r\n\r\n    } else {\r\n      Library.notify(this._translate.NOTIFY.no_record_selected, 'error');\r\n    }\r\n  }\r\n\r\n  delete(data?) {\r\n    if (this.selectedItems.length || data) {\r\n      let objData = {};\r\n      const ids = [];\r\n      const idsEmail = [];\r\n      const isInvoiveInMail = this.selectedItems.filter(item => item.input_invoice_mail_id !== null)\r\n      if (data) {\r\n        ids.push(data.id);\r\n        objData = {\r\n          ids: data.input_invoice_mail_id,\r\n          error_reason: \"Người dùng đã xóa hóa đơn từ danh sách hóa đơn đầu vào\",\r\n        }\r\n      } else {\r\n        this.selectedItems.map((item) => {\r\n          if (item.export_from_ihd !== '1') {\r\n            ids.push(item.id);\r\n            if (item.input_invoice_mail_id) {\r\n              idsEmail.push(item.input_invoice_mail_id)\r\n            }\r\n          }\r\n        });\r\n      }\r\n      if (Array.isArray(ids) && ids.length) {\r\n        const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            Library.showloading();\r\n            this.invoiceBuyService.deleteInvoiceId(ids).subscribe(rs => {\r\n              if (rs.status === 'success') {\r\n                if (data) {\r\n                  if (data.input_invoice_mail_id) {\r\n                    let ids = [];\r\n                    ids.push(data.input_invoice_mail_id)\r\n                    objData = {\r\n                      ids: ids,\r\n                      error_reason: \"Người dùng đã xóa hóa đơn từ danh sách hóa đơn đầu vào\",\r\n                    }\r\n                    this.invoiceBuyService.notReceived(objData).subscribe()\r\n                  }\r\n                } if (isInvoiveInMail.length > 0) {\r\n                  objData = {\r\n                    ids: idsEmail,\r\n                    error_reason: \"Người dùng đã xóa hóa đơn từ danh sách hóa đơn đầu vào\",\r\n                  }\r\n                  this.invoiceBuyService.notReceived(objData).subscribe()\r\n                }\r\n                Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                // this.loadList();\r\n              } else {\r\n                Library.notify(rs.message, 'error');\r\n              }\r\n            }, err => {\r\n            }, () => {\r\n              Library.hideloading();\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        Library.notify('Không được xóa hóa đơn từ phần mềm ihoadon', 'error');\r\n      }\r\n    }\r\n  }\r\n\r\n  customizeText = (e) => {\r\n    if (this.invoiceBuyService && this.invoiceBuyService.handleConnect()) {\r\n      const error = this.invoiceBuyService.handleConnect()\r\n      if (error.status == \"error\") {\r\n        if (error.message == 'Phiên đăng nhập TCT đã hết hạn') {\r\n          const initialState = {\r\n            is_expired: true,\r\n          };\r\n          this.bsModalSignRef = this.modalService.show(CaptchaUpdateComponent, { class: 'modal-md', backdrop: 'static', keyboard: false, initialState });\r\n          this.modalService.onHide.subscribe(() => {\r\n          });\r\n        } else {\r\n          if (error.code == 'IWE285') {\r\n            Library.notify(error.message, 'error', 5000);\r\n          }\r\n          else {\r\n            const initialState = {\r\n              is_expired: false,\r\n            };\r\n            this.bsModalSignRef = this.modalService.show(CaptchaUpdateComponent, { class: 'modal-md', backdrop: 'static', keyboard: false, initialState });\r\n            this.modalService.onHide.subscribe(() => {\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        this.pageNumber = Math.ceil(error.total / this.objSearch.limit);\r\n        this.objSearch.state = error.state;\r\n        this.totalInvoice = error.total;\r\n        if(error.changeFilters) {\r\n          this.currentPageNumber = 1;\r\n          this.listState = [];\r\n          this.objSearch.page = 1;\r\n          this.loadList(false);\r\n        }\r\n        if (this.currentPageNumber < this.pageNumber) {\r\n          document.getElementById('next').classList.add('next-enable')\r\n          document.getElementById('next').removeAttribute('disabled')\r\n        } else {\r\n          document.getElementById('next').classList.remove('next-enable')\r\n          document.getElementById('next').setAttribute('disabled', '')\r\n        }\r\n        if (this.currentPageNumber > 1) {\r\n          document.getElementById('prev').classList.add('prev-enable')\r\n          document.getElementById('prev').removeAttribute('disabled')\r\n        } else {\r\n          document.getElementById('prev').classList.remove('prev-enable')\r\n          document.getElementById('prev').setAttribute('disabled', '')\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  selectionChanged(data: any) {\r\n    if (this.clickCurent) {\r\n      document.getElementById(this.clickCurent).classList.remove('show');\r\n    }\r\n    this.disEditMulti = true;\r\n    this.selectedItems = data.selectedRowsData;\r\n    if (this.selectedItems.length > 0) {\r\n      const checks = this.selectedItems.filter((item) => {\r\n        return item.number_of_vouchers;\r\n      });\r\n      const checkDaXuat = this.selectedItems.filter((item) => {\r\n        return item.status === 'DA_XUAT';\r\n      });\r\n      if (checks.length === this.selectedItems.length && checkDaXuat.length === 0) {\r\n        this.disEditMulti = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  onRowPrepared(e) {\r\n    if (e.rowType === 'data') {\r\n      switch (e.data.status) {\r\n        case 'DA_XUAT':\r\n          break;\r\n        case 'GHI_TAM':\r\n          if (e.data.invoice_number) {\r\n            e.rowElement.style.color = 'red';\r\n          } else {\r\n            e.rowElement.style.color = '#DEA960';\r\n          }\r\n          break;\r\n        case 'GIU_SO':\r\n          e.rowElement.style.color = '#008B8B';\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      if (e.data.adjustment_type === '2' || e.data.adjustment_type === '7' || e.data.adjustment_type === '6') {\r\n        const eles = e.rowElement.getElementsByTagName('td');\r\n        for (let i = 0; i < eles.length; i++) {\r\n          if (i !== 9 && i !== 1) {\r\n            eles[i].style.textDecoration = 'line-through';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  loadList(e) {\r\n    if (e) {\r\n      if (this.isReceiveInvoice) {\r\n        this.objSearch.state = this.listState[this.listState.length - 1];\r\n        this.isReceiveInvoice = false;\r\n      } else {\r\n        this.objSearch.state = this.listState[this.listState.length - 1];\r\n        this.objSearch.page = this.currentPageNumber;\r\n      }\r\n      this.dataSource = {};\r\n      this.dataSource.store = this.invoiceBuyService.searchInvoiceTCT(this.objSearch);\r\n    }\r\n    else {\r\n      this.objSearch.state = null;\r\n      this.currentPageNumber = 1;\r\n      this.dataSource = {};\r\n      this.dataSource.store = this.invoiceBuyService.searchInvoiceTCT(this.objSearch);\r\n    }\r\n    this.dataGrid.instance.clearSelection();\r\n  }\r\n  view(data) {\r\n    const row = data ? data : this.selectedItems[0];\r\n    let dataInvoice = {\r\n      khhdon: row.khhdon,\r\n      khmshdon: row.khmshdon,\r\n      nbmst: row.nbmst,\r\n      shdon: row.shdon,\r\n      type: 'html'\r\n    }\r\n    Library.showloading();\r\n    let initialState = {\r\n      typeAction: 'HOA_DON_TCT',\r\n      dataInvoiceTCT: dataInvoice\r\n    };\r\n    this.bsModalRef = this.modalImportService.show\r\n      (\r\n        ViewInvoiceMultipageComponent,\r\n        {\r\n          backdrop: 'static',\r\n          keyboard: false,\r\n          class: 'modal-xl view-invoice',\r\n          initialState\r\n        }\r\n      );\r\n    const subModal = this.modalImportService.onHide.subscribe(() => {\r\n      subModal.unsubscribe();\r\n    });\r\n    Library.hideloading();\r\n  }\r\n  setUrlNavigate() {\r\n    const url = window.location.pathname;\r\n    if (sessionStorage.hasOwnProperty('urlIndex')) {\r\n      if (sessionStorage.getItem('urlIndex') !== null) {\r\n        sessionStorage.setItem('urlIndex', url);\r\n      } else {\r\n        sessionStorage.setItem('urlIndex', url);\r\n      }\r\n    } else {\r\n      sessionStorage.setItem('urlIndex', url);\r\n    }\r\n  }\r\n  search(data) {\r\n    if (data.export_from_ihd == '1') {\r\n      const win = window.open('https://ihoadon.vn/kiem-tra/?shd=' + data.invoice_number + \"&mtc=\" + data.lookup_code, '_blank');\r\n      win.focus();\r\n    }\r\n    else {\r\n      if (data.lookup_link) {\r\n        const win = window.open(data.lookup_link, '_blank');\r\n        win.focus();\r\n      }\r\n      else\r\n        Library.notify(\"Hóa đơn chưa nhập link tra cứu. Vui lòng kiểm tra lại\", 'error');\r\n    }\r\n  }\r\n  receiveInvoice() {\r\n    if (this.selectedItems.length > 0) {\r\n      this.configsService.getConfigSearch().subscribe(res => {\r\n        if (res.status == 'success') {\r\n          const result = Library.confirm(\"Bạn đã nhận hóa đơn \" + res.data.sync_number + \"/3\" + \" lần trong ngày. Bạn có muốn nhận hóa đơn này?\", this._translate.NOTIFY.notify);\r\n          let data = {\r\n            datas: this.selectedItems\r\n          }\r\n          result.then((dialogResult) => {\r\n            if (dialogResult) {\r\n              Library.showloading();\r\n              this.invoiceBuyService.receiveInvoice(data).subscribe(res => {\r\n                if (res.status === 'success') {\r\n                  this.pagereceiveInvoice = this.objSearch.state;\r\n                  this.isReceiveInvoice = true;\r\n                  Library.notify('Nhận hóa đơn thành công', 'success');\r\n                  this.loadList(true)\r\n                } else {\r\n                  Library.notify(res.message, 'error');\r\n                }\r\n              }, error => {\r\n                Library.notify(error, 'error');\r\n              }, () => {\r\n                Library.hideloading();\r\n              }\r\n              )\r\n            }\r\n          });\r\n        }\r\n      })\r\n    } else {\r\n      Library.notify(\" Vui lòng chọn hóa đơn\", 'error');\r\n    }\r\n  }\r\n  exportExcel() {\r\n    let data = this.invoiceBuyService.getDataExportExcel()\r\n    this.invoiceBuyService.exportExcel(data).subscribe(res => {\r\n      if (res.status === 'success') {\r\n        const file = res.data;\r\n        Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n        Library.notify('Xuất file Excel thành công', 'success');\r\n      } else {\r\n        Library.notify(res.message, 'error');\r\n      }\r\n      Library.hideloading();\r\n    });\r\n  }\r\n  checkStatusIhd(data) {\r\n    Library.showloading();\r\n    let dataInvoice = {\r\n      datas: [\r\n        {\r\n          nbmst: data.nbmst,\r\n          khmshdon: data.khmshdon,\r\n          khhdon: data.khhdon,\r\n          shdon: data.shdon,\r\n          id: data.id\r\n        }\r\n      ]\r\n    }\r\n    this.invoiceBuyService.checkInputInvoice(dataInvoice).subscribe(res => {\r\n      if (res.status == 'success') {\r\n        this.showStatus = true;\r\n        this.statusInvoice = res.data.invoices[0]\r\n      } else {\r\n        Library.notify(res.message, 'error')\r\n      }\r\n    }, error => {\r\n      Library.notify(error, 'error');\r\n    }, () => {\r\n      Library.hideloading();\r\n    })\r\n  }\r\n  open() {\r\n    this.bsModalSignRef = this.modalService.show(CaptchaUpdateComponent, { class: 'modal-md', backdrop: 'static', keyboard: false });\r\n  }\r\n  onExportSchedules(e) {\r\n    const selectedItem = e.component.option(\"selectedItem\");\r\n    this.objSearch.exportSchedulesDefault = selectedItem.code;\r\n    this.objSearch.startDate = selectedItem.startDate;\r\n    this.objSearch.endDate = selectedItem.endDate;\r\n  }\r\n  onEndDateTCT(e) {\r\n    if (e.event) {\r\n      const date = new Date(e.value);\r\n      const day = date.getDate();\r\n      const month = date.getMonth() + 1;\r\n      const year = date.getFullYear()\r\n      this.objSearch.endDate = e.value\r\n      let startDate = new Date(this.objSearch.startDate)\r\n      let countDate = (date.getTime() - startDate.getTime()) / (24 * 3600 * 1000);\r\n      if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\r\n        if (countDate > 31 || countDate < 0) {\r\n          this.minDate = date.getTime() - (24 * 3600 * 1000 * 30)\r\n          this.objSearch.startDate = date.getTime() - (24 * 3600 * 1000 * 30);\r\n        }\r\n      } else if (month == 2) {\r\n        if (year % 100 == 0 && year % 400 == 0) {\r\n          if (countDate > 29 || countDate < 0) {\r\n            this.minDate = date.getTime() - (24 * 3600 * 1000 * 28)\r\n            this.objSearch.startDate = date.getTime() - (24 * 3600 * 1000 * 28);\r\n          }\r\n        } else if (year % 4 == 0) {\r\n          if (countDate > 29 || countDate < 0) {\r\n            this.minDate = date.getTime() - (24 * 3600 * 1000 * 28)\r\n            this.objSearch.startDate = date.getTime() - (24 * 3600 * 1000 * 28);\r\n          }\r\n        } else {\r\n          if (countDate > 28 || countDate < 0) {\r\n            this.minDate = date.getTime() - (24 * 3600 * 1000 * 27)\r\n            this.objSearch.startDate = date.getTime() - (24 * 3600 * 1000 * 27);\r\n          }\r\n        }\r\n      } else {\r\n        if (countDate > 30 || countDate < 0) {\r\n          this.minDate = date.getTime() - (24 * 3600 * 1000 * 29)\r\n          this.objSearch.startDate = date.getTime() - (24 * 3600 * 1000 * 29);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  onStartDateTCT(e) {\r\n    if (e.event) {\r\n      const date = new Date(e.value)\r\n      const day = date.getDate();\r\n      const month = date.getMonth() + 1;\r\n      const year = date.getFullYear();\r\n      const today = new Date(moment().endOf('day').format('YYYY-MM-DD HH:mm:ss'))\r\n      let endDate = new Date(this.objSearch.endDate)\r\n      this.objSearch.startDate = e.value;\r\n      let countDate = (endDate.getTime() - date.getTime()) / (24 * 3600 * 1000);\r\n      if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\r\n        if (countDate > 31 || countDate < 0) {\r\n          this.minDate = e.value\r\n          this.objSearch.endDate = date.getTime() + (24 * 3600 * 1000 * 30);\r\n        } else {\r\n          this.minDate = e.value\r\n        }\r\n      } else if (month == 2) {\r\n        if (year % 100 == 0 && year % 400 == 0) {\r\n          if (countDate > 29 || countDate < 0) {\r\n            this.minDate = e.value\r\n            this.objSearch.endDate = date.getTime() + (24 * 3600 * 1000 * 28);\r\n          }\r\n          else {\r\n            this.minDate = e.value\r\n          }\r\n        } else if (year % 4 == 0) {\r\n          if (countDate > 29 || countDate < 0) {\r\n            this.minDate = e.value\r\n            this.objSearch.endDate = date.getTime() + (24 * 3600 * 1000 * 28);\r\n          } else {\r\n            this.minDate = e.value\r\n          }\r\n        } else {\r\n          if (countDate > 28 || countDate < 0) {\r\n            this.minDate = e.value\r\n            this.objSearch.endDate = date.getTime() + (24 * 3600 * 1000 * 27);\r\n          } else {\r\n            this.minDate = e.value\r\n          }\r\n        }\r\n      } else {\r\n        if (countDate > 30 || countDate < 0) {\r\n          this.minDate = e.value\r\n          this.objSearch.endDate = date.getTime() + (24 * 3600 * 1000 * 29);\r\n        } else {\r\n          this.minDate = e.value\r\n        }\r\n      }\r\n    }\r\n  }\r\n  onTestResultsChanged(e) {\r\n    this.objSearch.test_results = e.value;\r\n  }\r\n  onContentSearchChange(e) {\r\n    if (e.event) {\r\n      this.objSearch.contentSearch = e.value\r\n    }\r\n  }\r\n  paginationChange(e) {\r\n    this.objSearch.limit = e.value;\r\n    this.loadList(false)\r\n  }\r\n  next() {\r\n    document.getElementById('next').classList.remove('next-enable')\r\n    document.getElementById('next').setAttribute('disabled', '')\r\n    document.getElementById('prev').classList.remove('prev-enable')\r\n    document.getElementById('prev').setAttribute('disabled', '')\r\n    this.listState.push(this.objSearch.state)\r\n    if (this.currentPageNumber <= this.pageNumber) {\r\n      this.currentPageNumber++\r\n    }\r\n    this.loadList(true);\r\n  }\r\n  prev() {\r\n    document.getElementById('next').classList.remove('next-enable')\r\n    document.getElementById('next').setAttribute('disabled', '')\r\n    document.getElementById('prev').classList.remove('prev-enable')\r\n    document.getElementById('prev').setAttribute('disabled', '')\r\n    this.objSearch.state = this.listState[this.listState.length - 2]\r\n    this.listState.pop();\r\n    if (this.currentPageNumber >= 1) {\r\n      this.currentPageNumber--\r\n    }\r\n    this.loadList(true);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row search-section\\\">\\r\\n  <div class=\\\"col-md-8\\\" style=\\\"padding-right: 0px\\\">\\r\\n    <app-search-advanced (searchContentChange)=\\\"getSearch($event)\\\" [variableName]=\\\"this.isSearchUI\\\"\\r\\n      [isInvoiceBuy]=\\\"this.isInvoiceBuy\\\">\\r\\n    </app-search-advanced>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-4\\\" style=\\\"max-height: 70px\\\">\\r\\n    <div class=\\\"list-header row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"pull-right button-panel\\\">\\r\\n          <dx-menu style=\\\"margin-right: 8px!important;\\\" [dataSource]=\\\"dataAddInvoiceBuy\\\" displayExpr=\\\"name\\\"\\r\\n            orientation=\\\"horizontal\\\" submenuDirection=\\\"auto\\\" (onItemClick)=\\\"itemExtrasClick($event)\\\"\\r\\n            cssClass='button-dropdown-extend'>\\r\\n          </dx-menu>\\r\\n          <dx-menu [dataSource]=\\\"data_extras_invoice_buy\\\" displayExpr=\\\"name\\\" orientation=\\\"horizontal\\\"\\r\\n            style=\\\"margin-right: 8px!important;\\\" submenuDirection=\\\"auto\\\" (onItemClick)=\\\"itemExtrasClick($event)\\\"\\r\\n            cssClass='button-dropdown-extend'>\\r\\n          </dx-menu>\\r\\n          <dx-menu [dataSource]=\\\"extendInvoiceBuy\\\" displayExpr=\\\"name\\\" orientation=\\\"horizontal\\\" submenuDirection=\\\"auto\\\"\\r\\n            (onItemClick)=\\\"itemExtrasClick($event)\\\" cssClass='button-extend'>\\r\\n          </dx-menu>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<dx-data-grid id=\\\"gridContainerVat\\\" (onSelectionChanged)=\\\"selectionChanged($event)\\\" [dataSource]=\\\"dataSource\\\"\\r\\n  [showRowLines]=\\\"true\\\" [showBorders]=\\\"true\\\" [(selectedRowKeys)]=\\\"selectedRows\\\" [allowColumnResizing]=\\\"true\\\"\\r\\n  [columnResizingMode]=\\\"true\\\" [wordWrapEnabled]=\\\"true\\\" (onRowPrepared)=\\\"onRowPrepared($event)\\\">\\r\\n  <!-- <dxo-scrolling mode=\\\"virtual\\\"></dxo-scrolling> -->\\r\\n  <dxo-selection selectAllMode=\\\"{{pageSelect}}\\\" mode=\\\"multiple\\\"></dxo-selection>\\r\\n  <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel>\\r\\n  <!-- <dxo-state-storing [enabled]=\\\"true\\\" type=\\\"sessionStorage\\\" storageKey=\\\"vat\\\"></dxo-state-storing> -->\\r\\n  <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel>\\r\\n  <dxo-sorting mode=\\\"single\\\"></dxo-sorting>\\r\\n  <dxo-selection mode=\\\"multiple\\\"></dxo-selection>\\r\\n  <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n\\r\\n  <dxi-column cellTemplate=\\\"invoiceNumber\\\" dataField=\\\"invoice_number\\\"\\r\\n    caption=\\\"{{ 'GRID.INVOICE.invoice_number' | translate }}\\\" width=\\\"{{_translate.GRID_WIDTH.so_hoa_don}}\\\"\\r\\n    alignment=\\\"center\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\" sortOrder=\\\"desc\\\" [sortIndex]=\\\"1\\\"></dxi-column>\\r\\n\\r\\n  <dxi-column cellTemplate=\\\"templateCode\\\" [calculateFilterExpression]=\\\"calculateFilterExpression\\\"\\r\\n    caption=\\\"{{ 'GRID.INVOICE.template_code' | translate }}, {{ 'GRID.INVOICE.invoice_series' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.mau_so_ky_hieu}}\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n\\r\\n  <!-- <dxi-column dataField=\\\"template.invoice_series\\\" caption=\\\"{{ 'GRID.INVOICE.invoice_series' | translate }}\\\" [width]=\\\"79\\\" alignment=\\\"center\\\" [allowSorting]=\\\"false\\\" [allowFiltering]=\\\"false\\\"></dxi-column> -->\\r\\n  <dxi-column dataField=\\\"invoice_date\\\" caption=\\\"{{ 'GRID.INVOICE.invoice_date' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.ngay_hoa_don}}\\\" [editorOptions]=\\\"{useMaskBehavior:true}\\\" dataType=\\\"date\\\"\\r\\n    format=\\\"dd/MM/yyyy\\\" sortOrder=\\\"desc\\\" alignment=\\\"center\\\" [sortIndex]=\\\"0\\\"></dxi-column>\\r\\n\\r\\n  <dxi-column dataField=\\\"seller_tax_code\\\" caption=\\\"{{ 'GRID.INVOICE.MST_sales_unit' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.hanh_dong_4}}\\\" alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n  </dxi-column>\\r\\n  <dxi-column cellTemplate=\\\"customerName\\\" dataField=\\\"seller_legal_name\\\"\\r\\n    caption=\\\"{{ 'CONTROLL.LABEL.seller_unit' | translate }}\\\" alignment=\\\"left\\\" [filterOperations]=\\\"['=']\\\"\\r\\n    [allowFiltering]=\\\"true\\\">\\r\\n  </dxi-column>\\r\\n\\r\\n  <dxi-column dataField=\\\"total_payment\\\" caption=\\\"{{ 'GRID.INVOICE.total_payment' | translate }}\\\" dataType=\\\"number\\\"\\r\\n    alignment=\\\"right\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\" format=\\\"0,###.##\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.tong_tien}}\\\"></dxi-column>\\r\\n  <dxi-column caption=\\\"{{ 'GRID.INVOICE.status_invoice' | translate }}\\\" alignment=\\\"center\\\" dataField=\\\"adjustment_type\\\">\\r\\n    <dxo-lookup [dataSource]=\\\"adjustmentTypes\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n  </dxi-column>\\r\\n  <dxi-column dataField=\\\"status_tct\\\" caption=\\\"Hệ thống TCT\\\" alignment=\\\"center\\\">\\r\\n    <dxo-lookup [dataSource]=\\\"testResults\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\"></dxo-lookup>\\r\\n  </dxi-column>\\r\\n  <dxi-column dataField=\\\"note\\\" caption=\\\"{{'GRID.GENERAL.note' | translate }}\\\"\\r\\n    width=\\\"{{_translate.GRID_WIDTH.tong_tien_sau_thue}}\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n  <dxi-column cellTemplate=\\\"actionIcon\\\" minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\" width=\\\"149\\\" alignment=\\\"center\\\">\\r\\n  </dxi-column>\\r\\n  <div *dxTemplate=\\\"let d of 'templateCode'\\\">\\r\\n    <p>{{ d.data.template_code }}</p>\\r\\n    <p>{{ d.data.invoice_series }}</p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'invoiceNumber'\\\">\\r\\n    <a class=\\\"gach-chan\\\" (click)=\\\"edit(d.data)\\\" href=\\\"javascript:void(0)\\\">{{ d.data.invoice_number }}</a>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'customerName'\\\">\\r\\n    <!--    <p>{{ d.data.seller_legal_name || d.data.seller_legal_name }}</p>-->\\r\\n    <p>{{ d.data.seller_legal_name || d.data.seller_legal_name || _translate.GRID.INVOICE.invoice_wait_for_sign }}</p>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n    <a title=\\\"Link tra cứu\\\" class=\\\"timkiemIcon actionIcon\\\" (click)=\\\"search(d.data)\\\" href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.view_invoice}}\\\" class=\\\"xemIcon actionIcon\\\" (click)=\\\"view(d.data)\\\"\\r\\n      href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"edit(d.data)\\\"\\r\\n      href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n    <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"delete(d.data)\\\"\\r\\n      href=\\\"javascript:void(0)\\\">\\r\\n    </a>\\r\\n  </div>\\r\\n  <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n    <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n  </div>\\r\\n  <dxo-summary>\\r\\n    <dxi-total-item summaryType=\\\"custom\\\" [customizeText]=\\\"customizeText\\\" showInColumn=\\\"total_payment\\\">\\r\\n    </dxi-total-item>\\r\\n  </dxo-summary>\\r\\n  <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\" [filtering]=\\\"true\\\" [summary]=\\\"true\\\">\\r\\n  </dxo-remote-operations>\\r\\n  <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n  <dxo-pager [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[15, 50, 100]\\\" [showNavigationButtons]=\\\"true\\\"\\r\\n    [showInfo]=\\\"true\\\" infoText=\\\"{{ _translate.DXO_PAGER.page}}\\\">>\\r\\n  </dxo-pager>\\r\\n</dx-data-grid>\\r\\n<ngx-spinner bdColor=\\\"rgba(51,51,51,0.8)\\\" size=\\\"medium\\\" color=\\\"#fff\\\" type=\\\"timer\\\">\\r\\n  <p style=\\\"font-size: 20px; color: white\\\">Loading...</p>\\r\\n</ngx-spinner>\\r\\n\"","module.exports = \".chua-gui-khach-hang{color:red}.cho-ky{color:#008b8b}.gach-chan{text-decoration:underline}.search-section{padding-bottom:15px}.button-panel{margin-top:30px}.mainmenubtn{background-color:red;color:white;border:none;cursor:pointer;padding:20px;margin-top:20px}::ng-deep #gridContainerVat .dx-cell-focus-disabled{overflow:visible !important}::ng-deep #gridContainerVat .dx-datagrid-rowsview{overflow:visible}.timkiemIcon{background-image:url('link_sign.png');background-position-x:1px;background-position-y:6px;background-repeat:no-repeat;text-decoration:underline}::ng-deep .view-invoice{max-width:100%;margin:0px;height:100%}::ng-deep .button-extend .dx-menu-base .dx-menu-item .dx-menu-item-content .dx-icon{margin-right:7px}\\n\"","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { VatService } from '@modules/vat/shared';\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DxDataGridComponent, DxMenuComponent } from 'devextreme-angular';\r\nimport { Library } from '@core/library';\r\nimport { Helper } from '@core/helper/Helper';\r\nimport { VPreviewInvService } from '@core/library/invoice/v-preview-inv.service';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { UploadFileZipComponent } from '@modules/invoice-buy/shared/modal/upload-file-zip/upload-file-zip.component';\r\nimport { empty, forkJoin, from } from 'rxjs';\r\nimport { SocketService, sEnum } from '@core/index';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { ViewInvoiceMultipageComponent } from '@shared/index';\r\nimport { Invoice } from '@modules/invoice-buy/shared/class/invoice.model';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { VSelectBoxService } from '@core/library/public/v-select-box.service';\r\nimport { format } from 'url';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-list-invoice',\r\n  templateUrl: './list-invoice.component.html',\r\n  styleUrls: ['./list-invoice.component.scss']\r\n})\r\nexport class ListInvoiceComponent implements OnInit {\r\n  @ViewChild(DxMenuComponent) dxMenu: DxMenuComponent;\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  @Input() isHasPackage;\r\n  @ViewChild('expandMenu') expandMenu;\r\n  // dataSource: DataSource;\r\n  dataSource: any;\r\n  selectedRows: Array<any> = [];\r\n  selectedItems: Array<any> = [];\r\n  bsModalRef: BsModalRef;\r\n  listDM: any;\r\n  loaiHoaDon: string;\r\n  test = true;\r\n  isAccessExportInv = true;\r\n  invoice_releases = [];\r\n  paramSearch: string = null;\r\n  _language: string;\r\n  _translate: any;\r\n  checkSubmit: any;\r\n  extras = [];\r\n  extendInvoiceBuy: any = [];\r\n  data_extras_invoice_buy = [];\r\n  extend = [];\r\n  select: any = {};\r\n  configs: any;\r\n  disEditMulti = true;\r\n  system_parameter: any = {};\r\n  clickCurent = '';\r\n  isSearchUI: boolean;\r\n  isInvoiceBuy = true\r\n  dataAddInvoiceBuy = [];\r\n  paramsExportData: string = null;\r\n  ioSignature: Subscription;\r\n  frmData: Invoice = new Invoice('1');\r\n  testResults: any;\r\n  adjustmentTypes: any;\r\n  pageSelect: any;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private vatService: VatService,\r\n    private modalService: BsModalService,\r\n    private modalImportService: BsModalService,\r\n    public bsModalDocumentCancel: BsModalRef,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    public translate: TranslateService,\r\n    private invoiceBuyService: InvoiceBuyService,\r\n    private socketService: SocketService,\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this._language);\r\n    this.adjustmentTypes = VSelectBoxService._adjustmentTypes(this._translate);\r\n    this.testResults = [\r\n      { name: 'Chưa có', code: 'CHUA_CO' },\r\n      { name: 'Đã có', code: 'DA_CO' },\r\n      { name: 'Chưa kiểm tra', code: 'CHUA_KIEM_TRA' }\r\n    ];\r\n    this.data_extras_invoice_buy = [{\r\n      id: '1',\r\n      name: this._translate.CONTROLL.LABEL.export_data,\r\n      items: [\r\n        {\r\n          id: 'LIST_INVOICE_BUY',\r\n          name: this._translate.CONTROLL.LABEL.list_invoice_buy,\r\n          icon: this._translate.ICONS.excel\r\n        },\r\n        {\r\n          id: 'DETAILS_OF_EACH_GOODS_AND_SERVICE',\r\n          name: this._translate.CONTROLL.LABEL.details_of_each_goods_and_service,\r\n          icon: this._translate.ICONS.edit\r\n        },\r\n      ]\r\n    }];\r\n    this.dataAddInvoiceBuy = [{\r\n      id: '1',\r\n      name: this._translate.CONTROLL.BUTTON.add,\r\n      items: [\r\n        {\r\n          id: 'ADD_ONE_INVOICE',\r\n          name: this._translate.CONTROLL.LABEL.add_one_invoice,\r\n          icon: this._translate.ICONS.add_new\r\n        },\r\n        {\r\n          id: 'ADD_MULTIPLE_INVOICE',\r\n          name: this._translate.CONTROLL.LABEL.add_multiple_invoice,\r\n          icon: this._translate.ICONS.add_new\r\n        },\r\n      ]\r\n    }];\r\n    this.extendInvoiceBuy = [{\r\n      id: '1',\r\n      name: 'Mở rộng',\r\n      items: [\r\n        {\r\n          id: 'DELETE_MULTIPLE_INVOICE',\r\n          name: this._translate.CONTROLL.BUTTON.delete,\r\n          icon: this._translate.ICONS.delete\r\n        },\r\n        {\r\n          id: 'CHECK_MULTIPLE_INVOICE',\r\n          name: this._translate.CONTROLL.BUTTON.check_mutiple_invoice,\r\n          icon: this._translate.ICONS.tct_icon\r\n        },\r\n      ]\r\n    }];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.configs = this.authService.getConfigs();\r\n    if (this.configs.system_parameter.select_invoice_current_page)\r\n      this.pageSelect = \"page\";\r\n    else\r\n      this.pageSelect = \"allPages\";\r\n    this.connectWebsocket();\r\n    this.loadList();\r\n  }\r\n  ngOnDestroy() {\r\n    this.ioSignature.unsubscribe();\r\n    this.isInvoiceBuy = false;\r\n  }\r\n  connectWebsocket() {\r\n    this.ioSignature = this.socketService.lapHoaDon().subscribe(message => {\r\n    });\r\n  }\r\n  getSearch(e) {\r\n    this.paramSearch = e;\r\n    this.loadList(e);\r\n  }\r\n\r\n  async itemExtrasClick(e) {\r\n    let isCheckInitFee = await this.authService.checkInitialFee(sEnum.initial_fee.hoadonmuavao);\r\n    if (!isCheckInitFee)\r\n      return;\r\n    if (e.itemData.id === 'ADD_ONE_INVOICE') {\r\n      if (this.isHasPackage) {\r\n        this.router.navigate(['/system/invoice-buy/create']);\r\n      } else {\r\n        Library.notify(\"Vui lòng mua gói hóa đơn đầu vào để sử dụng chức năng này\", \"error\")\r\n      }\r\n    } else if (e.itemData.id === 'ADD_MULTIPLE_INVOICE') {\r\n      if (this.isHasPackage) {\r\n        this.importMultipleFile();\r\n      } else {\r\n        Library.notify(\"Vui lòng mua gói hóa đơn đầu vào để sử dụng chức năng này\", \"error\")\r\n      }\r\n    } else if (e.itemData.id === 'LIST_INVOICE_BUY') {\r\n      this.exportXLXS();\r\n    } else if (e.itemData.id === 'DETAILS_OF_EACH_GOODS_AND_SERVICE') {\r\n      this.exportDetails();\r\n    } else if (e.itemData.id === 'DELETE_MULTIPLE_INVOICE') {\r\n      this.delete();\r\n    }\r\n    else if (e.itemData.id === 'CHECK_MULTIPLE_INVOICE') {\r\n      this.checkInvoiceTCT();\r\n    }\r\n  }\r\n  // xu ly cho export XML chua xong\r\n  setParameExport() {\r\n    let dataValue;\r\n    const sort = '&sort[0][key]=invoice_date&sort[0][direction]=DESC';\r\n    const period = this.route.snapshot.queryParams.exportSchedulesDefault;\r\n    if (period === 'TAT_CA') {\r\n      dataValue = period + this.paramsExportData + sort;\r\n    } else {\r\n      const from_date = this.route.snapshot.queryParams.startDate;\r\n      const to_date = this.route.snapshot.queryParams.endDate;\r\n      dataValue = `${period}&options[from_date]=${from_date}&options[to_date]=${to_date}` + this.paramsExportData + sort;\r\n    }\r\n    return dataValue;\r\n  }\r\n\r\n  exportXLXS() {\r\n    Library.showloading();\r\n    this.invoiceBuyService.apiExportListInvoicebuy(this.setParameExport())\r\n      .subscribe(res => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.report;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n          Library.notify('Xuất file Excel thành công', 'success');\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n      }, error => Library.notify(error, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n  }\r\n\r\n  exportDetails() {\r\n    Library.showloading();\r\n    this.invoiceBuyService.apiExportDetailInvoicebuy(this.setParameExport())\r\n      .subscribe(res => {\r\n        if (res.status === 'success') {\r\n          const file = res.data.report;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n          Library.notify('Xuất file thành công', 'success');\r\n        } else {\r\n          Library.notify(res.message, 'error');\r\n        }\r\n      }, error => Library.notify(error, 'error'),\r\n        () => Library.hideloading()\r\n      );\r\n  }\r\n\r\n  async importMultipleFile() {\r\n    let isCheckInitFee = await this.authService.checkInitialFee(sEnum.initial_fee.hoadonmuavao);\r\n    if (!isCheckInitFee)\r\n      return;\r\n    this.bsModalDocumentCancel = this.modalService.show(UploadFileZipComponent, {\r\n      class: 'modal-lg full-modal', backdrop: 'static',\r\n      keyboard: false\r\n    });\r\n\r\n    this.modalService.onHide.subscribe(\r\n      () => {\r\n        if (this.bsModalDocumentCancel.content.LoadList === 'LoadList') {\r\n          this.loadList();\r\n          delete this.bsModalDocumentCancel.content.LoadList;\r\n        }\r\n      });\r\n  }\r\n\r\n  async edit(data) {\r\n    let isCheckInitFee = await this.authService.checkInitialFee(sEnum.initial_fee.hoadonmuavao);\r\n    if (!isCheckInitFee)\r\n      return;\r\n    const row = data ? data : this.selectedItems[0];\r\n    this.router.navigate([`/system/invoice-buy/edit-invoice/${row.id}`]);\r\n  }\r\n\r\n  async delete(data?) {\r\n    let isCheckInitFee = await this.authService.checkInitialFee(sEnum.initial_fee.hoadonmuavao);\r\n    if (!isCheckInitFee)\r\n      return;\r\n    if (this.selectedItems.length || data) {\r\n      let objData = {};\r\n      const ids = [];\r\n      const idsEmail = [];\r\n      const isInvoiveInMail = this.selectedItems.filter(item => item.input_invoice_mail_id !== null)\r\n      if (data) {\r\n        ids.push(data.id);\r\n        objData = {\r\n          ids: data.input_invoice_mail_id,\r\n          error_reason: \"Người dùng đã xóa hóa đơn từ danh sách hóa đơn đầu vào\",\r\n        }\r\n      } else {\r\n        this.selectedItems.map((item) => {\r\n          ids.push(item.id);\r\n          if (item.input_invoice_mail_id) {\r\n            idsEmail.push(item.input_invoice_mail_id)\r\n          }\r\n        });\r\n      }\r\n      if (Array.isArray(ids) && ids.length) {\r\n        const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            Library.showloading();\r\n            this.invoiceBuyService.deleteInvoiceId(ids).subscribe(rs => {\r\n              if (rs.status === 'success') {\r\n                if (data) {\r\n                  if (data.input_invoice_mail_id) {\r\n                    let ids = [];\r\n                    ids.push(data.input_invoice_mail_id)\r\n                    objData = {\r\n                      ids: ids,\r\n                      error_reason: \"Người dùng đã xóa hóa đơn từ danh sách hóa đơn đầu vào\",\r\n                    }\r\n                    this.invoiceBuyService.notReceived(objData).subscribe()\r\n                  }\r\n                } if (isInvoiveInMail.length > 0) {\r\n                  objData = {\r\n                    ids: idsEmail,\r\n                    error_reason: \"Người dùng đã xóa hóa đơn từ danh sách hóa đơn đầu vào\",\r\n                  }\r\n                  this.invoiceBuyService.notReceived(objData).subscribe()\r\n                }\r\n                Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                this.loadList();\r\n              } else {\r\n                Library.notify(rs.message, 'error');\r\n              }\r\n            }, err => {\r\n            }, () => {\r\n              Library.hideloading();\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        Library.notify('Không được xóa hóa đơn từ phần mềm ihoadon', 'error');\r\n      }\r\n    }\r\n  }\r\n\r\n  customizeText(e) {\r\n    const formatter = new Intl.NumberFormat('ja-JP');\r\n    let totalMoney = '0';\r\n    if (e && e.value) {\r\n      const _arr = e.value.split('&');\r\n      if (_arr.length > 1) {\r\n        // totalMoney = \"TTHĐ bán ra:\" + '\\n' + formatter.format(parseFloat(_arr[0] || \"0\"));\r\n        totalMoney = formatter.format(parseFloat(_arr[0] || '0'));\r\n        // if (_arr[1] != \"\")\r\n        //   totalMoney += '\\n' + \"TTHĐ giảm trừ:\" + '\\n' + formatter.format(parseFloat(_arr[1] || \"0\"));\r\n      }\r\n    }\r\n    return totalMoney;\r\n  }\r\n\r\n  selectionChanged(data: any) {\r\n    if (this.clickCurent) {\r\n      document.getElementById(this.clickCurent).classList.remove('show');\r\n    }\r\n    this.disEditMulti = true;\r\n    this.selectedItems = data.selectedRowsData;\r\n    if (this.selectedItems.length > 0) {\r\n      const checks = this.selectedItems.filter((item) => {\r\n        return item.number_of_vouchers;\r\n      });\r\n      const checkDaXuat = this.selectedItems.filter((item) => {\r\n        return item.status === 'DA_XUAT';\r\n      });\r\n      if (checks.length === this.selectedItems.length && checkDaXuat.length === 0) {\r\n        this.disEditMulti = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  onRowPrepared(e) {\r\n    if (e.rowType === 'data') {\r\n      switch (e.data.status) {\r\n        case 'DA_XUAT':\r\n          break;\r\n        case 'GHI_TAM':\r\n          if (e.data.invoice_number) {\r\n            e.rowElement.style.color = 'red';\r\n          } else {\r\n            e.rowElement.style.color = '#DEA960';\r\n          }\r\n          break;\r\n        case 'GIU_SO':\r\n          e.rowElement.style.color = '#008B8B';\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      if (e.data.adjustment_type === '2' || e.data.adjustment_type === '7' || e.data.adjustment_type === '6') {\r\n        const eles = e.rowElement.getElementsByTagName('td');\r\n        for (let i = 0; i < eles.length; i++) {\r\n          if (i !== 9 && i !== 1) {\r\n            eles[i].style.textDecoration = 'line-through';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  loadList(params?) {\r\n    this.dataSource = {};\r\n    const ref = {};\r\n    if (params) {\r\n      let data = params;\r\n      if (data.search('search_date') !== -1) {\r\n        data = data.replace(/search_date/gi, 'invoice_date');\r\n      }\r\n      if (data.search('customer_name') !== -1) {\r\n        data = data.replace(/customer_name/gi, 'seller_legal_name');\r\n      }\r\n      if (data.search('buyer_tax_code') !== -1) {\r\n        data = data.replace(/buyer_tax_code/gi, 'seller_tax_code');\r\n      }\r\n      if (data.search('invoice_products.product_name') !== -1) {\r\n        data = data.replace(/invoice_products.product_name/gi, 'input_invoice_products.product_name');\r\n      }\r\n      if (data.search('approve_status') !== -1) {\r\n        data = data.replace(/approve_status/gi, 'export_from_ihd');\r\n      }\r\n      const valueParam = data;\r\n      this.paramsExportData = valueParam;\r\n      this.dataSource.store = this.invoiceBuyService.getAll(valueParam);\r\n    } else {\r\n      this.dataSource.store = this.invoiceBuyService.getAll();\r\n    }\r\n  }\r\n\r\n  view(data) {\r\n    const row = data ? data : this.selectedItems[0];\r\n    Library.showloading();\r\n      let sub = this.invoiceBuyService.getInvoiceBuy(row.id).subscribe(\r\n        res => {\r\n          if (res.status === 'success') {\r\n            let fileData: Array<any> = [];\r\n            let obj = new Object;\r\n            obj[\"id\"] = Helper.makeid();\r\n            obj[\"file_name\"] = \"ihoadon_efyvietnam_9710\";\r\n            obj[\"file_server_id\"] = Helper.makeid();\r\n            obj[\"input_invoice_id\"] = Helper.makeid();\r\n            fileData.push(obj);\r\n            this.frmData = res.data.input_invoice;\r\n            let lstFile = res.data.input_invoice.input_invoice_files;\r\n            if (lstFile != null && lstFile.length > 0) {\r\n              lstFile.forEach(item => {\r\n                if (!item.file_name.includes('.xml'))\r\n                  fileData.push(item);\r\n              });\r\n            }\r\n            let ids = [];\r\n            ids.push(row.id);\r\n            let initialState = {\r\n              items: fileData,\r\n              isXuatHD: false,\r\n              hinhthucxuat: '',\r\n              typeAction: sEnum.typeCode.hoa_don_mua_vao_khac,\r\n              frmData: this.frmData,\r\n              fileData: lstFile\r\n            };\r\n            if (row.export_from_ihd == \"1\") {\r\n              initialState = {\r\n                items: ids,\r\n                isXuatHD: false,\r\n                hinhthucxuat: '',\r\n                typeAction: sEnum.typeCode.hoa_don_mua_vao_efy,\r\n                frmData: this.frmData,\r\n                fileData: fileData\r\n              };\r\n            }\r\n            if (data.export_from_tct == '1') {\r\n              initialState = {\r\n                items: fileData,\r\n                isXuatHD: false,\r\n                hinhthucxuat: '',\r\n                typeAction: sEnum.typeCode.hoa_don_mua_vao_khac,\r\n                frmData: this.frmData,\r\n                fileData: lstFile,\r\n              };\r\n            }\r\n            this.bsModalRef = this.modalImportService.show\r\n              (\r\n                ViewInvoiceMultipageComponent,\r\n                {\r\n                  backdrop: 'static',\r\n                  keyboard: false,\r\n                  class: 'modal-xl view-invoice',\r\n                  initialState\r\n                }\r\n              );\r\n            const subModal = this.modalImportService.onHide.subscribe(() => {\r\n              subModal.unsubscribe();\r\n            });\r\n          }\r\n          else {\r\n            Library.notify(res.message, 'error');\r\n          }\r\n        },\r\n        error => {\r\n          Library.notify(error, 'error');\r\n        }, () => {\r\n          Library.hideloading();\r\n        }\r\n      );\r\n  }\r\n\r\n  setUrlNavigate() {\r\n    const url = window.location.pathname;\r\n    if (sessionStorage.hasOwnProperty('urlIndex')) {\r\n      if (sessionStorage.getItem('urlIndex') !== null) {\r\n        sessionStorage.setItem('urlIndex', url);\r\n      } else {\r\n        sessionStorage.setItem('urlIndex', url);\r\n      }\r\n    } else {\r\n      sessionStorage.setItem('urlIndex', url);\r\n    }\r\n  }\r\n  search(data) {\r\n    if (data.export_from_ihd == '1') {\r\n      const win = window.open('https://ihoadon.vn/kiem-tra/?shd=' + data.invoice_number + \"&mtc=\" + data.lookup_code, '_blank');\r\n      win.focus();\r\n    }\r\n    else {\r\n      if (data.lookup_link) {\r\n        const win = window.open(data.lookup_link, '_blank');\r\n        win.focus();\r\n      }\r\n      else\r\n        Library.notify(\"Hóa đơn chưa nhập link tra cứu. Vui lòng kiểm tra lại\", 'error');\r\n    }\r\n  }\r\n  checkInvoiceTCT() {\r\n    Library.showloading()\r\n    let data:any = {\r\n      // datas: []\r\n    }\r\n    if (this.selectedItems.length > 0) {\r\n      let data = [];\r\n      this.selectedItems.forEach((item) => {\r\n        data.push(this.invoiceBuyService.checkInputInvoiceTct({id: item.id ? item.id : null}))\r\n      })\r\n\r\n      forkJoin(data).subscribe(\r\n        (result) => {\r\n          Library.notify(\"Kiểm tra thành công\", 'success');\r\n          this.loadList(this.paramSearch);\r\n          this.dataGrid.instance.clearSelection();\r\n        },\r\n        (error) => {\r\n          Library.notify(error, 'error');\r\n        },\r\n        () => {\r\n          Library.hideloading();\r\n        }\r\n\r\n      )\r\n    } else {\r\n      Library.notify(\"Vui lòng chọn hóa đơn\", 'error');\r\n    }\r\n  }\r\n\r\n\r\n  calculateFilterExpression(filterValue, selectedFilterOperation) {\r\n    selectedFilterOperation = \"contains\"; //Helper.multilfilterColumn;\r\n    return [[\"invoice_series\", selectedFilterOperation || '=', filterValue],'or', [\"template_code\",selectedFilterOperation || '=', filterValue]];\r\n  }\r\n}\r\n","module.exports = \"<vertical-split-pane primary-component-minsize=\\\"580\\\" secondary-component-minsize=\\\"500\\\"\\r\\n    primary-component-initialratio=\\\"0.45\\\">\\r\\n    <div class=\\\"split-pane-content-primary\\\">\\r\\n        <div style=\\\"display: flex; justify-content: space-between; align-items: center; padding-bottom: 5px;\\\">\\r\\n            <dx-check-box class=\\\"check-box\\\" (onOptionChanged)=\\\"handlePropertyChange($event)\\\"></dx-check-box>\\r\\n            <app-search-mail style=\\\"flex: 1;\\\" (searchContentChange)=\\\"getSearch($event)\\\" (selectMail)=\\\"getMail($event)\\\"\\r\\n                [isMailReceived]=\\\"isMailReceived\\\" (isMail)=\\\"isMail($event)\\\" [isSelected]=\\\"isSelected\\\"></app-search-mail>\\r\\n            <div style=\\\"display: flex; align-items: center;\\\" *ngIf=\\\"this.isMailReceived.listDelete\\\">\\r\\n                <button class=\\\"blue-btn\\\" *ngIf=\\\"!isSelected\\\" (click)=\\\"convertToPullMail()\\\"> <img\\r\\n                        src=\\\"../../../../../assets/img/icons/invoice-buy/get_email.svg\\\" alt=\\\"\\\">Lấy email</button>\\r\\n                <button class=\\\"blue-btn\\\" *ngIf=\\\"isSelected\\\" (click)=\\\"nhanHoaDon()\\\" [ngClass]=\\\"this.receivedBtn\\\"><img\\r\\n                        src=\\\"../../../../../assets/img/icons/invoice-buy/yes.svg\\\" alt=\\\"\\\"> Nhận\\r\\n                    HĐ</button>\\r\\n                <button class=\\\"blue-btn\\\" *ngIf=\\\"isSelected\\\" (click)=\\\"noReceived()\\\" [ngClass]=\\\"this.noReceivedBtn\\\"> <img\\r\\n                        src=\\\"../../../../../assets/img/icons/invoice-buy/no.svg\\\" alt=\\\"\\\">Không\\r\\n                    nhận HĐ</button>\\r\\n                <button class=\\\"red-btn\\\" *ngIf=\\\"isSelected\\\" [ngClass] = \\\"deleteBtn\\\"> <img\\r\\n                        src=\\\"../../../../../assets/img/icons/invoice-buy/delete.svg\\\" alt=\\\"\\\"\\r\\n                        (click)=\\\"deleteMail()\\\"></button>\\r\\n            </div>\\r\\n            <div style=\\\"display: flex; align-items: center;\\\" *ngIf=\\\"!this.isMailReceived.listDelete\\\">\\r\\n                <button class=\\\"blue-btn\\\" *ngIf=\\\"isSelected\\\" (click)=\\\"restore()\\\"> <img\\r\\n                        src=\\\"../../../../../assets/img/icons/invoice-buy/restore.svg\\\" alt=\\\"\\\">Khôi phục</button>\\r\\n                <button class=\\\"red-btn\\\" *ngIf=\\\"isSelected\\\"> <img\\r\\n                        src=\\\"../../../../../assets/img/icons/invoice-buy/delete.svg\\\" alt=\\\"\\\"\\r\\n                        (click)=\\\"deleteMail()\\\" [ngClass] = \\\"deleteBtn\\\"></button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <dx-data-grid id=\\\"gridContainerVat\\\" [dataSource]=\\\"dataSource\\\" (onRowPrepared)=\\\"onRowPrepared($event)\\\"\\r\\n            [showBorders]=\\\"true\\\" [showRowLines]=\\\"true\\\" [showColumnLines]=\\\"false\\\" [allowColumnResizing]=\\\"true\\\"\\r\\n            (onSelectionChanged)=\\\"selectionChanged($event)\\\" [columnResizingMode]=\\\"true\\\" [wordWrapEnabled]=\\\"true\\\"\\r\\n            [showColumnHeaders]=\\\"false\\\" [(selectedRowKeys)]=\\\"selectedRows\\\">\\r\\n            <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel>\\r\\n            <dxo-sorting mode=\\\"single\\\"></dxo-sorting>\\r\\n            <dxo-selection mode=\\\"multiple\\\"></dxo-selection>\\r\\n            <dxi-column cellTemplate=\\\"content-mail\\\" dataField=\\\"invoice_number\\\"></dxi-column>\\r\\n            <div *dxTemplate=\\\"let d of 'content-mail'\\\">\\r\\n                <div class=\\\"content-table\\\">\\r\\n                    <div class=\\\"content-email\\\">\\r\\n                        <div style=\\\"display:flex; align-items: center;\\\">\\r\\n                            <span class=\\\"name\\\">{{d.data.sender_name}}</span>\\r\\n                            <span title=\\\"{{d.data.subject}}\\\" class=\\\"title\\\">{{d.data.subject}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"btn-container\\\">\\r\\n                            <button class=\\\"btn-action\\\" [ngClass]=\\\"d.data.status\\\"><a title=\\\"{{d.data.error_reason}}\\\"\\r\\n                                    style=\\\"text-decoration: none; color: black;\\\">{{d.data.status |\\r\\n                                    diaryType}}</a></button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"action-container\\\">\\r\\n                        <div class=\\\"action-icon\\\" *ngIf=\\\"this.isMailReceived.listDelete\\\">\\r\\n                            <a title=\\\"{{_translate.CONTROLL.BUTTON.receive_bill}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n                                (click)=\\\"nhanHoaDon(d.data)\\\" *ngIf=\\\"d.data.status !== 'HOP_LE'\\\">\\r\\n                                <img src=\\\"../../../../../assets/img/icons/invoice-buy/nhan_hd.svg\\\" alt=\\\"\\\">\\r\\n                            </a>\\r\\n                            <a title=\\\"{{_translate.CONTROLL.BUTTON.no_receipt}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n                                *ngIf=\\\"d.data.status !== 'KHONG_HOP_LE'\\\" (click)=\\\"noReceived(d.data.id)\\\">\\r\\n                                <img src=\\\"../../../../../assets/img/icons/invoice-buy/khong_nhan_hd.svg\\\" alt=\\\"\\\">\\r\\n                            </a>\\r\\n                            <!-- <a title=\\\"{{_translate.CONTROLL.BUTTON.forward}}\\\" href=\\\"javascript:void(0)\\\">\\r\\n                                <img src=\\\"../../../../../assets/img/icons/invoice-buy/share.svg\\\" alt=\\\"\\\">\\r\\n                            </a> -->\\r\\n                            <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n                                (click)=\\\"deleteMail(d.data.id)\\\" *ngIf=\\\"d.data.status !== 'HOP_LE'\\\">\\r\\n                                <img src=\\\"../../../../../assets/img/icons/invoice-buy/delete-1.svg\\\" alt=\\\"\\\">\\r\\n                            </a>\\r\\n                        </div>\\r\\n                        <div class=\\\"action-icon\\\" *ngIf=\\\"!this.isMailReceived.listDelete\\\">\\r\\n                            <a title=\\\"{{_translate.CONTROLL.BUTTON.restore}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n                                (click)=\\\"restore(d.data.id)\\\">\\r\\n                                <img src=\\\"../../../../../assets/img/icons/invoice-buy/restore-1.svg\\\" alt=\\\"\\\">\\r\\n                            </a>\\r\\n                            <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n                                (click)=\\\"deleteMail(d.data.id)\\\">\\r\\n                                <img src=\\\"../../../../../assets/img/icons/invoice-buy/delete-1.svg\\\" alt=\\\"\\\">\\r\\n                            </a>\\r\\n                        </div>\\r\\n                        <span>{{d.data.send_date | date: 'dd/MM/yyyy'}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\" [filtering]=\\\"true\\\">\\r\\n            </dxo-remote-operations>\\r\\n            <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n            <dxo-pager [visible]=\\\"true\\\" [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[15, 50, 100]\\\" [showNavigationButtons]=\\\"true\\\"\\r\\n                [showInfo]=\\\"true\\\" infoText=\\\"{{ _translate.DXO_PAGER.page_strong}}\\\" displayMode=\\\"compact\\\">\\r\\n            </dxo-pager>\\r\\n        </dx-data-grid>\\r\\n        <ngx-spinner bdColor=\\\"rgba(51,51,51,0.8)\\\" size=\\\"medium\\\" color=\\\"#fff\\\" type=\\\"timer\\\">\\r\\n            <p style=\\\"font-size: 20px; color: white\\\">Loading...</p>\\r\\n        </ngx-spinner>\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"split-pane-content-secondary\\\">\\r\\n        <div class=\\\"right\\\">\\r\\n            <div class=\\\"email-review-none\\\" *ngIf=\\\"!is_preview\\\">\\r\\n                <img src=\\\"../../../../../assets/img/icons/invoice-buy/empty_box.png\\\" alt=\\\"\\\">\\r\\n                <span>Không có nội dung</span>\\r\\n            </div>\\r\\n            <app-preview-mail *ngIf=\\\"is_preview\\\" class=\\\"email-preview\\\" [previewEmmail]=\\\"previewEmmail\\\"\\r\\n                [isMailReceived]=\\\"isMailReceived\\\" (myDropdown)=\\\"myDropdown($event)\\\">\\r\\n            </app-preview-mail>\\r\\n        </div>\\r\\n    </div>\\r\\n</vertical-split-pane>\\r\\n<dx-popup class=\\\"popup\\\" [width]=\\\"550\\\" [height]=\\\"195\\\" [showTitle]=\\\"true\\\" title=\\\"{{ _translate.NOTIFY.processing }}\\\"\\r\\n    [dragEnabled]=\\\"false\\\" (onShowing)=\\\"onImportShowing($event)\\\" (onHiding)=\\\"onImportHiding($event)\\\"\\r\\n    [(visible)]=\\\"isShowProgressBar\\\">\\r\\n    <div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n        <div style=\\\"height: 30px;\\\">\\r\\n            <dx-progress-bar (onContentReady)=\\\"styleProgressBar($event)\\\" [min]=\\\"0\\\" [max]=\\\"100\\\" [value]=\\\"valueProgress\\\"\\r\\n                [statusFormat]=\\\"formata\\\">\\r\\n            </dx-progress-bar>\\r\\n        </div>\\r\\n    </div>\\r\\n</dx-popup>\"","module.exports = \".check-box{margin-left:14px}.blue-btn{background-color:#2680eb;color:white;padding:7px 13px;border-radius:3px;border:none;outline:none;font-weight:500;display:flex;align-items:center;font-size:13px;font-family:'Roboto';margin-left:10px}.blue-btn img{padding-right:8px}.disabled-btn{cursor:not-allowed;pointer-events:none;background-color:#AFD3FB}.none-delete{background-color:#fd9e9e !important;cursor:not-allowed;pointer-events:none}.red-btn{background-color:red;color:white;border-radius:5px;padding:7px;border:none;display:flex;align-items:center;font-weight:500;font-size:13px;font-family:'Roboto';margin-left:10px}.split-pane-content-secondary{height:100%}.right{height:100%;width:100%;display:flex}.right .email-review-none{display:flex;flex:1;align-items:center;justify-content:center;flex-direction:column;width:100vh}.right .email-review-none img{width:174px}.right .email-review-none span{font-size:13px;padding-top:15px;color:gray}.right .email-preview{width:100%}#gridContainerVat{width:100%;height:calc(100vh - 229px)}.content-table{display:flex;justify-content:space-between;height:100%}.content-table .content-email{display:flex;flex-direction:column;justify-content:space-between;flex:1;height:100%;width:77%}.content-table .content-email .btn-container .btn-action{padding:3px 9px;font-size:12px;border:none;border-radius:5px;font-weight:600;border-radius:10px;margin-top:9px}.content-table .content-email .name{font-size:13px;font-weight:bold;margin-right:10px}.content-table .content-email .title{width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:black;text-decoration:none}.content-table .action-container{display:flex;justify-content:space-between;flex-direction:column;height:auto;align-items:flex-end;min-width:100px}.content-table .action-container .action-icon{display:flex}.content-table .action-container .action-icon img{padding-left:10px}.KHONG_HOP_LE{background:#ffab91}.CHUA_NHAN{background:#ffe082}.HOP_LE{background:#a5d6a7}\\n\"","import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { el } from '@angular/platform-browser/testing/src/browser_util';\r\nimport { Library } from '@core/library';\r\nimport { AuthService } from '@core/services';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { collapseTextChangeRangesAcrossMultipleVersions } from 'typescript';\r\ndeclare var $: any;\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { t } from '@angular/core/src/render3';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-list-mail-received',\r\n  templateUrl: './list-mail-received.component.html',\r\n  styleUrls: ['./list-mail-received.component.scss']\r\n})\r\nexport class ListMailReceivedComponent implements OnInit {\r\n  dataSource: any = {};\r\n  customizeText: any;\r\n  _translate: any;\r\n  format: any\r\n  isSelected = false;\r\n  showPopupImport = false;\r\n  valueProgress: number = 0;\r\n  selectedRows: Array<any> = [];\r\n  mailID: any;\r\n  _language: string;\r\n  mailStatus: any;\r\n  isShowButtonPanel = false;\r\n  checkBoxValue = false;\r\n  valueProgressMax: number;\r\n  previewEmmail: any;\r\n  isShowProgressBar = false;\r\n  data: any;\r\n  listMailCount = 0;\r\n  subPullMail: any;\r\n  currentUser: any;\r\n  countInvoice = 0;\r\n  is_preview = false;\r\n  listMail = [];\r\n  search: any;\r\n  noReceivedBtn: any;\r\n  receivedBtn: any;\r\n  isMails: any;\r\n  deleteBtn: any;\r\n  newData: any;\r\n  selectedItems: Array<any> = [];\r\n  @Input() isMailReceived;\r\n  @Input() isHasPackage;\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  @Output(\"currentMail\") currentMail = new EventEmitter<any>();\r\n  pageN = 'compact';\r\n  constructor(private authService: AuthService,\r\n    public translate: TranslateService,\r\n    private invoiceBuyService: InvoiceBuyService,\r\n    private spinner: NgxSpinnerService,\r\n    private router: Router\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this._language);\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n  loadList(params?) {\r\n    this.dataSource = {};\r\n    this.dataSource.store = this.invoiceBuyService.getALlEmail(params)\r\n  }\r\n  getSearch(e) {\r\n    this.loadList(e);\r\n    this.search = e;\r\n  }\r\n  isMail(e) {\r\n    this.isMails = e;\r\n  }\r\n  onRowPrepared(e) {\r\n\r\n  }\r\n  styleProgressBar(e) {\r\n\r\n  }\r\n\r\n  myDropdown(e) {\r\n    if (e.isTrue) {\r\n      this.loadList(this.search);\r\n      this.loadPreviewMail(e.idMail);\r\n      setTimeout(() => {\r\n        this.newData = this.dataGrid.instance.getSelectedRowsData();\r\n      }, 1000);\r\n      setTimeout(() => {\r\n        switch (e.action) {\r\n          case \"khong_nhan_hd\":\r\n            this.noReceivedBtn = \"disabled-btn\";\r\n            this.receivedBtn = \"\";\r\n            this.deleteBtn = \"\";\r\n            break;\r\n          case \"nhan_hd\":\r\n            if (this.newData[0].status === 'KHONG_HOP_LE') {\r\n              this.noReceivedBtn = \"disabled-btn\";\r\n              this.receivedBtn = \"\";\r\n              this.deleteBtn = \"\";\r\n            } else {\r\n              this.noReceivedBtn = \"\";\r\n              this.receivedBtn = \"disabled-btn\";\r\n              this.deleteBtn = \"none-delete\";\r\n            }\r\n            break;\r\n          case \"\":\r\n            break;\r\n          case \"\":\r\n            break;\r\n        }\r\n      }, 1100);\r\n    }\r\n  }\r\n  loadPreviewMail(id) {\r\n    let filter = `&filter_groups[1][filters][0][key]=id\r\n    &filter_groups[1][filters][0][value]=${id}\r\n    &filter_groups[1][filters][0][operator]=eq&`\r\n    this.invoiceBuyService.getEmailPreview(filter).subscribe(res => {\r\n      if (res.status == \"success\") {\r\n        this.previewEmmail = res.data.input_invoice_mails[0]\r\n        this.is_preview = true;\r\n      }\r\n      else {\r\n        Library.notify(res.message, 'error')\r\n      }\r\n    })\r\n  }\r\n  handlePropertyChange(e) {\r\n    if (e.value) {\r\n      this.dataGrid.instance.selectAll();\r\n    }\r\n    else {\r\n      this.dataGrid.instance.clearSelection();\r\n    }\r\n  }\r\n  selectionChanged(e) {\r\n    this.selectedItems = e.selectedRowsData;\r\n    if (e.selectedRowsData.length > 0) {\r\n      this.isSelected = true\r\n      const KHONG_HOP_LE = this.selectedItems.filter(item => item.status == 'KHONG_HOP_LE')\r\n      const HOP_LE = this.selectedItems.filter(item => item.status == 'HOP_LE')\r\n      if (e.selectedRowsData.length === 1) {\r\n        let id = e.selectedRowsData[0].id\r\n        this.loadPreviewMail(id)\r\n        if (KHONG_HOP_LE.length > 0) {\r\n          this.noReceivedBtn = \"disabled-btn\"\r\n        } else {\r\n          this.noReceivedBtn = \"\"\r\n        }\r\n        if (HOP_LE.length > 0) {\r\n          this.receivedBtn = \"disabled-btn\"\r\n          this.deleteBtn = \"none-delete\"\r\n        } else {\r\n          this.receivedBtn = \"\"\r\n          this.deleteBtn = \"\"\r\n        }\r\n      }\r\n      else {\r\n        this.is_preview = false\r\n        if (KHONG_HOP_LE.length > 0) {\r\n          this.noReceivedBtn = \"disabled-btn\"\r\n        } else {\r\n          this.noReceivedBtn = \"\"\r\n        }\r\n        if (HOP_LE.length > 0) {\r\n          this.receivedBtn = \"disabled-btn\"\r\n          this.deleteBtn = \"none-delete\"\r\n        } else {\r\n          this.receivedBtn = \"\"\r\n          this.deleteBtn = \"\"\r\n        }\r\n      }\r\n    } else {\r\n      this.is_preview = false;\r\n      this.isSelected = false;\r\n    }\r\n  }\r\n  getMail(e) {\r\n    this.mailID = e;\r\n    let filter = `&filter_groups[1][filters][0][key]=id\r\n      &filter_groups[1][filters][0][value]=${this.mailID}\r\n      &filter_groups[1][filters][0][operator]=eq&`\r\n    this.invoiceBuyService.getEmailAccount(filter).subscribe(res => {\r\n      this.mailStatus = res.data.config_mails[0].status\r\n    })\r\n    this.currentMail.emit(e)\r\n  }\r\n  onImportShowing(e) {\r\n    this.valueProgress = 0;\r\n  }\r\n  onImportHiding(e) {\r\n    let r = true;\r\n    if (this.valueProgress < 100) {\r\n      r = confirm(\"Cảnh báo: Quá trình nạp dữ liệu sẽ dừng lại nếu bạn đóng cửa sổ này\");\r\n    }\r\n    if (r) {\r\n      if (this.subPullMail) {\r\n        this.subPullMail.unsubscribe();\r\n      }\r\n      this.valueProgress = 0;\r\n    } else {\r\n      e.cancel = true;\r\n    }\r\n  }\r\n  pullMail() {\r\n    this.isShowProgressBar = true;\r\n    let percentComplete = 100 / this.valueProgressMax;\r\n    this.subPullMail = this.invoiceBuyService.pullMailByUid(this.listMail[this.countInvoice]).subscribe(res => {\r\n      if (res.status == 'success') {\r\n        this.valueProgress += percentComplete;\r\n        if (this.countInvoice < this.valueProgressMax - 1) {\r\n          this.countInvoice++;\r\n          this.pullMail()\r\n        } else if (this.countInvoice == this.valueProgressMax - 1) {\r\n          Library.notify(\"Tải thành công\", \"success\");\r\n          this.isShowProgressBar = false;\r\n          this.loadList(this.search)\r\n        }\r\n      } else {\r\n        this.isShowProgressBar = false;\r\n        Library.notify(res.message, \"error\");\r\n      }\r\n      // else {\r\n      //   this.valueProgress = this.countInvoice;\r\n      //   Library.notify(res.message, 'error')\r\n      //   if (this.countInvoice < this.listMailCount) {\r\n      //     this.isShowButtonPanel = true;\r\n      //     this.countInvoice++;\r\n      //   } else if (this.countInvoice == this.listMailCount) {\r\n      //     this.isShowButtonPanel = false;\r\n      //     Library.notify(\"Quá trình tải hoàn tất\", \"success\");\r\n      //     this.subPullMail.unsubscribe();\r\n      //   }\r\n      // }\r\n    })\r\n  }\r\n  convertToPullMail() {\r\n    if (this.isMails) {\r\n      if (this.mailStatus == '1') {\r\n        let mail = {\r\n          config_mail_id: this.mailID\r\n        };\r\n        this.spinner.show();\r\n        this.invoiceBuyService.getUidMail(mail).subscribe(res => {\r\n          if (res.status == \"success\") {\r\n            let listMailArray = []\r\n            let isEmpty = Object.keys(res.data)\r\n            if (isEmpty.length > 0) {\r\n              this.data = res.data;\r\n              const arrData = Object.keys(this.data)\r\n              arrData.forEach(element => {\r\n                let fieldName = element\r\n                let arrUid = this.data[fieldName]\r\n                arrUid.forEach(item => {\r\n                  let ojb = {\r\n                    config_mail_id: this.mailID,\r\n                    uid: item,\r\n                    folder: fieldName\r\n                  }\r\n                  listMailArray.push(ojb);\r\n                })\r\n              });\r\n              this.listMail = listMailArray;\r\n              this.valueProgressMax = listMailArray.length;\r\n              this.spinner.hide();\r\n              this.pullMail();\r\n            } else {\r\n              this.spinner.hide();\r\n              Library.notify('Không có thư mới', 'error')\r\n            }\r\n          } else {\r\n            this.spinner.hide();\r\n            Library.notify(res.message, \"error\")\r\n\r\n          }\r\n        })\r\n      }\r\n      else {\r\n        this.spinner.hide();\r\n        Library.notify(this._translate.NOTIFY.email_notify, \"error\")\r\n      }\r\n    } else {\r\n      const result = Library.confirm(this._translate.CONFIRM.email_config, this._translate.NOTIFY.email_config);\r\n      result.then((dialogResult) => {\r\n        if (dialogResult) {\r\n          Library.showloading();\r\n          this.router.navigate(['system/configs', { type: 'mail' }])\r\n        }\r\n      });\r\n    }\r\n  }\r\n  formata = (value) => {\r\n    let percent = Math.round(value * 100);\r\n    return 'Hoàn thành: ' + percent + '%';\r\n  }\r\n  deleteMail(id) {\r\n    let deleteItem = this.dataGrid.instance.getSelectedRowsData();\r\n    let arrId = [];\r\n    let ojb = {};\r\n    if (id) {\r\n      arrId.push(id)\r\n      if (this.isMailReceived.listDelete) {\r\n        ojb = {\r\n          \"soft_del\": true,\r\n          \"ids\": arrId\r\n        }\r\n      } else {\r\n        ojb = {\r\n          \"soft_del\": false,\r\n          \"ids\": arrId\r\n        }\r\n      }\r\n      const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n      result.then((dialogResult) => {\r\n        if (dialogResult) {\r\n          Library.showloading();\r\n          this.invoiceBuyService.deleteMailId(ojb).subscribe(rs => {\r\n            if (rs.status === 'success') {\r\n              Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n              this.loadList(this.search);\r\n            } else {\r\n              Library.notify(rs.message, 'error');\r\n            }\r\n          }, err => {\r\n          }, () => {\r\n            Library.hideloading();\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      for (let i = 0; i < deleteItem.length; i++) {\r\n        arrId.push(deleteItem[i].id)\r\n      }\r\n      if (this.isMailReceived.listDelete) {\r\n        ojb = {\r\n          \"soft_del\": true,\r\n          \"ids\": arrId\r\n        }\r\n      } else {\r\n        ojb = {\r\n          \"soft_del\": false,\r\n          \"ids\": arrId\r\n        }\r\n      }\r\n      if (deleteItem.length === 0) {\r\n        Library.notify(this._translate.NOTIFY.no_record_selected, 'error');\r\n      } else {\r\n        const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            Library.showloading();\r\n            this.invoiceBuyService.deleteMailId(ojb).subscribe(rs => {\r\n              if (rs.status === 'success') {\r\n                Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                this.loadList(this.search);\r\n              } else {\r\n                Library.notify(rs.message, 'error');\r\n              }\r\n            }, err => {\r\n            }, () => {\r\n              Library.hideloading();\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  noReceived(id) {\r\n    if (id) {\r\n      let arrId = [];\r\n      arrId.push(id)\r\n      const result = Library.confirm(this._translate.CONFIRM.definitely_do_not_receive, this._translate.NOTIFY.notify);\r\n      result.then((dialogResult) => {\r\n        if (dialogResult) {\r\n          Library.showloading();\r\n          let obj = {\r\n            ids: arrId,\r\n            error_reason: \"Người dùng đã chuyển trạng thái email thành không hợp lệ\",\r\n          }\r\n          this.invoiceBuyService.notReceived(obj).subscribe(rs => {\r\n            if (rs.status === 'success') {\r\n              Library.notify(this._translate.NOTIFY.finish, 'success');\r\n              this.noReceivedBtn = \"disabled-btn\";\r\n              this.receivedBtn = \"\";\r\n              this.deleteBtn = \"\";\r\n              this.loadList(this.search);\r\n              this.loadPreviewMail(arrId[0])\r\n            } else {\r\n              Library.notify(rs.message, 'error');\r\n            }\r\n          }, err => {\r\n          }, () => {\r\n            Library.hideloading();\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      let deleteItem = this.dataGrid.instance.getSelectedRowsData();\r\n      let arrId = [];\r\n      for (let i = 0; i < deleteItem.length; i++) {\r\n        arrId.push(deleteItem[i].id)\r\n      }\r\n      if (deleteItem.length === 0) {\r\n        Library.notify('Chưa bản ghi nào được chọn', 'error');\r\n      } else {\r\n        const result = Library.confirm(this._translate.CONFIRM.definitely_do_not_receive, this._translate.NOTIFY.notify);\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            Library.showloading();\r\n            let obj = {\r\n              ids: arrId,\r\n              error_reason: \"Người dùng đã chuyển trạng thái email thành không hợp lệ\",\r\n            }\r\n            this.invoiceBuyService.notReceived(obj).subscribe(rs => {\r\n              if (rs.status === 'success') {\r\n                Library.notify(this._translate.NOTIFY.finish, 'success');\r\n                this.loadList(this.search);\r\n                if (arrId.length === 1) {\r\n                  this.noReceivedBtn = \"disabled-btn\";\r\n                  this.receivedBtn = \"\";\r\n                  this.deleteBtn = \"\";\r\n                  this.loadPreviewMail(arrId[0])\r\n                }\r\n              } else {\r\n                Library.notify(rs.message, 'error');\r\n              }\r\n            }, err => {\r\n            }, () => {\r\n              Library.hideloading();\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  restore(id) {\r\n    if (id) {\r\n      let arrId = [];\r\n      arrId.push(id)\r\n      const result = Library.confirm(this._translate.CONFIRM.restore, this._translate.NOTIFY.notify);\r\n      result.then((dialogResult) => {\r\n        if (dialogResult) {\r\n          Library.showloading();\r\n          this.invoiceBuyService.restore(arrId).subscribe(rs => {\r\n            if (rs.status === 'success') {\r\n              Library.notify(this._translate.NOTIFY.restore, 'success');\r\n              this.loadList(this.search);\r\n            } else {\r\n              Library.notify(rs.message, 'error');\r\n            }\r\n          }, err => {\r\n          }, () => {\r\n            Library.hideloading();\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      let deleteItem = this.dataGrid.instance.getSelectedRowsData();\r\n      let arrId = [];\r\n      for (let i = 0; i < deleteItem.length; i++) {\r\n        arrId.push(deleteItem[i].id)\r\n      }\r\n      if (deleteItem.length === 0) {\r\n        Library.notify(this._translate.NOTIFY.no_record_selected, 'error');\r\n      } else {\r\n        const result = Library.confirm(this._translate.CONFIRM.restore, this._translate.NOTIFY.notify);\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            Library.showloading();\r\n            this.invoiceBuyService.restore(arrId).subscribe(rs => {\r\n              if (rs.status === 'success') {\r\n                Library.notify(this._translate.NOTIFY.restore, 'success');\r\n                this.loadList(this.search);\r\n              } else {\r\n                Library.notify(rs.message, 'error');\r\n              }\r\n            }, err => {\r\n            }, () => {\r\n              Library.hideloading();\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  nhanHoaDon(data?) {\r\n    if (this.isHasPackage) {\r\n      this.selectedItems = this.dataGrid.instance.getSelectedRowsData();\r\n      if (this.selectedItems.length || data) {\r\n        const result = Library.confirm(this._translate.CONFIRM.would_you_like_to_receive_this_invoice, this._translate.NOTIFY.notify);\r\n        result.then((dialogResult) => {\r\n          if (dialogResult) {\r\n            let ids = [];\r\n            let isKhongNhan = false;\r\n            if (data) {\r\n              if (data.status == 'HOP_LE')\r\n                isKhongNhan = true;\r\n              else\r\n                ids.push(data.id);\r\n            }\r\n            else {\r\n              let lstThuHopLe = this.selectedItems.filter(p => p.status == 'HOP_LE');\r\n              if (lstThuHopLe.length == this.selectedItems.length)\r\n                isKhongNhan = true;\r\n              else {\r\n                let lstThuKhac = this.selectedItems.filter(p => p.status != 'HOP_LE');\r\n                ids = lstThuKhac.map(e => e.id);\r\n              }\r\n            }\r\n            if (isKhongNhan) {\r\n              Library.notify(this._translate.NOTIFY.you_cannot_do_this_for_valid_email, 'error');\r\n            }\r\n            else {\r\n              Library.showloading();\r\n              this.invoiceBuyService.nhanHoaDon(ids).subscribe(res => {\r\n                if (res.status == 'success') {\r\n                  Library.notify(this._translate.NOTIFY.receive_invoice_success, 'success');\r\n                  this.loadList(this.search);\r\n                  if (ids.length === 1) {\r\n                    setTimeout(() => {\r\n                      this.newData = this.dataGrid.instance.getSelectedRowsData();\r\n                    }, 1000);\r\n                    setTimeout(() => {\r\n                      if (this.newData[0].status === 'KHONG_HOP_LE') {\r\n                        this.noReceivedBtn = \"disabled-btn\";\r\n                        this.receivedBtn = \"\";\r\n                        this.deleteBtn = \"\";\r\n                      } else {\r\n                        this.noReceivedBtn = \"\";\r\n                        this.receivedBtn = \"disabled-btn\";\r\n                        this.deleteBtn = \"none-delete\";\r\n                      }\r\n                    }, 1100);\r\n                    this.loadPreviewMail(ids[0])\r\n                  }\r\n                } else {\r\n                  Library.notify(res.message, 'error');\r\n                }\r\n              }, err => {\r\n              }, () => {\r\n                Library.hideloading();\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n      else {\r\n        Library.notify(this._translate.NOTIFY.no_record_selected, 'error');\r\n      }\r\n    } else {\r\n      Library.notify(\"Vui lòng mua gói hóa đơn đầu vào để sử dụng chức năng này\", \"error\")\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"preview-container\\\">\\r\\n  <div style=\\\"display: flex; align-items: center; padding-bottom: 16px;\\\">\\r\\n    <h1>{{previewEmmail.subject}}</h1>\\r\\n    <button\\r\\n      style=\\\" padding: 3px 9px;font-size: 12px;border: none;border-radius: 5px;font-weight: 600;border-radius: 10px;\\\"\\r\\n      [ngClass]=\\\"previewEmmail.status\\\">{{previewEmmail.status | diaryType}}</button>\\r\\n  </div>\\r\\n  <div class=\\\"unit-name\\\">\\r\\n    <span class=\\\"name\\\">{{previewEmmail.sender_name}}</span>\\r\\n    <div style=\\\"display: flex; align-items: center; width: 31%;\\\">\\r\\n      <span class=\\\"time\\\">{{previewEmmail.send_date | date: 'dd/MM/yyyy hh:mm:ss a'}}</span>\\r\\n      <div class=\\\"dropdown\\\">\\r\\n        <a title=\\\"{{_translate.CONTROLL.BUTTON.extend}}\\\" class=\\\"morongIcon actionIcon\\\" (click)=\\\"myFunction()\\\"\\r\\n          href=\\\"javascript:void(0)\\\" #toggleButton></a>\\r\\n        <div class=\\\"dropdown-content\\\" id=\\\"myDropdown\\\" [ngClass]=\\\"isShow\\\" *ngIf=\\\"this.isMailReceived.listDelete\\\" #menu\\r\\n          style=\\\"min-width: 180px !important;box-shadow: 0px 0px 16px 0px rgb(0 0 0 / 20%) !important;\\\">\\r\\n          <a title=\\\"{{_translate.CONTROLL.BUTTON.receive_bill}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n            style=\\\"display:flex; align-items: center; justify-content: space-between; text-decoration: none; color: black;\\\"\\r\\n            (click)=\\\"nhanHoaDon()\\\" *ngIf=\\\"previewEmmail.status !== 'HOP_LE'\\\">\\r\\n            <span>{{_translate.CONTROLL.BUTTON.receive_bill}}</span>\\r\\n            <img src=\\\"../../../../../assets/img/icons/invoice-buy/nhan_hd.svg\\\" alt=\\\"\\\">\\r\\n          </a>\\r\\n          <a title=\\\"{{_translate.CONTROLL.BUTTON.no_receipt}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n            style=\\\"display:flex; align-items: center; justify-content: space-between; text-decoration: none; color: black;\\\"\\r\\n            *ngIf=\\\"previewEmmail.status !== 'KHONG_HOP_LE'\\\" (click)=\\\"noReceived()\\\">\\r\\n            <span>{{_translate.CONTROLL.BUTTON.no_receipt}}</span>\\r\\n            <img src=\\\"../../../../../assets/img/icons/invoice-buy/khong_nhan_hd.svg\\\" alt=\\\"\\\">\\r\\n          </a>\\r\\n          <!-- <a title=\\\"{{_translate.CONTROLL.BUTTON.forward}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n            style=\\\"display:flex; align-items: center; justify-content: space-between; text-decoration: none; color: black;\\\">\\r\\n            <span>{{_translate.CONTROLL.BUTTON.forward}}</span>\\r\\n            <img src=\\\"../../../../../assets/img/icons/invoice-buy/share.svg\\\" alt=\\\"\\\">\\r\\n          </a> -->\\r\\n          <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n            style=\\\"display:flex; align-items: center; justify-content: space-between; text-decoration: none; color: black;\\\"\\r\\n            (click)=\\\"deleteMail()\\\" *ngIf=\\\"previewEmmail.status !== 'HOP_LE'\\\">\\r\\n            <span>{{_translate.CONTROLL.BUTTON.delete}}</span>\\r\\n            <img src=\\\"../../../../../assets/img/icons/invoice-buy/delete-1.svg\\\" alt=\\\"\\\">\\r\\n          </a>\\r\\n        </div>\\r\\n        <div class=\\\"dropdown-content\\\" id=\\\"myDropdown\\\" *ngIf=\\\"!this.isMailReceived.listDelete\\\" [ngClass]=\\\"isShow\\\"\\r\\n          style=\\\"min-width: 180px !important;box-shadow: 0px 0px 16px 0px rgb(0 0 0 / 20%) !important;\\\" #menuDelete>\\r\\n          <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n            style=\\\"display:flex; align-items: center; justify-content: space-between; text-decoration: none; color: black;\\\"\\r\\n            (click)=\\\"restore()\\\">\\r\\n            <span>{{_translate.CONTROLL.BUTTON.restore}}</span>\\r\\n            <img src=\\\"../../../../../assets/img/icons/invoice-buy/restore-1.svg\\\" alt=\\\"\\\">\\r\\n          </a>\\r\\n          <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" href=\\\"javascript:void(0)\\\"\\r\\n            style=\\\"display:flex; align-items: center; justify-content: space-between; text-decoration: none; color: black;\\\"\\r\\n            (click)=\\\"deleteMail()\\\" *ngIf=\\\"previewEmmail.status !== 'HOP_LE'\\\">\\r\\n            <span>{{_translate.CONTROLL.BUTTON.delete}}</span>\\r\\n            <img src=\\\"../../../../../assets/img/icons/invoice-buy/delete-1.svg\\\" alt=\\\"\\\">\\r\\n          </a>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"file-grid\\\">\\r\\n    <div class=\\\"file\\\" *ngFor=\\\"let item of this.file; let i = index\\\" (click)=\\\"getInforFile(i)\\\">\\r\\n      <div [ngClass]=\\\"item.classImg\\\" class=\\\"img-class\\\"></div>\\r\\n      <div class=\\\"infor\\\">\\r\\n        <a title=\\\"{{item.file_name}}\\\" class=\\\"file-name\\\">{{item.file_name}}</a>\\r\\n        <span class=\\\"size\\\">{{item.size}}</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div style=\\\"height: calc(100vh - 354px); display: flex; overflow: auto;\\\">\\r\\n    <div [innerHTML]=\\\"htmlResult |safeHtml\\\">\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \".preview-container{display:flex;flex-direction:column;padding:15px;background:white}.preview-container h1{font-size:16px;padding-right:10px;word-wrap:break-word;max-width:80%}.preview-container .unit-name{display:flex;justify-content:space-between;padding-bottom:13px}.preview-container .unit-name .name{font-size:13px;font-weight:bold}.preview-container .unit-name .time{font-size:12px;font-weight:lighter;color:#7f8588}.preview-container .file-grid{display:-ms-grid;display:grid;-ms-grid-columns:auto auto auto;grid-template-columns:auto auto auto;border-top:1px solid #dadce0;border-bottom:1px solid #dadce0;padding:7px;gap:10px;justify-content:flex-start;text-decoration:none;color:black}.preview-container .file-grid .file{display:flex;border:1px solid #dadce0;height:36px;width:154px;margin-left:10px;padding:3px;cursor:pointer}.preview-container .file-grid .file .img-class{width:19px;height:24px}.preview-container .file-grid .file .pdf{background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2219.946%22 height%3D%2225.977%22 viewBox%3D%220 0 19.946 25.977%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23e9e9e0%3B%7D.b%7Bfill%3A%23d9d7ca%3B%7D.c%7Bfill%3A%23cc4b4c%3B%7D.d%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg transform%3D%22translate(-6.5)%22%3E%3Cpath class%3D%22a%22 d%3D%22M20.641%2C0H7.179C6.8%2C0%2C6.5.3%2C6.5.893V25.513a.7.7%2C0%2C0%2C0%2C.679.464H25.768a.7.7%2C0%2C0%2C0%2C.679-.464V6.02c0-.323-.043-.427-.119-.5l-5.4-5.4A.41.41%2C0%2C0%2C0%2C20.641%2C0Z%22%2F%3E%3Cpath class%3D%22b%22 d%3D%22M37.5.151v5.5H43Z%22 transform%3D%22translate(-16.62 -0.081)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M18.39%2C19.162h0a.745.745%2C0%2C0%2C1-.449-.151%2C1.112%2C1.112%2C0%2C0%2C1-.517-1.04c.084-.755%2C1.018-1.546%2C2.776-2.351a31.138%2C31.138%2C0%2C0%2C0%2C1.757-4.987c-.463-1.008-.913-2.315-.585-3.081a.89.89%2C0%2C0%2C1%2C.526-.564%2C2.277%2C2.277%2C0%2C0%2C1%2C.471-.08c.234%2C0%2C.439.3.585.487s.447.544-.173%2C3.155a14.822%2C14.822%2C0%2C0%2C0%2C2.36%2C3.508%2C9.024%2C9.024%2C0%2C0%2C1%2C1.558-.166c.726%2C0%2C1.167.169%2C1.346.518a.939.939%2C0%2C0%2C1-.181%2C1%2C1.233%2C1.233%2C0%2C0%2C1-1.03.552%2C3.084%2C3.084%2C0%2C0%2C1-1.953-1.06%2C22.226%2C22.226%2C0%2C0%2C0-4.1%2C1.309%2C13.161%2C13.161%2C0%2C0%2C1-1.105%2C1.972C19.206%2C18.851%2C18.8%2C19.162%2C18.39%2C19.162Zm1.235-2.378c-.991.557-1.4%2C1.015-1.425%2C1.273%2C0%2C.043-.017.155.2.321C18.47%2C18.356%2C18.873%2C18.172%2C19.625%2C16.784Zm6.326-2.06c.378.291.47.438.718.438a.7.7%2C0%2C0%2C0%2C.561-.2.734.734%2C0%2C0%2C0%2C.107-.193c-.057-.03-.133-.091-.545-.091A6.783%2C6.783%2C0%2C0%2C0%2C25.951%2C14.723ZM22.486%2C11.67a33.071%2C33.071%2C0%2C0%2C1-1.24%2C3.509%2C23.177%2C23.177%2C0%2C0%2C1%2C3.013-.937A15.879%2C15.879%2C0%2C0%2C1%2C22.486%2C11.67ZM22.2%2C7.745a1.112%2C1.112%2C0%2C0%2C0%2C.045%2C1.492C22.689%2C8.256%2C22.224%2C7.738%2C22.2%2C7.745Z%22 transform%3D%22translate(-5.854 -3.704)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M25.768%2C46.886H7.179a.679.679%2C0%2C0%2C1-.679-.679V39H26.446v7.207A.679.679%2C0%2C0%2C1%2C25.768%2C46.886Z%22 transform%3D%22translate(0 -20.909)%22%2F%3E%3Cg transform%3D%22translate(10.788 19.911)%22%3E%3Cpath class%3D%22d%22 d%3D%22M16.505%2C47.6h-.761V42.924h1.344a1.887%2C1.887%2C0%2C0%2C1%2C.59.1%2C1.6%2C1.6%2C0%2C0%2C1%2C.523.285%2C1.49%2C1.49%2C0%2C0%2C1%2C.374.46%2C1.274%2C1.274%2C0%2C0%2C1%2C.143.606%2C1.657%2C1.657%2C0%2C0%2C1-.121.644%2C1.345%2C1.345%2C0%2C0%2C1-.336.485%2C1.515%2C1.515%2C0%2C0%2C1-.52.3%2C2%2C2%2C0%2C0%2C1-.672.108H16.5V47.6Zm0-4.1v1.852h.7a.829.829%2C0%2C0%2C0%2C.276-.048.7.7%2C0%2C0%2C0%2C.25-.155.76.76%2C0%2C0%2C0%2C.184-.3%2C1.426%2C1.426%2C0%2C0%2C0%2C.07-.479%2C1.3%2C1.3%2C0%2C0%2C0-.032-.263.759.759%2C0%2C0%2C0-.13-.285.769.769%2C0%2C0%2C0-.276-.228%2C1.025%2C1.025%2C0%2C0%2C0-.469-.092h-.571Z%22 transform%3D%22translate(-15.744 -42.924)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M27.858%2C45.131a3.434%2C3.434%2C0%2C0%2C1-.124.986%2C2.452%2C2.452%2C0%2C0%2C1-.314.685%2C1.613%2C1.613%2C0%2C0%2C1-.428.435%2C2.148%2C2.148%2C0%2C0%2C1-.46.238%2C1.9%2C1.9%2C0%2C0%2C1-.406.1%2C2.7%2C2.7%2C0%2C0%2C1-.273.021H24.084V42.924h1.408a2.675%2C2.675%2C0%2C0%2C1%2C1.037.187%2C2.153%2C2.153%2C0%2C0%2C1%2C.742.5%2C2.043%2C2.043%2C0%2C0%2C1%2C.441.707A2.341%2C2.341%2C0%2C0%2C1%2C27.858%2C45.131ZM25.6%2C47.04a1.26%2C1.26%2C0%2C0%2C0%2C1.116-.494%2C2.51%2C2.51%2C0%2C0%2C0%2C.342-1.433%2C2.427%2C2.427%2C0%2C0%2C0-.07-.577%2C1.235%2C1.235%2C0%2C0%2C0-.27-.517%2C1.422%2C1.422%2C0%2C0%2C0-.542-.374%2C2.335%2C2.335%2C0%2C0%2C0-.888-.143h-.444V47.04Z%22 transform%3D%22translate(-20.215 -42.924)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M35.372%2C43.5v1.471h1.953v.52H35.372V47.6H34.6V42.924h2.923V43.5Z%22 transform%3D%22translate(-25.852 -42.924)%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.preview-container .file-grid .file .docx{background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2219.95%22 height%3D%2225.982%22 viewBox%3D%220 0 19.95 25.982%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23e9e9e0%3Bopacity%3A0.55%3B%7D.b%7Bfill%3A%23d9d7ca%3Bopacity%3A0.5%3B%7D.c%7Bfill%3A%232b579a%3B%7D.d%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg transform%3D%22translate(-475 -295)%22%3E%3Cpath class%3D%22a%22 d%3D%22M20.644%2C0H7.179C6.8%2C0%2C6.5.3%2C6.5.894V25.517a.7.7%2C0%2C0%2C0%2C.679.464H25.771a.7.7%2C0%2C0%2C0%2C.679-.464V6.021c0-.323-.043-.427-.119-.5l-5.4-5.4A.41.41%2C0%2C0%2C0%2C20.644%2C0Z%22 transform%3D%22translate(468.5 295)%22%2F%3E%3Cpath class%3D%22b%22 d%3D%22M37.5.151v5.5H43Z%22 transform%3D%22translate(451.882 294.919)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M14.748%2C11.928H11.964a.464.464%2C0%2C0%2C1%2C0-.928h2.784a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(465.82 289.104)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M16.14%2C16.928H11.964a.464.464%2C0%2C0%2C1%2C0-.928H16.14a.464.464%2C0%2C0%2C1%2C0%2C.928Z%22 transform%3D%22translate(465.82 286.423)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M24.964%2C16.935a.459.459%2C0%2C1%2C1%2C.329-.135A.488.488%2C0%2C0%2C1%2C24.964%2C16.935Z%22 transform%3D%22translate(458.851 286.416)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M32.676%2C16.928H28.964a.464.464%2C0%2C0%2C1%2C0-.928h3.712a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(456.707 286.423)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M11.964%2C31.935a.465.465%2C0%2C1%2C1%2C.329-.793.479.479%2C0%2C0%2C1%2C.135.329.459.459%2C0%2C0%2C1-.464.464Z%22 transform%3D%22translate(465.82 278.377)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M19.676%2C31.928H15.964a.464.464%2C0%2C0%2C1%2C0-.928h3.712a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(463.676 278.382)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M41.892%2C16.928h-.928a.464.464%2C0%2C0%2C1%2C0-.928h.928a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(450.274 286.423)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M22.171%2C21.928H11.964a.464.464%2C0%2C0%2C1%2C0-.928H22.171a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(465.82 283.743)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M39.748%2C21.928H36.964a.464.464%2C0%2C0%2C1%2C0-.928h2.784a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(452.419 283.743)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M13.82%2C26.928H11.964a.464.464%2C0%2C0%2C1%2C0-.928H13.82a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(465.82 281.063)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M24.6%2C26.928h-4.64a.464.464%2C0%2C1%2C1%2C0-.928H24.6a.464.464%2C0%2C1%2C1%2C0%2C.928Z%22 transform%3D%22translate(461.531 281.063)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M38.14%2C26.928H33.964a.464.464%2C0%2C1%2C1%2C0-.928H38.14a.464.464%2C0%2C0%2C1%2C0%2C.928Z%22 transform%3D%22translate(454.027 281.063)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M25.771%2C46.887H7.179a.679.679%2C0%2C0%2C1-.679-.679V39H26.45v7.208A.679.679%2C0%2C0%2C1%2C25.771%2C46.887Z%22 transform%3D%22translate(468.5 274.095)%22%2F%3E%3Cg transform%3D%22translate(476.744 314.839)%22%3E%3Cpath class%3D%22d%22 d%3D%22M19.14%2C45.131a3.434%2C3.434%2C0%2C0%2C1-.124.986%2C2.452%2C2.452%2C0%2C0%2C1-.314.685%2C1.613%2C1.613%2C0%2C0%2C1-.428.435%2C2.148%2C2.148%2C0%2C0%2C1-.46.238%2C1.9%2C1.9%2C0%2C0%2C1-.406.1%2C2.707%2C2.707%2C0%2C0%2C1-.272.021h-1.77V42.924h1.408a2.675%2C2.675%2C0%2C0%2C1%2C1.037.187%2C2.153%2C2.153%2C0%2C0%2C1%2C.742.5%2C2.043%2C2.043%2C0%2C0%2C1%2C.441.707A2.342%2C2.342%2C0%2C0%2C1%2C19.14%2C45.131Zm-2.258%2C1.909A1.26%2C1.26%2C0%2C0%2C0%2C18%2C46.546a2.511%2C2.511%2C0%2C0%2C0%2C.342-1.434%2C2.428%2C2.428%2C0%2C0%2C0-.07-.577%2C1.235%2C1.235%2C0%2C0%2C0-.27-.517%2C1.423%2C1.423%2C0%2C0%2C0-.542-.374%2C2.335%2C2.335%2C0%2C0%2C0-.888-.143h-.444v3.539h.755Z%22 transform%3D%22translate(-15.366 -42.848)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M28.975%2C45.151a3.312%2C3.312%2C0%2C0%2C1-.149%2C1.04%2C2.121%2C2.121%2C0%2C0%2C1-.412.748%2C1.726%2C1.726%2C0%2C0%2C1-.615.451%2C2.027%2C2.027%2C0%2C0%2C1-1.541%2C0%2C1.726%2C1.726%2C0%2C0%2C1-.615-.451%2C2.125%2C2.125%2C0%2C0%2C1-.412-.748%2C3.7%2C3.7%2C0%2C0%2C1%2C0-2.077%2C2.115%2C2.115%2C0%2C0%2C1%2C.412-.745%2C1.763%2C1.763%2C0%2C0%2C1%2C.615-.454%2C1.988%2C1.988%2C0%2C0%2C1%2C1.541%2C0%2C1.763%2C1.763%2C0%2C0%2C1%2C.615.454%2C2.138%2C2.138%2C0%2C0%2C1%2C.412.745A3.294%2C3.294%2C0%2C0%2C1%2C28.975%2C45.151Zm-1.967%2C1.77a1.117%2C1.117%2C0%2C0%2C0%2C.447-.092%2C1%2C1%2C0%2C0%2C0%2C.38-.3%2C1.524%2C1.524%2C0%2C0%2C0%2C.263-.549%2C3.3%2C3.3%2C0%2C0%2C0%2C.1-.828%2C3.236%2C3.236%2C0%2C0%2C0-.1-.809%2C1.623%2C1.623%2C0%2C0%2C0-.254-.549.978.978%2C0%2C0%2C0-.368-.311%2C1.022%2C1.022%2C0%2C0%2C0-.435-.1%2C1.145%2C1.145%2C0%2C0%2C0-.447.089.958.958%2C0%2C0%2C0-.38.3%2C1.551%2C1.551%2C0%2C0%2C0-.263.549%2C3.237%2C3.237%2C0%2C0%2C0-.1.824%2C3.278%2C3.278%2C0%2C0%2C0%2C.1.812%2C1.59%2C1.59%2C0%2C0%2C0%2C.254.549%2C1.017%2C1.017%2C0%2C0%2C0%2C.368.311A1%2C1%2C0%2C0%2C0%2C27.009%2C46.921Z%22 transform%3D%22translate(-20.574 -42.76)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M38.855%2C47.035a1.73%2C1.73%2C0%2C0%2C1-.59.38%2C1.954%2C1.954%2C0%2C0%2C1-.71.127%2C1.918%2C1.918%2C0%2C0%2C1-.771-.152%2C1.726%2C1.726%2C0%2C0%2C1-.615-.451%2C2.125%2C2.125%2C0%2C0%2C1-.412-.748%2C3.7%2C3.7%2C0%2C0%2C1%2C0-2.077%2C2.115%2C2.115%2C0%2C0%2C1%2C.412-.745%2C1.754%2C1.754%2C0%2C0%2C1%2C.618-.454%2C1.888%2C1.888%2C0%2C0%2C1%2C.767-.155%2C1.964%2C1.964%2C0%2C0%2C1%2C.71.127%2C1.733%2C1.733%2C0%2C0%2C1%2C.59.38l-.527.47a.962.962%2C0%2C0%2C0-.352-.266%2C1.021%2C1.021%2C0%2C0%2C0-.4-.083%2C1.145%2C1.145%2C0%2C0%2C0-.447.089.958.958%2C0%2C0%2C0-.38.3%2C1.551%2C1.551%2C0%2C0%2C0-.263.549%2C3.237%2C3.237%2C0%2C0%2C0-.1.824%2C3.278%2C3.278%2C0%2C0%2C0%2C.1.812%2C1.59%2C1.59%2C0%2C0%2C0%2C.254.549%2C1.017%2C1.017%2C0%2C0%2C0%2C.368.311.992.992%2C0%2C0%2C0%2C.435.1%2C1.114%2C1.114%2C0%2C0%2C0%2C.428-.083%2C1.006%2C1.006%2C0%2C0%2C0%2C.365-.266Z%22 transform%3D%22translate(-26.217 -42.76)%22%2F%3E%3C%2Fg%3E%3Cpath class%3D%22d%22 d%3D%22M45.3%2C21.547l1.516-2.336-1.5-2.3h.98l1.057%2C1.7H47.4l1.073-1.7h.932l-1.555%2C2.32%2C1.528%2C2.316h-.957l-1.075-1.665H47.29L46.2%2C21.547Z%22 transform%3D%22translate(444.782 298.076)%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.preview-container .file-grid .file .html{background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 width%3D%2219.95%22 height%3D%2226.023%22 viewBox%3D%220 0 19.95 26.023%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3Anone%3B%7D.b%7Bclip-path%3Aurl(%23a)%3B%7D.c%7Bfill%3A%23f4f4ef%3B%7D.d%7Bfill%3A%23e75022%3B%7D.e%7Bfill%3A%23e6e5dc%3B%7D.f%7Bfill%3A%23e75023%3B%7D.g%7Bfill%3A%23e75224%3B%7D.h%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3CclipPath id%3D%22a%22%3E%3Crect class%3D%22a%22 width%3D%2219.95%22 height%3D%2226.023%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3Cg class%3D%22b%22%3E%3Cpath class%3D%22c%22 d%3D%22M19.99%2C5.593c.126.1.1.243.1.376q0%2C6.071-.008%2C12.142H.178q0-8.65-.007-17.3A.737.737%2C0%2C0%2C1%2C.987.006q6.545%2C0%2C13.091%2C0c.147%2C0%2C.31-.042.423.1%2C0%2C1.669.011%2C3.338-.007%2C5.007%2C0%2C.382.115.488.49.484%2C1.669-.018%2C3.338-.008%2C5.008-.008M8.014%2C13.478c.018-.222-.143-.356-.286-.5-.658-.658-1.3-1.329-1.979-1.969-.257-.243-.267-.384-.006-.632C6.454%2C9.7%2C7.139%2C9%2C7.829%2C8.3a.466.466%2C0%2C0%2C0%2C.055-.717c-.243-.247-.493-.152-.709.064Q5.862%2C8.956%2C4.552%2C10.267a.516.516%2C0%2C0%2C0-.011.834c.265.262.526.527.79.79l1.831%2C1.83a.5.5%2C0%2C0%2C0%2C.589.169.419.419%2C0%2C0%2C0%2C.262-.411m7.206-2.752c-.082.089-.17.189-.264.284-.693.7-1.39%2C1.388-2.079%2C2.088a.463.463%2C0%2C1%2C0%2C.648.652q1.349-1.346%2C2.695-2.694a.465.465%2C0%2C0%2C0%2C.014-.72Q14.877%2C8.962%2C13.5%2C7.606a.432.432%2C0%2C0%2C0-.673-.015.443.443%2C0%2C0%2C0%2C.031.675c.08.087.165.17.249.254q.934.934%2C1.867%2C1.869c.092.093.22.165.243.337%22 transform%3D%22translate(-0.154 0)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M.025%2C178.1h19.9q.012%2C3.6.023%2C7.209a.649.649%2C0%2C0%2C1-.655.695%2C2.953%2C2.953%2C0%2C0%2C1-.355%2C0H1.011c-.838%2C0-1.014-.172-1.012-1q.01-3.452.025-6.9%22 transform%3D%22translate(0 -159.994)%22%2F%3E%3Cpath class%3D%22e%22 d%3D%22M146.506%2C6.562c-1.669%2C0-3.339-.01-5.008.008-.375%2C0-.494-.1-.49-.484.019-1.669.008-3.338.007-5.007a10.076%2C10.076%2C0%2C0%2C1%2C1.207%2C1.154c1.434%2C1.437%2C2.856%2C2.885%2C4.283%2C4.329%22 transform%3D%22translate(-126.669 -0.969)%22%2F%3E%3Cpath class%3D%22f%22 d%3D%22M44.8%2C79.18a.418.418%2C0%2C0%2C1-.262.411.5.5%2C0%2C0%2C1-.589-.169l-1.831-1.83c-.263-.263-.525-.528-.79-.79a.516.516%2C0%2C0%2C1%2C.011-.834q1.313-1.307%2C2.622-2.619c.216-.216.467-.311.709-.064a.466.466%2C0%2C0%2C1-.055.716c-.69.7-1.376%2C1.4-2.087%2C2.077-.261.248-.252.389.006.632.676.639%2C1.322%2C1.31%2C1.98%2C1.969.143.143.3.278.286.5%22 transform%3D%22translate(-36.935 -65.702)%22%2F%3E%3Cpath class%3D%22g%22 d%3D%22M125.766%2C76.422c-.023-.172-.151-.244-.243-.337q-.93-.938-1.867-1.869c-.084-.084-.169-.166-.249-.254a.443.443%2C0%2C0%2C1-.031-.675.432.432%2C0%2C0%2C1%2C.673.015q1.372%2C1.359%2C2.73%2C2.731a.465.465%2C0%2C0%2C1-.014.72q-1.344%2C1.35-2.695%2C2.694a.463.463%2C0%2C1%2C1-.648-.652c.689-.7%2C1.386-1.392%2C2.079-2.088.094-.094.182-.2.264-.284%22 transform%3D%22translate(-110.7 -65.696)%22%2F%3E%3Cpath class%3D%22h%22 d%3D%22M20.754%2C196.49v1.773h1.871V196.49h.808v4.425h-.808v-1.95H20.754v1.95h-.807V196.49Z%22 transform%3D%22translate(-17.919 -176.51)%22%2F%3E%3Cpath class%3D%22h%22 d%3D%22M60.522%2C197.167H59.261v-.676H62.6v.676H61.329v3.749h-.807Z%22 transform%3D%22translate(-53.235 -176.51)%22%2F%3E%3Cpath class%3D%22h%22 d%3D%22M99.778%2C199.11c-.026-.571-.059-1.261-.053-1.858h-.02c-.144.538-.328%2C1.136-.525%2C1.694l-.643%2C1.917h-.624l-.591-1.891c-.171-.565-.328-1.169-.446-1.72h-.013c-.02.578-.046%2C1.28-.079%2C1.884l-.1%2C1.779h-.755l.3-4.425H97.29l.578%2C1.779c.158.519.3%2C1.044.407%2C1.536h.02c.118-.479.269-1.024.44-1.543l.611-1.773h1.05l.256%2C4.425h-.788Z%22 transform%3D%22translate(-86.176 -176.51)%22%2F%3E%3Cpath class%3D%22h%22 d%3D%22M150.418%2C196.49h.807v3.749h1.819v.676h-2.626Z%22 transform%3D%22translate(-135.123 -176.51)%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.preview-container .file-grid .file .xml{background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 width%3D%2219.95%22 height%3D%2226.025%22 viewBox%3D%220 0 19.95 26.025%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3Anone%3B%7D.b%7Bclip-path%3Aurl(%23a)%3B%7D.c%7Bfill%3A%23f4f4ef%3B%7D.d%7Bfill%3A%23364e9c%3B%7D.e%7Bfill%3A%23e6e5dc%3B%7D.f%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3CclipPath id%3D%22a%22%3E%3Crect class%3D%22a%22 width%3D%2219.95%22 height%3D%2226.025%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3Cg class%3D%22b%22%3E%3Cpath class%3D%22c%22 d%3D%22M20.008%2C5.6c.141.117.1.279.1.426q0%2C6.045-.006%2C12.089H.2Q.2%2C9.475.193.837A.743.743%2C0%2C0%2C1%2C1.04.009q6.5%2C0%2C13.006%2C0c.162%2C0%2C.344-.057.474.1%2C0%2C1.669.011%2C3.338-.007%2C5.007%2C0%2C.382.115.488.49.484%2C1.669-.018%2C3.338-.008%2C5.007-.008m-8.238%2C1a.47.47%2C0%2C0%2C0-.342-.523.419.419%2C0%2C0%2C0-.513.219%2C2.055%2C2.055%2C0%2C0%2C0-.155.372Q10%2C8.809%2C9.243%2C10.955c-.353%2C1-.7%2C2-1.057%2C3-.117.33-.263.693.176.861s.575-.174.7-.52q1.3-3.7%2C2.612-7.389c.039-.111.073-.224.1-.315m4.174%2C4.083a.394.394%2C0%2C0%2C0-.129-.32Q14.435%2C8.973%2C13.048%2C7.6a.422.422%2C0%2C0%2C0-.636-.031.461.461%2C0%2C0%2C0-.022.681%2C3.247%2C3.247%2C0%2C0%2C0%2C.28.294c.622.623%2C1.235%2C1.257%2C1.874%2C1.862.248.235.226.376-.008.6-.7.669-1.369%2C1.362-2.052%2C2.043-.231.23-.345.489-.085.751s.523.132.749-.093q1.294-1.293%2C2.588-2.586a.525.525%2C0%2C0%2C0%2C.21-.439M7.1%2C13.934a.452.452%2C0%2C0%2C0%2C.437-.256c.138-.266-.007-.457-.178-.63-.69-.7-1.377-1.4-2.085-2.079-.229-.219-.224-.344%2C0-.561.708-.68%2C1.393-1.383%2C2.087-2.077.23-.229.346-.484.077-.748s-.522-.133-.748.094Q5.385%2C8.989%2C4.074%2C10.3a.486.486%2C0%2C0%2C0%2C.005.788Q5.41%2C12.411%2C6.737%2C13.74a.5.5%2C0%2C0%2C0%2C.366.194%22 transform%3D%22translate(-0.173 0)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M.026%2C178.122h19.9q.012%2C3.606.022%2C7.213a.647.647%2C0%2C0%2C1-.7.7c-.1.006-.2%2C0-.3%2C0H1.011c-.842%2C0-1.012-.166-1.01-1q.01-3.454.025-6.908%22 transform%3D%22translate(-0.001 -160.01)%22%2F%3E%3Cpath class%3D%22e%22 d%3D%22M146.5%2C6.6c-1.669%2C0-3.338-.01-5.007.008-.375%2C0-.494-.1-.49-.484.019-1.669.008-3.338.007-5.007a10.072%2C10.072%2C0%2C0%2C1%2C1.207%2C1.154C143.656%2C3.7%2C145.078%2C5.153%2C146.5%2C6.6%22 transform%3D%22translate(-126.669 -1)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M81.316%2C60.056c-.029.091-.062.2-.1.315q-1.307%2C3.694-2.612%2C7.389c-.121.346-.262.686-.7.52s-.293-.531-.176-.861c.356-1%2C.7-2%2C1.057-3q.757-2.145%2C1.519-4.29a2.046%2C2.046%2C0%2C0%2C1%2C.155-.372.419.419%2C0%2C0%2C1%2C.513-.219.47.47%2C0%2C0%2C1%2C.342.523%22 transform%3D%22translate(-69.719 -53.459)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M122.455%2C76.347a.526.526%2C0%2C0%2C1-.21.439q-1.3%2C1.292-2.588%2C2.586c-.226.225-.484.361-.749.093s-.145-.521.085-.751c.683-.682%2C1.356-1.374%2C2.052-2.043.234-.225.256-.366.008-.6-.639-.606-1.251-1.239-1.874-1.862a3.273%2C3.273%2C0%2C0%2C1-.28-.294.462.462%2C0%2C0%2C1%2C.022-.681.422.422%2C0%2C0%2C1%2C.636.031q1.392%2C1.374%2C2.768%2C2.764a.394.394%2C0%2C0%2C1%2C.129.32%22 transform%3D%22translate(-106.683 -65.668)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M39.626%2C79.636a.5.5%2C0%2C0%2C1-.366-.194q-1.329-1.327-2.659-2.654A.486.486%2C0%2C0%2C1%2C36.6%2C76q1.313-1.307%2C2.621-2.62c.227-.227.478-.359.748-.094s.153.519-.077.748c-.694.694-1.379%2C1.4-2.087%2C2.077-.226.217-.231.342%2C0%2C.561.708.679%2C1.395%2C1.381%2C2.085%2C2.079.171.172.316.364.178.63a.452.452%2C0%2C0%2C1-.437.256%22 transform%3D%22translate(-32.697 -65.703)%22%2F%3E%3Cpath class%3D%22f%22 d%3D%22M40.374%2C202.454l-.479-.88c-.19-.341-.315-.578-.44-.834h-.02c-.105.256-.223.492-.4.834l-.44.88h-.926l1.313-2.239-1.26-2.186h.926l.479.912c.144.276.25.492.368.742h.013c.118-.276.21-.473.348-.742l.473-.912h.926l-1.293%2C2.16%2C1.346%2C2.265Z%22 transform%3D%22translate(-33.839 -177.892)%22%2F%3E%3Cpath class%3D%22f%22 d%3D%22M82.06%2C200.648c-.026-.571-.059-1.26-.053-1.858h-.02c-.144.538-.328%2C1.136-.525%2C1.694l-.643%2C1.917H80.2L79.6%2C200.51c-.171-.565-.328-1.169-.446-1.72h-.013c-.02.578-.046%2C1.28-.079%2C1.884l-.1%2C1.779h-.755l.3-4.425h1.064l.578%2C1.779c.158.519.3%2C1.044.407%2C1.536h.02c.118-.479.269-1.024.44-1.543l.611-1.772h1.05l.256%2C4.425h-.788Z%22 transform%3D%22translate(-70.26 -177.892)%22%2F%3E%3Cpath class%3D%22f%22 d%3D%22M132.7%2C198.028h.807v3.748h1.819v.676H132.7Z%22 transform%3D%22translate(-119.205 -177.892)%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.preview-container .file-grid .file .img{background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2219.95%22 height%3D%2225.973%22 viewBox%3D%220 0 19.95 25.973%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23f4f4ef%3B%7D.b%7Bfill%3A%23e6e5dc%3B%7D.c%7Bfill%3A%23f6712e%3B%7D.d%7Bfill%3A%23f29c1f%3B%7D.e%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg transform%3D%22translate(-285.897 -419.257)%22%3E%3Cpath class%3D%22a%22 d%3D%22M-2705.993-466.975h-13.459c-.376%2C0-.68.3-.68.894v24.506a.809.809%2C0%2C0%2C0%2C.68.573h18.585c.3.008.577-.366.678-.651v-19.3c0-.323-.043-.426-.117-.5l-5.4-5.4A.412.412%2C0%2C0%2C0-2705.993-466.975Z%22 transform%3D%22translate(3006.03 886.233)%22%2F%3E%3Cpath class%3D%22b%22 d%3D%22M-2708.1-466.916v5.495h5.495Z%22 transform%3D%22translate(3008.371 886.244)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M-2700.868-443.948h-18.585a.68.68%2C0%2C0%2C1-.68-.68v-7.206h19.943v7.2a.678.678%2C0%2C0%2C1-.674.683Z%22 transform%3D%22translate(3006.03 889.178)%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M-2700.187-455.427c.012%2C1.318%2C0%2C5.024%2C0%2C5.13h-19.534c-.135%2C0-.269-.006-.409-.006.006-.018.012-.029.018-.047.7-.589%2C1.4-1.171%2C2.1-1.766q2.789-2.369%2C5.57-4.742c.146-.135.222-.105.35.023.723.735%2C1.462%2C1.456%2C2.185%2C2.2.164.168.233.146.385-.012%2C1.492-1.654%2C3-3.292%2C4.493-4.947.151-.17.239-.18.413-.018%2C1.416%2C1.364%2C2.843%2C2.715%2C4.266%2C4.067C-2700.309-455.506-2700.187-455.427-2700.187-455.427Z%22 transform%3D%22translate(3006.03 887.642)%22%2F%3E%3Cpath class%3D%22c%22 d%3D%22M-2712.819-461.037a2.1%2C2.1%2C0%2C0%2C1-2.118%2C2.1%2C2.059%2C2.059%2C0%2C0%2C1-2.1-2.1%2C2.074%2C2.074%2C0%2C0%2C1%2C2.12-2.114A2.126%2C2.126%2C0%2C0%2C1-2712.819-461.037Z%22 transform%3D%22translate(3006.631 886.976)%22%2F%3E%3Cg transform%3D%22translate(290.441 438.848)%22%3E%3Cpath class%3D%22e%22 d%3D%22M-2715.475-450.534v4.68h-.854v-4.68Z%22 transform%3D%22translate(2716.329 450.583)%22%2F%3E%3Cpath class%3D%22e%22 d%3D%22M-2710.821-447.763c-.029-.6-.063-1.334-.056-1.966h-.021c-.153.57-.347%2C1.2-.555%2C1.792l-.681%2C2.028h-.659l-.626-2c-.181-.6-.347-1.238-.472-1.82h-.013c-.021.612-.049%2C1.355-.084%2C1.994l-.1%2C1.881h-.8l.313-4.68h1.125l.61%2C1.881c.166.548.312%2C1.1.43%2C1.626h.021c.126-.507.284-1.083.465-1.632l.646-1.875h1.111l.271%2C4.68h-.834Z%22 transform%3D%22translate(2716.608 450.583)%22%2F%3E%3Cpath class%3D%22e%22 d%3D%22M-2706.189-446.061a4.635%2C4.635%2C0%2C0%2C1-1.508.264%2C2.524%2C2.524%2C0%2C0%2C1-1.832-.625%2C2.323%2C2.323%2C0%2C0%2C1-.653-1.723%2C2.379%2C2.379%2C0%2C0%2C1%2C2.6-2.431%2C3.11%2C3.11%2C0%2C0%2C1%2C1.243.222l-.187.688a2.519%2C2.519%2C0%2C0%2C0-1.062-.2%2C1.566%2C1.566%2C0%2C0%2C0-1.7%2C1.681%2C1.548%2C1.548%2C0%2C0%2C0%2C1.625%2C1.7%2C1.62%2C1.62%2C0%2C0%2C0%2C.645-.1v-1.166h-.826v-.674h1.653Z%22 transform%3D%22translate(2717.523 450.575)%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.preview-container .file-grid .file .rar{background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 width%3D%2219.951%22 height%3D%2226.023%22 viewBox%3D%220 0 19.951 26.023%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3Anone%3B%7D.b%7Bclip-path%3Aurl(%23a)%3B%7D.c%7Bfill%3A%23f2f2ec%3B%7D.d%7Bfill%3A%23248332%3B%7D.e%7Bfill%3A%23e1ded3%3B%7D.f%7Bclip-path%3Aurl(%23b)%3B%7D.g%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3CclipPath id%3D%22a%22%3E%3Crect class%3D%22a%22 width%3D%2219.95%22 height%3D%2226.023%22 transform%3D%22translate(0.001 0)%22%2F%3E%3C%2FclipPath%3E%3CclipPath id%3D%22b%22%3E%3Crect class%3D%22a%22 width%3D%2219.951%22 height%3D%2226.023%22 transform%3D%22translate(0 0)%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3Cg class%3D%22b%22%3E%3Cpath class%3D%22c%22 d%3D%22M19.837%2C5.593c.126.1.1.243.1.376q0%2C6.07-.008%2C12.142H.025Q.025%2C9.46.018.811a.737.737%2C0%2C0%2C1%2C.816-.8H13.925c.147%2C0%2C.31-.042.423.1%2C0%2C1.669.011%2C3.338-.007%2C5.007%2C0%2C.382.115.488.49.484%2C1.669-.018%2C3.338-.008%2C5.008-.008%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M.026%2C18.106h19.9q.012%2C3.6.023%2C7.209a.648.648%2C0%2C0%2C1-.6.693.487.487%2C0%2C0%2C1-.054%2C0%2C3%2C3%2C0%2C0%2C1-.355%2C0H1.012c-.838%2C0-1.014-.172-1.012-1q.011-3.452.025-6.9%22%2F%3E%3Cpath class%3D%22e%22 d%3D%22M19.838%2C5.593c-1.669%2C0-3.339-.01-5.008.008-.375%2C0-.494-.1-.49-.484.019-1.669.008-3.338.007-5.007a10.128%2C10.128%2C0%2C0%2C1%2C1.207%2C1.154C16.988%2C2.7%2C18.41%2C4.149%2C19.837%2C5.593%22%2F%3E%3C%2Fg%3E%3Cg class%3D%22f%22%3E%3Cpath class%3D%22d%22 d%3D%22M7.426%2C3.481a.326.326%2C0%2C0%2C0%2C.326-.326V2.374a.326.326%2C0%2C0%2C0-.326-.326H6.176V.616H3.986A.326.326%2C0%2C0%2C0%2C3.66.942v.781a.325.325%2C0%2C0%2C0%2C.326.325h1.25V3.481H3.986a.326.326%2C0%2C0%2C0-.326.326v.781a.326.326%2C0%2C0%2C0%2C.326.326h1.25V6.346H3.986a.326.326%2C0%2C0%2C0-.326.326v.781a.326.326%2C0%2C0%2C0%2C.326.326h1.25V9.211h2.19a.326.326%2C0%2C0%2C0%2C.326-.325V8.1a.325.325%2C0%2C0%2C0-.326-.325H6.176V6.346h1.25a.326.326%2C0%2C0%2C0%2C.326-.326V5.239a.325.325%2C0%2C0%2C0-.326-.325H6.176V3.481Z%22%2F%3E%3Cpath class%3D%22d%22 d%3D%22M7.116%2C13.774h0l-.494-1.36V10.587a.433.433%2C0%2C0%2C0-.433-.433H5.351a.433.433%2C0%2C0%2C0-.433.433v1.827l-.5%2C1.454c0%2C.011-.008.021-.011.032v0a1.441%2C1.441%2C0%2C1%2C0%2C2.712-.13m-.592.541a.741.741%2C0%2C1%2C1-1.482%2C0%2C.752.752%2C0%2C0%2C1%2C.021-.173h0l.006-.018c0-.018.01-.035.015-.051l.176-.578H6.3L6.455%2C14a.774.774%2C0%2C0%2C1%2C.059.2l.01.032H6.519a.755.755%2C0%2C0%2C1%2C.005.083%22%2F%3E%3Cpath class%3D%22g%22 d%3D%22M3.5%2C19.618a10.215%2C10.215%2C0%2C0%2C1%2C1.56-.108%2C2.646%2C2.646%2C0%2C0%2C1%2C1.677.407A1.316%2C1.316%2C0%2C0%2C1%2C7.213%2C21%2C1.377%2C1.377%2C0%2C0%2C1%2C6.3%2C22.279V22.3a1.308%2C1.308%2C0%2C0%2C1%2C.692.969c.161.584.323%2C1.261.423%2C1.461h-1.2a6.47%2C6.47%2C0%2C0%2C1-.362-1.208c-.138-.646-.362-.822-.838-.83H4.66v2.038H3.5Zm1.161%2C2.23h.461c.585%2C0%2C.931-.292.931-.746%2C0-.477-.323-.715-.862-.723a2.98%2C2.98%2C0%2C0%2C0-.53.038Z%22%2F%3E%3Cpath class%3D%22g%22 d%3D%22M9.333%2C23.4l-.369%2C1.331H7.75l1.583-5.184h1.539l1.607%2C5.184H11.217l-.4-1.331Zm1.316-.876-.324-1.1c-.092-.307-.184-.692-.261-1h-.017c-.075.308-.153.7-.238%2C1l-.307%2C1.1Z%22%2F%3E%3Cpath class%3D%22g%22 d%3D%22M13.169%2C19.618a10.215%2C10.215%2C0%2C0%2C1%2C1.56-.108%2C2.646%2C2.646%2C0%2C0%2C1%2C1.677.407A1.316%2C1.316%2C0%2C0%2C1%2C16.883%2C21a1.377%2C1.377%2C0%2C0%2C1-.915%2C1.277V22.3a1.308%2C1.308%2C0%2C0%2C1%2C.692.969c.161.584.323%2C1.261.423%2C1.461h-1.2a6.47%2C6.47%2C0%2C0%2C1-.362-1.208c-.138-.646-.362-.822-.838-.83H14.33v2.038H13.169Zm1.161%2C2.23h.461c.585%2C0%2C.931-.292.931-.746%2C0-.477-.323-.715-.862-.723a2.98%2C2.98%2C0%2C0%2C0-.53.038Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.preview-container .file-grid .file .zip{background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 width%3D%2219.951%22 height%3D%2226.023%22 viewBox%3D%220 0 19.951 26.023%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3Anone%3B%7D.b%7Bclip-path%3Aurl(%23a)%3B%7D.c%7Bfill%3A%23f6f8f4%3B%7D.d%7Bfill%3A%23ffad34%3B%7D.e%7Bfill%3A%23e7e9e0%3B%7D.f%7Bclip-path%3Aurl(%23b)%3B%7D.g%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3CclipPath id%3D%22a%22%3E%3Cpath class%3D%22a%22 d%3D%22M0%2C0h19.95V-26.023H0Z%22%2F%3E%3C%2FclipPath%3E%3CclipPath id%3D%22b%22%3E%3Cpath class%3D%22a%22 d%3D%22M0-26.023H19.951V0H0Z%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3Cg transform%3D%22translate(0 26.023)%22%3E%3Cg class%3D%22b%22%3E%3Cg transform%3D%22translate(19.837 -20.43)%22%3E%3Cpath class%3D%22c%22 d%3D%22M0%2C0C.126.1.1.243.1.376q0%2C6.07-.008%2C12.142h-19.9q0-8.65-.007-17.3a.737.737%2C0%2C0%2C1%2C.661-.806.731.731%2C0%2C0%2C1%2C.155%2C0H-5.912c.147%2C0%2C.31-.042.423.1%2C0%2C1.669.011%2C3.338-.007%2C5.007%2C0%2C.382.115.488.49.484C-3.337-.014-1.668%2C0%2C0%2C0%22%2F%3E%3C%2Fg%3E%3Cg transform%3D%22translate(0.026 -7.917)%22%3E%3Cpath class%3D%22d%22 d%3D%22M0%2C0H19.9q.012%2C3.6.023%2C7.209a.648.648%2C0%2C0%2C1-.6.693.487.487%2C0%2C0%2C1-.054%2C0%2C3%2C3%2C0%2C0%2C1-.355%2C0H.986c-.838%2C0-1.014-.172-1.012-1Q-.015%2C3.453%2C0%2C0%22%2F%3E%3C%2Fg%3E%3Cg transform%3D%22translate(19.838 -20.43)%22%3E%3Cpath class%3D%22e%22 d%3D%22M0%2C0C-1.669%2C0-3.339-.01-5.008.008c-.375%2C0-.494-.1-.49-.484.019-1.669.008-3.338.007-5.007A10.128%2C10.128%2C0%2C0%2C1-4.284-4.329C-2.85-2.892-1.428-1.444%2C0%2C0%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3Cg class%3D%22f%22%3E%3Cg transform%3D%22translate(7.426 -22.542)%22%3E%3Cpath class%3D%22d%22 d%3D%22M0%2C0A.326.326%2C0%2C0%2C0%2C.326-.326v-.781A.326.326%2C0%2C0%2C0%2C0-1.433H-1.25V-2.865H-3.44a.326.326%2C0%2C0%2C0-.326.326v.781a.325.325%2C0%2C0%2C0%2C.326.325h1.25V0H-3.44a.326.326%2C0%2C0%2C0-.326.326v.781a.326.326%2C0%2C0%2C0%2C.326.326h1.25V2.865H-3.44a.326.326%2C0%2C0%2C0-.326.326v.781A.326.326%2C0%2C0%2C0-3.44%2C4.3h1.25V5.73H0a.326.326%2C0%2C0%2C0%2C.326-.325V4.623A.325.325%2C0%2C0%2C0%2C0%2C4.3H-1.25V2.865H0a.326.326%2C0%2C0%2C0%2C.326-.326V1.758A.325.325%2C0%2C0%2C0%2C0%2C1.433H-1.25V0Z%22%2F%3E%3C%2Fg%3E%3Cg transform%3D%22translate(6.524 -11.708)%22%3E%3Cpath class%3D%22d%22 d%3D%22M0%2C0A.741.741%2C0%2C0%2C1-.741.741.741.741%2C0%2C0%2C1-1.482%2C0a.752.752%2C0%2C0%2C1%2C.021-.173h0l.006-.018c0-.018.01-.035.015-.051l.176-.578H-.223l.154.508a.774.774%2C0%2C0%2C1%2C.059.2L0-.083H0A.755.755%2C0%2C0%2C1%2C0%2C0M.592-.541h0L.1-1.9V-3.728a.433.433%2C0%2C0%2C0-.433-.433h-.838a.433.433%2C0%2C0%2C0-.433.433V-1.9l-.5%2C1.454c0%2C.011-.008.021-.011.032v0h0a1.443%2C1.443%2C0%2C0%2C0-.062.418A1.442%2C1.442%2C0%2C0%2C0-.741%2C1.449%2C1.442%2C1.442%2C0%2C0%2C0%2C.7.007%2C1.447%2C1.447%2C0%2C0%2C0%2C.592-.541%22%2F%3E%3C%2Fg%3E%3Cg transform%3D%22translate(5.169 -1.922)%22%3E%3Cpath class%3D%22g%22 d%3D%22M0%2C0%2C2.469-3.553v-.03H.23v-.97H3.991v.677L1.577-.369v.031H4.03V.631H0Z%22%2F%3E%3C%2Fg%3E%3Cpath class%3D%22g%22 d%3D%22M11.112-1.291H9.935V-6.475h1.177Z%22%2F%3E%3Cg transform%3D%22translate(13.287 -4.052)%22%3E%3Cpath class%3D%22g%22 d%3D%22M0%2C0A1.8%2C1.8%2C0%2C0%2C0%2C.393.031C1.015.031%2C1.4-.285%2C1.4-.815c0-.477-.331-.762-.915-.762A1.931%2C1.931%2C0%2C0%2C0%2C0-1.53ZM-1.161-2.354A9.664%2C9.664%2C0%2C0%2C1%2C.423-2.461a2.485%2C2.485%2C0%2C0%2C1%2C1.584.415%2C1.515%2C1.515%2C0%2C0%2C1%2C.554%2C1.2A1.653%2C1.653%2C0%2C0%2C1%2C2.084.384%2C2.4%2C2.4%2C0%2C0%2C1%2C.4.931%2C2.826%2C2.826%2C0%2C0%2C1%2C0%2C.907V2.761H-1.161Z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\")}.preview-container .file-grid .file .infor{display:flex;flex-direction:column;justify-content:space-between;padding-left:8px}.preview-container .file-grid .file .infor .file-name{font-size:12px;font-weight:400;width:100px;color:black;text-decoration:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.preview-container .file-grid .file .infor .size{font-size:10px;font-weight:lighter}.KHONG_HOP_LE{background:#ffab91}.CHUA_NHAN{background:#ffe082}.HOP_LE{background:#a5d6a7}.dropdown-content{position:absolute;background-color:white;min-width:160px;overflow:auto;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);right:0;z-index:1}\\n\"","import { Component, Input, OnInit, OnChanges, ViewEncapsulation, Output, EventEmitter, SimpleChanges, Renderer2, ViewChild, ElementRef, AfterViewInit, DoCheck, Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Helper } from '@core/index';\r\nimport { Library } from '@core/library';\r\nimport { AuthService } from '@core/services';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ViewInvoiceMultipageComponent } from '@shared/components';\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\r\n\r\n\r\n@Component({\r\n  selector: 'app-preview-mail',\r\n  templateUrl: './preview-mail.component.html',\r\n  styleUrls: ['./preview-mail.component.scss'],\r\n})\r\nexport class PreviewMailComponent implements OnChanges, OnInit {\r\n  objParams: any\r\n  exportSchedules: any;\r\n  clickCurent: any;\r\n  _translate: any;\r\n  opened = false;\r\n  html111 = ``\r\n  iframe: any;\r\n  stringFile: any;\r\n  isShow: any;\r\n  file: any;\r\n  html: any;\r\n  mst: any;\r\n  filter: any;\r\n  bsModalRef: BsModalRef;\r\n  datasAccount: any;\r\n  htmlResult: any;\r\n  isMenuOpen = false;\r\n  a: any;\r\n  _language: any;\r\n  @Input() isMailReceived;\r\n  @Input() previewEmmail;\r\n  @Output(\"myDropdown\") myDropdown = new EventEmitter<any>();\r\n  @ViewChild('toggleButton') toggleButton: ElementRef;\r\n  @ViewChild('menu') menu: ElementRef;\r\n  @ViewChild('menuDelete') menuDelete: ElementRef;\r\n  constructor(private authService: AuthService,\r\n    private invoiceBuyService: InvoiceBuyService,\r\n    public translate: TranslateService,\r\n    private modalService: BsModalService,\r\n    private modalImportService: BsModalService,\r\n    private renderer: Renderer2,\r\n    private domSanitizer: DomSanitizer\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this._language);\r\n  }\r\n  ngOnInit() {\r\n\r\n  }\r\n  ngOnChanges() {\r\n    if (this.previewEmmail.attachments !== null) {\r\n      this.file = JSON.parse(this.previewEmmail.attachments);\r\n      this.handleFileImg();\r\n    } else {\r\n      this.file = [];\r\n    }\r\n    this.html = this.b64DecodeUnicode(this.previewEmmail.html_body)\r\n    let text = this.html.split('body {width:795px;')\r\n    let text2 = this.html.split('{width:795px;')\r\n    if (text.length > 1) {\r\n      let html = this.html.replace('body {width:795px;font-family:\\'Times New Roman\\', Times, serif;', 'body {width:100%;');\r\n      let html2 = html.replace('serif;color: #000;', '');\r\n      let html3 = html2.replace('margin-left: 29px;', 'margin-left: 0px;')\r\n      let html4 = html3.replace('margin-left: 40px;', 'margin-left: 0px;')\r\n      let html5 = html4.replace('font-family:Times New Roman,Times,serif;', '')\r\n      this.htmlResult = html5\r\n    } else if (text2.length > 1) {\r\n      let html = this.html.replace('{margin-left:29px}', '');\r\n      let html2 = html.replace('color:#000}', '');\r\n      let html3 = html2.replace('{margin-left:40px}', '');\r\n      let html4 = html3.replace('{width:795px;', '');\r\n      let html5 = html4.replace('font-family:Times New Roman,Times,serif;', '')\r\n      this.htmlResult = html5\r\n\r\n    }\r\n    else {\r\n      this.htmlResult = this.html\r\n    }\r\n    this.renderer.listen('window', 'click', (e: Event) => {\r\n      if (this.isMailReceived.listDelete) {\r\n        if (!this.toggleButton.nativeElement.contains(e.target) && !this.menu.nativeElement.contains(e.target)) {\r\n          this.isShow = ''\r\n        }\r\n      } else {\r\n        if (!this.toggleButton.nativeElement.contains(e.target) && !this.menuDelete.nativeElement.contains(e.target)) {\r\n          this.isShow = ''\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  handleFileImg() {\r\n    for (let i = 0; i < this.file.length; i++) {\r\n      let fileNameArray = this.file[i].file_name.split('.')\r\n      let fileType = fileNameArray[fileNameArray.length - 1]\r\n      if (fileType == 'pdf') {\r\n        this.file[i].classImg = fileType\r\n      } else if (fileType == \"docx\") {\r\n        this.file[i].classImg = fileType\r\n      } else if (fileType == \"html\") {\r\n        this.file[i].classImg = fileType\r\n      } else if (fileType == \"xml\") {\r\n        this.file[i].classImg = fileType\r\n      } else if (fileType == \"rar\") {\r\n        this.file[i].classImg = fileType\r\n      } else if (fileType == \"zip\") {\r\n        this.file[i].classImg = fileType\r\n      } else {\r\n        this.file[i].classImg = 'img'\r\n      }\r\n    }\r\n  }\r\n  onExportSchedules() {\r\n\r\n  }\r\n  b64DecodeUnicode(str) {\r\n    // Going backwards: from bytestream, to percent-encoding, to original string.\r\n    return decodeURIComponent(atob(str).split('').map(function (c) {\r\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n  }\r\n  open() {\r\n    this.opened = !this.opened\r\n  }\r\n  myFunction() {\r\n    this.isMenuOpen = !this.isMenuOpen;\r\n    if (this.isMenuOpen) {\r\n      this.isShow = 'show'\r\n    }\r\n    else {\r\n      this.isShow = ''\r\n    }\r\n  }\r\n  deleteMail() {\r\n    this.isShow = ''\r\n    let id = this.previewEmmail.id\r\n    let arrId = [];\r\n    let ojb = {};\r\n    arrId.push(id)\r\n    if (this.isMailReceived.listDelete) {\r\n      ojb = {\r\n        \"soft_del\": true,\r\n        \"ids\": arrId\r\n      }\r\n    } else {\r\n      ojb = {\r\n        \"soft_del\": false,\r\n        \"ids\": arrId\r\n      }\r\n    }\r\n    const result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n    result.then((dialogResult) => {\r\n      if (dialogResult) {\r\n        Library.showloading();\r\n        this.invoiceBuyService.deleteMailId(ojb).subscribe(rs => {\r\n          if (rs.status === 'success') {\r\n            Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n            let emitData = { idMail: id, isTrue: true, action: 'xoa_mail' }\r\n            this.myDropdown.emit(emitData);\r\n          } else {\r\n            Library.notify(rs.message, 'error');\r\n          }\r\n        }, err => {\r\n        }, () => {\r\n          Library.hideloading();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  noReceived() {\r\n    this.isShow = ''\r\n    let id = this.previewEmmail.id\r\n    let arrId = [];\r\n    arrId.push(id)\r\n    let obj = {\r\n      ids: arrId,\r\n      error_reason: \"Người dùng đã chuyển trạng thái email thành không hợp lệ\",\r\n    }\r\n    const result = Library.confirm(this._translate.CONFIRM.definitely_do_not_receive, this._translate.NOTIFY.notify);\r\n    result.then((dialogResult) => {\r\n      if (dialogResult) {\r\n        Library.showloading();\r\n        this.invoiceBuyService.notReceived(obj).subscribe(rs => {\r\n          if (rs.status === 'success') {\r\n            Library.notify(this._translate.NOTIFY.finish, 'success');\r\n            let emitData = { idMail: id, isTrue: true, action: 'khong_nhan_hd' }\r\n            this.myDropdown.emit(emitData);\r\n          } else {\r\n            Library.notify(rs.message, 'error');\r\n          }\r\n        }, err => {\r\n        }, () => {\r\n          Library.hideloading();\r\n        });\r\n      }\r\n    });\r\n  }\r\n  restore() {\r\n    this.isShow = ''\r\n    let id = this.previewEmmail.id\r\n    let arrId = [];\r\n    arrId.push(id)\r\n    const result = Library.confirm(this._translate.CONFIRM.restore, this._translate.NOTIFY.notify);\r\n    result.then((dialogResult) => {\r\n      if (dialogResult) {\r\n        Library.showloading();\r\n        this.invoiceBuyService.restore(arrId).subscribe(rs => {\r\n          if (rs.status === 'success') {\r\n            Library.notify(this._translate.NOTIFY.restore, 'success');\r\n            let emitData = { idMail: id, isTrue: true, action: 'khoi_phuc' }\r\n            this.myDropdown.emit(emitData);\r\n          } else {\r\n            Library.notify(rs.message, 'error');\r\n          }\r\n        }, err => {\r\n        }, () => {\r\n          Library.hideloading();\r\n        });\r\n      }\r\n    });\r\n  }\r\n  nhanHoaDon() {\r\n    this.isShow = ''\r\n    const result = Library.confirm(this._translate.CONFIRM.would_you_like_to_receive_this_invoice, this._translate.NOTIFY.notify);\r\n    result.then((dialogResult) => {\r\n      if (dialogResult) {\r\n        let ids = [];\r\n        ids.push(this.previewEmmail.id);\r\n        let isKhongNhan = false;\r\n        let lstThuHopLe = this.previewEmmail.status\r\n        if (lstThuHopLe == 'HOP_LE')\r\n          isKhongNhan = true;\r\n        if (isKhongNhan) {\r\n          Library.notify(this._translate.NOTIFY.you_cannot_do_this_for_valid_email, 'error');\r\n        }\r\n        else {\r\n          Library.showloading();\r\n          this.invoiceBuyService.nhanHoaDon(ids).subscribe(res => {\r\n            if (res.status == 'success') {\r\n              Library.notify(this._translate.NOTIFY.receive_invoice_success, 'success');\r\n              let emitData = { idMail: this.previewEmmail.id, isTrue: true, action: 'nhan_hd' }\r\n              this.myDropdown.emit(emitData);\r\n            } else {\r\n              Library.notify(res.message, 'error');\r\n            }\r\n          }, err => {\r\n          }, () => {\r\n            Library.hideloading();\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  getInforAccount() {\r\n    const dataAcount = JSON.parse(window.localStorage.getItem('currentUser'));\r\n    this.datasAccount = dataAcount.account;\r\n  }\r\n  getInforFile(index) {\r\n    let id = this.file[index].file_id;\r\n    let fileArray = this.file[index].file_name.split(\".\")\r\n    let fileType = fileArray[fileArray.length - 1]\r\n    let fileName = '';\r\n    for (let i = 0; i < fileArray.length - 1; i++) {\r\n      fileName += fileArray[i]\r\n    }\r\n    this.invoiceBuyService.getInfoFile(id).subscribe(res => {\r\n      if (res.status == 'success') {\r\n        if (fileType == \"xml\") {\r\n          Helper.showFileXml(fileName, fileType, res.data.file_content)\r\n        }\r\n        else if (fileType == \"html\" || fileType == \"pdf\" || fileType == \"png\" || fileType == \"jpeg\" || fileType == \"jpg\") {\r\n          const initialState = {\r\n            fileName: fileName,\r\n            fileType: fileType,\r\n            fileContent: res.data.file_content,\r\n            typeAction: 'XEM_FILE'\r\n          };\r\n          this.bsModalRef = this.modalImportService.show\r\n            (\r\n              ViewInvoiceMultipageComponent,\r\n              {\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                class: 'modal-xl view-invoice',\r\n                initialState\r\n              }\r\n            );\r\n          const subModal = this.modalImportService.onHide.subscribe(() => {\r\n            subModal.unsubscribe();\r\n          });\r\n        } else {\r\n          Helper.dowloadFile(fileName, fileType, res.data.file_content, true);\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n@Pipe({ name: \"safeHtml\" })\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n\r\n  transform(value) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(value);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row support-invoice\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <div class=\\\"pull-left\\\">\\r\\n      <div style=\\\"float: left;width:  30%; padding-top: 4px\\\">{{ _translate.CONTROLL.BUTTON.add_row }}</div>\\r\\n      <div style=\\\"float: left; width: 30%\\\">\\r\\n        <dx-number-box #numberBox [max]=\\\"100\\\" [min]=\\\"1\\\" [showSpinButtons]=\\\"true\\\" [(value)]=\\\"rowData\\\"></dx-number-box>\\r\\n      </div>\\r\\n      <div>\\r\\n        <dx-button style=\\\"height: 27px\\\" icon=\\\"fa fa-plus-circle\\\" type=\\\"default\\\" text=\\\"\\\"\\r\\n                   (onClick)=\\\"addRow()\\\"></dx-button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!--phần table hiển thị-->\\r\\n<div class=\\\"row invoice-table\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <dx-data-grid id=\\\"gridInvoice\\\" [dataSource]=\\\"dataSource1\\\" [showBorders]=\\\"true\\\" [showRowLines]=\\\"true\\\"\\r\\n                  [allowColumnResizing]=\\\"true\\\" [columnResizingMode]=\\\"true\\\" [wordWrapEnabled]=\\\"true\\\"\\r\\n                  (onKeyDown)=\\\"onGripKeyDown($event)\\\"\\r\\n                  (onEditorPrepared)=\\\"onEditorPrepared($event)\\\"\\r\\n                  (onEditorPreparing)=\\\"onEditorPreparing($event)\\\"\\r\\n                  (onRowPrepared)=\\\"onRowPrepared($event)\\\"\\r\\n    >\\r\\n      <!-- [wordWrapEnabled]=\\\"true\\\" (onEditorPrepared)=\\\"onEditorPrepared($event)\\\" -->\\r\\n      <dxo-editing mode=\\\"cell\\\" [allowUpdating]=\\\"!ttDaXuatHoaDon\\\"></dxo-editing>\\r\\n      <dxo-sorting mode=\\\"false\\\"></dxo-sorting>\\r\\n      <dxi-column cellTemplate=\\\"deleteColumn\\\" caption=\\\"{{ _translate.GRID.INVOICE_DETAILS.delete }}\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.delete_column }}\\\"\\r\\n                  [allowEditing]=\\\"false\\\" alignment=\\\"center\\\" [fixed]=\\\"true\\\" fixedPosition=\\\"left\\\">\\r\\n      </dxi-column>\\r\\n      <dxi-column dataField=\\\"order\\\" caption=\\\"{{ _translate.GRID.INVOICE_DETAILS.view_order }}\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.stt }}\\\"\\r\\n                  alignment=\\\"center\\\" sortOrder=\\\"asc\\\" [fixed]=\\\"true\\\" fixedPosition=\\\"left\\\"></dxi-column>\\r\\n\\r\\n      <dxi-column cssClass=\\\"overlay-content123\\\" dataField=\\\"product_code\\\"\\r\\n                  caption=\\\"{{ _translate.GRID.INVOICE_DETAILS.product_code }}\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.ma_hang }}\\\"\\r\\n                  alignment=\\\"center\\\" [fixed]=\\\"true\\\" fixedPosition=\\\"left\\\" [editorOptions]=\\\"{showClearButton: true}\\\">\\r\\n      </dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"product_name\\\" minWidth=\\\"{{ _translate.GRID_WIDTH.ten_hang }}\\\"\\r\\n                  caption=\\\"{{ _translate.GRID.INVOICE_DETAILS.product_name }}\\\"\\r\\n                  alignment=\\\"left\\\" fixedPosition=\\\"left\\\"></dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"unit_name\\\" caption=\\\"{{ _translate.GRID.INVOICE_DETAILS.unit_code }}\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.unit_code }}\\\"\\r\\n                  alignment=\\\"center\\\">\\r\\n      </dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"quantity\\\" headerCellTemplate=\\\"quantityHeader\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.so_luong }}\\\"\\r\\n                  [editorOptions]=\\\"{ format: formatter.so_luong,step: '0' }\\\" [format]=\\\"formatter.so_luong\\\"\\r\\n                  dataType=\\\"number\\\"\\r\\n                  alignment=\\\"center\\\"></dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"price\\\" headerCellTemplate=\\\"priceHeader\\\" minWidth=\\\"{{ _translate.GRID_WIDTH.don_gia }}\\\"\\r\\n                  [editorOptions]=\\\"{ format: formatter.don_gia,step: '0' }\\\" [format]=\\\"formatter.don_gia\\\"\\r\\n                  dataType=\\\"number\\\"\\r\\n                  alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"amount\\\" headerCellTemplate=\\\"amountVatHeader1\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.don_gia }}\\\"\\r\\n                  [editorOptions]=\\\"{ format: formatter.don_gia, step:'0'}\\\" [format]=\\\"formatter.don_gia\\\"\\r\\n                  dataType=\\\"number\\\"\\r\\n                  alignment=\\\"right\\\"></dxi-column>\\r\\n\\r\\n      <!--      <dxi-column *ngIf=\\\"isHdGTGT\\\" dataField=\\\"vat\\\" headerCellTemplate=\\\"vatHeader\\\"-->\\r\\n      <!--                  minWidth=\\\"{{ _translate.GRID_WIDTH.vat }}\\\" alignment=\\\"center\\\"-->\\r\\n      <!--                  [editorOptions]=\\\"{showClearButton: true ,step: '0'}\\\">-->\\r\\n      <!--      </dxi-column>-->\\r\\n\\r\\n      <dxi-column *ngIf=\\\"isHdGTGT\\\" dataField=\\\"vat\\\" headerCellTemplate=\\\"vatHeader\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.so_luong }}\\\" alignment=\\\"center\\\"\\r\\n                  [editorOptions]=\\\"{showClearButton: true ,step: '0'}\\\">\\r\\n        <dxo-lookup [dataSource]=\\\"select.vats\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\"></dxo-lookup>\\r\\n      </dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"amount_vat\\\"\\r\\n                  headerCellTemplate=\\\"amountHeader\\\" minWidth=\\\"{{ _translate.GRID_WIDTH.thanh_tien }}\\\"\\r\\n                  [editorOptions]=\\\"{ format: formatter.tong_tien, step:'0'}\\\" [format]=\\\"formatter.tong_tien\\\"\\r\\n                  dataType=\\\"number\\\"\\r\\n                  alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"amount_after_vat\\\" headerCellTemplate=\\\"amountAfterVatHeader\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.tien_thue }}\\\"\\r\\n                  [editorOptions]=\\\"{ format: formatter.tien_thue, step: '0' }\\\" [format]=\\\"formatter.tien_thue\\\"\\r\\n                  dataType=\\\"number\\\"\\r\\n                  alignment=\\\"right\\\">\\r\\n      </dxi-column>\\r\\n\\r\\n      <dxi-column dataField=\\\"product_group\\\"\\r\\n                  caption=\\\"{{ _translate.GRID.INVOICE_DETAILS.group_HHDV_buy }}\\\"\\r\\n                  minWidth=\\\"{{ _translate.GRID_WIDTH.tong_tien_sau_thue }}\\\"\\r\\n                  alignment=\\\"right\\\">\\r\\n        <dxo-lookup [dataSource]=\\\"select.dataHDMV\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\">\\r\\n        </dxo-lookup>\\r\\n      </dxi-column>\\r\\n\\r\\n      <!-- config column header -->\\r\\n      <div *dxTemplate=\\\"let d of 'quantityHeader'\\\">\\r\\n        <p (click)=\\\"configDecimal('so_luong')\\\" style=\\\"cursor: pointer;\\\">\\r\\n          {{ _translate.GRID.INVOICE_DETAILS.quantity }} <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'priceHeader'\\\">\\r\\n        <p (click)=\\\"configDecimal('don_gia')\\\" style=\\\"cursor: pointer;\\\">\\r\\n          {{ _translate.GRID.INVOICE_DETAILS.price }} <img src=\\\"assets/img/icons/SoThapPhan.png\\\">\\r\\n        </p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'price_nteHeader'\\\">\\r\\n        <p (click)=\\\"configDecimal('don_gia_nte')\\\" style=\\\"cursor: pointer;\\\">\\r\\n          {{ _translate.GRID.INVOICE_DETAILS.price_nte }} <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'amountHeader'\\\">\\r\\n        <p (click)=\\\"configDecimal('tien_thue')\\\"\\r\\n           style=\\\"cursor: pointer;\\\">{{ _translate.GRID.INVOICE_DETAILS.amount_vat }}\\r\\n          <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'amountNoDiscountHeader'\\\">\\r\\n        <p (click)=\\\"configDecimal('thanh_tien_chua_ck')\\\"\\r\\n           style=\\\"cursor: pointer;\\\">{{ _translate.GRID.INVOICE_DETAILS.amount_without_discount }}\\r\\n          <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'discountHeader'\\\">\\r\\n        <p (click)=\\\"configDecimal('ty_le_chiet_khau')\\\"\\r\\n           style=\\\"cursor: pointer;\\\">{{ _translate.GRID.INVOICE_DETAILS.discount }}\\r\\n          <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'amount_discountHeader'\\\">\\r\\n        <p (click)=\\\"configDecimal('tien_chiet_khau')\\\" style=\\\"cursor: pointer;\\\">\\r\\n          {{ _translate.GRID.INVOICE_DETAILS.amount_discount }}\\r\\n          <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'vatHeader'\\\">\\r\\n        <p>VAT (%)</p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'amountVatHeader'\\\">\\r\\n        <p style=\\\"cursor: pointer;\\\">\\r\\n          {{ _translate.GRID.INVOICE_DETAILS.total_money }}</p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'amountVatHeader1'\\\">\\r\\n        <p (click)=\\\"configDecimal('thanh_tien')\\\" style=\\\"cursor: pointer;\\\">\\r\\n          {{ _translate.GRID.INVOICE_DETAILS.amount }} <img src=\\\"assets/img/icons/SoThapPhan.png\\\">\\r\\n        </p>\\r\\n      </div>\\r\\n      <div *dxTemplate=\\\"let d of 'amountAfterVatHeader'\\\">\\r\\n        <p style=\\\"cursor: pointer;\\\">\\r\\n          {{ _translate.GRID.INVOICE_DETAILS.total_money }} <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>\\r\\n      </div>\\r\\n\\r\\n      <!--      <div *dxTemplate=\\\"let d of 'amountHDMV'\\\">-->\\r\\n      <!--        <p style=\\\"cursor: pointer;\\\">-->\\r\\n      <!--          {{ _translate.GRID.INVOICE_DETAILS.group_HHDV_buy }} <img src=\\\"assets/img/icons/SoThapPhan.png\\\"></p>-->\\r\\n      <!--      </div>-->\\r\\n      <!-- config column -->\\r\\n      <div id=\\\"context-table\\\" *dxTemplate=\\\"let d of 'deleteColumn'\\\">\\r\\n        <a class=\\\"delete-row\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"deleteRow(d.data)\\\"><i class=\\\"fa fa-times\\\"></i></a>\\r\\n      </div>\\r\\n\\r\\n      <dxo-paging [enabled]=\\\"false\\\"></dxo-paging>\\r\\n      <dxo-remote-operations [sorting]=\\\"false\\\" [filtering]=\\\"false\\\"></dxo-remote-operations>\\r\\n    </dx-data-grid>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \".delete-row i{color:#0E77BB;font-size:18px}.support-invoice{margin-top:20px;margin-bottom:10px}.support-invoice .support-link{padding:6px 15px;border:1px solid #007bff;text-decoration:none}.support-invoice .support-link.mgr-15{margin-right:8px}.support-invoice .support-link img,.support-invoice .support-link i{margin-right:15px;margin-top:-2px}.support-invoice .auto-input{margin-right:75px !important}::ng-deep .vat.amount-table-footer input,::ng-deep .vat.amount-vat-table-footer input,::ng-deep .vat.amount-after-vat-table-footer input{font-weight:bold;text-align:right;color:#0034F5}::ng-deep .styleItemToList{color:dodgerblue}\\n\"","import { AfterViewInit, Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { Subscription } from 'rxjs';\r\nimport { InvoiceModel, VatService } from '@modules/vat/shared';\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ProductsService } from '@modules/products/shared';\r\nimport { AuthService } from '@core/services';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Helper } from '@core/helper/Helper';\r\nimport { ConfigDecimalComponent } from '@shared/modules/vat-shared/components/config-decimal/config-decimal.component';\r\nimport { VChanggeMoneyService } from '@core/library/invoice/v-changge-money.service';\r\n\r\n@Component({\r\n  selector: 'app-product-grip',\r\n  templateUrl: './product-grip.component.html',\r\n  styleUrls: ['./product-grip.component.scss']\r\n})\r\nexport class ProductGripComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  routeSub: Subscription;\r\n  dataSource1: any;\r\n  @Input() set dataSource(value) {\r\n    this.dataSource1 = value;\r\n    this.createUpdateEvent();\r\n  }\r\n  @Input() invoice_products: any;\r\n  @Input() formatter: any;\r\n  @Input() isHdGTGT: any;\r\n  @Input() _objTemplateSelect: any;\r\n  @Input() extentionGrid: any;\r\n  @Input() formDataInInvoice: any;\r\n  select: any = {};\r\n  _translate: any;\r\n  frmData: InvoiceModel = new InvoiceModel(1);\r\n  bsModalRef: BsModalRef;\r\n  showPopup = false; // Popup\r\n  ttDaXuatHoaDon = false;\r\n  configs: any;\r\n  amount_after_vat: any = 0;\r\n  system_parameter: any = {};\r\n  rowData = 1;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private modalService: BsModalService,\r\n    private vatService: VatService,\r\n    private productsService: ProductsService,\r\n    private authService: AuthService,\r\n    public translate: TranslateService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.select.dataHDMV = [\r\n      { code: '1', name: 'HHDV dùng riêng' },\r\n      { code: '2', name: 'HHDV dùng chung' },\r\n      { code: '3', name: 'HHDV dùng cho dự án đầu tư' },\r\n      { code: '4', name: 'HHDV không đủ điều kiện' },\r\n    ];\r\n    this.select.vats = [\r\n      { name: 'Không chịu thuế', code: -1 },\r\n      { name: 'Không kê khai tính thuế', code: -2 },\r\n      { name: '0%', code: 0 },\r\n      { name: '5%', code: 5 },\r\n      { name: '8%', code: 8 },\r\n      { name: '10%', code: 10 },\r\n    ];\r\n    this.configs = this.authService.getConfigs();\r\n  }\r\n\r\n  createUpdateEvent() {\r\n    setTimeout(() => {\r\n      this.invoice_products.on('updated', (key, value) => {\r\n        const column = Object.keys(value)[0];\r\n        if (value.product_code !== 'add') {\r\n          this.invoice_products.byKey(key).then((row) => {\r\n            switch (column) {\r\n              case 'quantity':\r\n              case 'price':\r\n              case 'vat':\r\n              case 'amount':\r\n              case 'amount_vat':\r\n                this._tinhGiaTri(key, row, value);\r\n                break;\r\n              default:\r\n                break;\r\n              // }\r\n            }\r\n          }, (error) => {\r\n            alert(error);\r\n          });\r\n        } else {\r\n          this.invoice_products.remove(key);\r\n          this.addRow();\r\n        }\r\n      });\r\n    }, 200);\r\n  }\r\n\r\n  _tinhGiaTri(key, row, value) {\r\n    if (row.product_name) {\r\n      if (row.quantity && row.price) {\r\n        row.amount = row.quantity * row.price;\r\n      }\r\n      if (row.amount) {\r\n        if (row.vat && row.vat !== 0 && row.vat !== -1 && row.vat !== -2) {\r\n          row.amount_vat = (row.amount * row.vat) / 100;\r\n        } else if (row.vat === 0 || row.vat === -1 || row.vat === -2) {\r\n          row.amount_vat = 0;\r\n        }\r\n        row.amount_after_vat = row.amount + row.amount_vat;\r\n      }\r\n      this.formDataInInvoice.total_payment = 0;\r\n      this.formDataInInvoice.amount = 0;\r\n      this.formDataInInvoice.total_amount_vat = 0;\r\n      this.invoice_products.load().done(item => {\r\n        item.forEach(\r\n          valueItem => {\r\n            this.formDataInInvoice.total_payment += valueItem.amount_after_vat;\r\n            this.formDataInInvoice.amount += valueItem.amount;\r\n            this.formDataInInvoice.total_amount_vat += valueItem.amount_vat;\r\n          }\r\n        );\r\n      });\r\n      let currency_code = this.formDataInInvoice.currency_code;\r\n      if (this.configs.system_parameter.view_price_nte) {\r\n        currency_code = 'VND';\r\n      }\r\n      let number_money = Math.abs(this.formDataInInvoice.total_payment);\r\n      let c_money = Helper.tienBangChu(number_money, VChanggeMoneyService.getFormatterToNumber(this.formatter.tong_tien), currency_code, this.configs.system_parameter.display_read_money_english);\r\n      this.formDataInInvoice.total_payment_in_word = c_money;\r\n      if (this.formDataInInvoice.adjustment_type == \"5\") {\r\n        if (this.formDataInInvoice.total_payment < 0) {\r\n          this.formDataInInvoice.total_payment_in_word = \"Giảm \" + c_money;\r\n        }\r\n        else if (this.formDataInInvoice.total_payment > 0) {\r\n          this.formDataInInvoice.total_payment_in_word = \"Tăng \" + c_money;\r\n        }\r\n      }\r\n      return row;\r\n    }\r\n  }\r\n\r\n  onGripKeyDown(e) {\r\n    if (e.event.code === 'Delete') {\r\n      e.event.srcElement.value = null;\r\n    }\r\n  }\r\n\r\n  onRowPrepared(e) {\r\n    if (e.rowType === 'data') {\r\n      e.rowElement.style.whiteSpace = 'pre-wrap';\r\n      const eles = e.rowElement.getElementsByTagName('td');\r\n      if (e.data.error) {\r\n        const ele = eles[eles.length - 1];\r\n        ele.style.background = 'red url(\\'assets/img/icons/fa-remove.png\\') no-repeat 2% center';\r\n        ele.title = e.data.error;\r\n      }\r\n    }\r\n  }\r\n\r\n  onEditorPreparing(e) {\r\n    if (e.parentType === 'dataRow') {\r\n      if (e.dataField === 'product_code') {\r\n        e.editorOptions.onOpened = function (arg) {\r\n          const popupInstance = arg.component._popup;\r\n          popupInstance.option('width', 400);\r\n          popupInstance.option('minWidth', 400);\r\n        };\r\n      }\r\n      if (e.dataField === 'product_name') {\r\n        e.editorName = 'dxTextArea';\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  onEditorPrepared(e) {\r\n    if ((e.dataField === 'amount_without_discount' || e.dataField === 'discount' || e.dataField === 'amount_discount' || e.dataField === 'quantity' || e.dataField === 'price' || e.dataField === 'amount' || e.dataField === 'amount_vat' || e.dataField === 'amount_after_vat') && e.parentType === 'dataRow') {\r\n      e.editorElement.childNodes[1].firstChild.onwheel = (evt) => {\r\n        e.component.cancelEditData();\r\n      };\r\n      e.editorElement.childNodes[1].firstChild.addEventListener('select', function () {\r\n        this.selectionStart = this.selectionEnd;\r\n      }, false);\r\n    }\r\n  }\r\n\r\n  addRow() {\r\n    let len, order, orderLast;\r\n    len = this.dataSource1.items().length;\r\n    orderLast = this.dataSource1.items()[len - 1].order;\r\n    for (let i = 0; i < this.rowData; i++) {\r\n      if (this.dataSource1.items().length >= 1) {\r\n        order = ++orderLast;\r\n      } else {\r\n        order = 1;\r\n      }\r\n      const data = this.add_invoice_products_data(order);\r\n      this.invoice_products.insert(data);\r\n    }\r\n    this.dataSource1.reload();\r\n  }\r\n\r\n  add_invoice_products_data(order) {\r\n    return {\r\n      id: Helper.makeid(),\r\n      order: order,\r\n      product_code: '',\r\n      product_name: '',\r\n      unit_code: null,\r\n      unit_name: '',\r\n      quantity: null,\r\n      price: null,\r\n      vat: null,\r\n      amount_vat: null,\r\n      amount: null,\r\n      product_group: null,\r\n      amount_after_vat: null\r\n    };\r\n  }\r\n\r\n  roundNumber(number, n): number {\r\n    const p = Math.pow(10, n);\r\n    return Math.round(number * p) / p;\r\n  }\r\n\r\n  configDecimal(n) {\r\n    const initialState = {\r\n      column: n,\r\n      formatter: this.formatter,\r\n      showDonGiaNte: this.system_parameter.view_price_nte,\r\n    };\r\n    this.bsModalRef = this.modalService.show(ConfigDecimalComponent, {\r\n      class: 'modal-lg', initialState, backdrop: 'static',\r\n      keyboard: false\r\n    });\r\n    const subModal = this.modalService.onHide.subscribe(() => {\r\n      const data = this.bsModalRef.content.successSaveItem;\r\n      if (data) {\r\n        // this.formatter[data.column] = data.character;\r\n      }\r\n      subModal.unsubscribe();\r\n    });\r\n  }\r\n\r\n  // Xóa hàng\r\n  deleteRow(item) {\r\n    if (confirm(this._translate.CONFIRM.delete)) {\r\n      this.invoice_products.remove(item.id);\r\n      this.formDataInInvoice.total_payment = 0;\r\n      this.formDataInInvoice.total_amount_vat = 0;\r\n      this.formDataInInvoice.amount = 0;\r\n      this.invoice_products.load().done(data => {\r\n        let _index = 0;\r\n        data.forEach(\r\n          value => {\r\n            value.order = ++_index;\r\n            if (value.amount) {\r\n              this.formDataInInvoice.amount += value.amount;\r\n            }\r\n            if (value.amount_after_vat) {\r\n              this.formDataInInvoice.total_payment += value.amount_after_vat;\r\n            }\r\n            if (value.amount_vat) {\r\n              this.formDataInInvoice.total_amount_vat += value.amount_vat;\r\n            }\r\n          }\r\n        );\r\n      });\r\n      this.dataSource1.reload();\r\n    }\r\n  }\r\n\r\n  // Nạp dữ liệu bảng kê\r\n  napDuLieuTuBangKe() {\r\n    document.getElementById('file-bang-ke').click();\r\n  }\r\n\r\n  taxCodeChoose(e) {\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"search-container\\\" [formGroup]=\\\"emailForm\\\" (ngSubmit)=\\\"onSubmit()\\\" [ngClass]=\\\"nonSearch\\\">\\r\\n  <dx-select-box [items]=\\\"mailAccount\\\" displayExpr=\\\"email\\\" valueExpr=\\\"id\\\" (onValueChanged)=\\\"onEmailChanged($event)\\\"\\r\\n    [value]=\\\"objSelect.email\\\" formControlName=\\\"emailName\\\" itemTemplate=\\\"item\\\">\\r\\n    <div *dxTemplate=\\\"let i of 'item'\\\">\\r\\n      <span [ngClass]=\\\"i.status=='0'?'khong-hoat-dong': ''\\\">{{i.email}}</span>\\r\\n    </div>\\r\\n  </dx-select-box>\\r\\n  <dx-select-box [items]=\\\"status\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" (onValueChanged)=\\\"onStatusChanged($event)\\\"\\r\\n    [value]=\\\"objSelect.status\\\" formControlName=\\\"status\\\">\\r\\n  </dx-select-box>\\r\\n  <dx-text-box placeholder=\\\"Tìm kiếm trong cuộc trò chuyện\\\" (onValueChanged)=\\\"valueChanged($event)\\\"\\r\\n    formControlName=\\\"subject\\\">\\r\\n  </dx-text-box>\\r\\n  <button class=\\\"filter-btn\\\" #toggleSearch (click)=\\\"open()\\\">\\r\\n    <img src=\\\"../../../../../assets/img/icons/invoice-buy/filter.svg\\\" alt=\\\"\\\"  >\\r\\n  </button>\\r\\n  <div class=\\\"search-extend\\\" *ngIf=\\\"opened\\\" #menuSearch>\\r\\n    <h1 style=\\\"font-weight: bold;padding-left: 60px;padding-bottom: 19px;padding-top: 19px;\\\">TÌM KIẾM NÂNG CAO</h1>\\r\\n    <div class=\\\"dx-field\\\">\\r\\n      <div class=\\\"dx-field-label\\\">Email người gửi</div>\\r\\n      <div class=\\\"dx-field-value\\\">\\r\\n        <dx-text-box displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" style=\\\"width:100%\\\" formControlName=\\\"send_from\\\"\\r\\n          (onValueChanged)=\\\"onEmailNameChange($event)\\\"></dx-text-box>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"dx-field\\\">\\r\\n      <div class=\\\"dx-field-label\\\">Từ ngày</div>\\r\\n      <div class=\\\"dx-field-value\\\">\\r\\n        <dx-date-box [value]=\\\"\\\" type=\\\"date\\\" formControlName=\\\"startDate\\\" [useMaskBehavior]=\\\"true\\\"\\r\\n          [displayFormat]=\\\"'dd/MM/yyyy'\\\" (onValueChanged)=\\\"onStartDate($event)\\\"> </dx-date-box>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"dx-field\\\">\\r\\n      <div class=\\\"dx-field-label\\\">Đến ngày</div>\\r\\n      <div class=\\\"dx-field-value\\\">\\r\\n        <dx-date-box [value]=\\\"\\\" type=\\\"date\\\" formControlName=\\\"endDate\\\" [useMaskBehavior]=\\\"true\\\"\\r\\n          [displayFormat]=\\\"'dd/MM/yyyy'\\\" (onValueChanged)=\\\"onEndDate($event)\\\"> </dx-date-box>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"dx-field\\\" style=\\\"display: flex;justify-content: end;\\\">\\r\\n      <button class=\\\"search-btn\\\" (click)=\\\"search()\\\">Tìm kiếm</button>\\r\\n      <button class=\\\"cancel-btn\\\" (click)=\\\"open()\\\">Quay lại</button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \".none-search{display:none !important}.search-container{display:flex;align-items:center;position:relative}.search-container .search-extend{position:absolute;width:100%;height:235px;top:37px;z-index:1;right:0;background:white;box-shadow:rgba(0,0,0,0.16) 0px 1px 4px}.search-container .search-extend .dx-field{width:80%}.search-container .search-extend .dx-field .search-btn{padding:6px 29px;background:#2680eb;color:white;border:none;outline:none;margin-right:15px;border-radius:3px}.search-container .search-extend .dx-field .cancel-btn{padding:6px 16px;background-color:white;color:#2680eb;border-radius:3px;border:1px solid #2680eb;outline:none}.search-container .filter-btn{background-color:#dadce0;border:none;padding:6px;margin-left:10px}.dx-texteditor.dx-editor-outlined{width:31%;height:30px;margin-left:10px}.khong-hoat-dong{color:red;font-weight:bold}\\n\"","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, Renderer2, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { VSelectBoxService, VStringService } from '@core/index';\r\nimport { AuthService } from '@core/services';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as moment from \"moment\";\r\nimport { collapseTextChangeRangesAcrossMultipleVersions } from 'typescript';\r\nimport { isBuffer } from 'util';\r\n\r\n@Component({\r\n  selector: 'app-search-mail',\r\n  templateUrl: './search-mail.component.html',\r\n  styleUrls: ['./search-mail.component.scss']\r\n})\r\nexport class SearchMailComponent implements OnInit, AfterViewInit {\r\n  opened = false;\r\n  mailAccount: any;\r\n  _language: string;\r\n  objSelect: any = {};\r\n  _translate: any;\r\n  defaultEmailAccount: any;\r\n  defaultStatus: any\r\n  firstEmaiAccountId: any;\r\n  searchString: any;\r\n  arrSelected: any = [];\r\n  status: any;\r\n  isShow: any\r\n  isEndDateChange = false;\r\n  isStartDateChange = false;\r\n  isEmailNameChange = false;\r\n  isSearch = false;\r\n  isSubject = false;\r\n  curentMail: any;\r\n  curentUser: any;\r\n  nonSearch: any;\r\n  emailForm = new FormGroup({\r\n    emailName: new FormControl(''), // <== default value\r\n    status: new FormControl(''),\r\n    send_from: new FormControl(''),\r\n    endDate: new FormControl(''),\r\n    startDate: new FormControl(''),\r\n    subject: new FormControl('') // <== default value\r\n  });\r\n  @Input() isSelected;\r\n  @Input() isMailReceived;\r\n  @Output(\"searchContentChange\") searchContentChange = new EventEmitter<any>();\r\n  @Output(\"selectMail\") selectMail = new EventEmitter<any>();\r\n  @Output(\"isMail\") isMail = new EventEmitter<any>();\r\n  @ViewChild('toggleSearch') toggleSearch: ElementRef;\r\n  @ViewChild('menuSearch') menuSearch: ElementRef;\r\n  constructor(private invoiceBuyService: InvoiceBuyService, private authService: AuthService,\r\n    public translate: TranslateService, private fb: FormBuilder, private renderer: Renderer2) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this._language);\r\n    this.status = VSelectBoxService.statusEmail(this._translate);\r\n    this.defaultStatus = null;\r\n    this.curentUser = this.authService.getCurrentUser();\r\n    this.curentMail = this.curentUser.user.permission_mails;\r\n\r\n  }\r\n  ngOnChanges() {\r\n    if (this.isSelected) {\r\n      this.nonSearch = 'none-search';\r\n    } else {\r\n      this.nonSearch = ''\r\n    }\r\n  }\r\n  ngOnInit() {\r\n    if (this.isMailReceived.id == null) {\r\n      let filter = '';\r\n      if (this.curentMail !== \"\" && this.curentMail !== null) {\r\n        let permission_mails = this.curentMail.split(',');\r\n        filter += `&filter_groups[1][filters][0][key]=email`\r\n        for (let i = 0; i < permission_mails.length; i++) {\r\n          filter += `&filter_groups[1][filters][0][value][${i}]=${permission_mails[i]}`\r\n        }\r\n        filter += `&filter_groups[1][filters][0][operator]=in&`\r\n      } else {\r\n\r\n      }\r\n      this.invoiceBuyService.getEmailAccount(filter).subscribe(res => {\r\n        this.mailAccount = res.data.config_mails;\r\n        if (this.mailAccount.length > 0) {\r\n          this.isMail.emit(true)\r\n        } else {\r\n          this.isMail.emit(false)\r\n        }\r\n        this.emailForm = this.fb.group({\r\n          emailName: res.data.config_mails[0].id,\r\n          status: 'TAT_CA',\r\n          send_from: '',\r\n          endDate: '',\r\n          startDate: '',\r\n          subject: ''\r\n        });\r\n        this.onSubmit()\r\n      });\r\n    } else {\r\n      let filter = '';\r\n      if (this.curentMail !== \"\" && this.curentMail !== null) {\r\n        let permission_mails = this.curentMail.split(',');\r\n        filter += `&filter_groups[1][filters][0][key]=email`\r\n        for (let i = 0; i < permission_mails.length; i++) {\r\n          filter += `&filter_groups[1][filters][0][value][${i}]=${permission_mails[i]}`\r\n        }\r\n        filter += `&filter_groups[1][filters][0][operator]=in&`\r\n      } else {\r\n\r\n      }\r\n      this.invoiceBuyService.getEmailAccount(filter).subscribe(res => {\r\n        this.mailAccount = res.data.config_mails;\r\n        if (this.mailAccount.length > 0) {\r\n          this.isMail.emit(true)\r\n        } else {\r\n          this.isMail.emit(false)\r\n        }\r\n        this.emailForm = this.fb.group({\r\n          emailName: this.isMailReceived.id,\r\n          status: 'TAT_CA',\r\n          send_from: '',\r\n          endDate: '',\r\n          startDate: '',\r\n          subject: ''\r\n        });\r\n        this.onSubmit()\r\n      });\r\n    }\r\n    setTimeout(() => {\r\n      this.renderer.listen('window', 'click', (e: Event) => {\r\n        if (!this.toggleSearch.nativeElement.contains(e.target) && !this.menuSearch.nativeElement.contains(e.target)) {\r\n          this.opened = false;\r\n        }\r\n      });\r\n    }, 500);\r\n  }\r\n  ngAfterViewInit() {\r\n\r\n  }\r\n  onEmailChanged(e) {\r\n    if (e.event) {\r\n      this.onSubmit();\r\n    }\r\n  }\r\n  onEndDate(e) {\r\n    if (e.event) {\r\n      this.isEndDateChange = true;\r\n    }\r\n  }\r\n\r\n  onStartDate(e) {\r\n    if (e.event) {\r\n      this.isStartDateChange = true;\r\n    }\r\n  }\r\n  onEmailNameChange(e) {\r\n    if (e.event) {\r\n      this.isEmailNameChange = true;\r\n    }\r\n  }\r\n  valueChanged(e) {\r\n    if (e.event) {\r\n      this.onSubmit();\r\n    }\r\n  }\r\n  onStatusChanged(e) {\r\n    if (e.event) {\r\n      this.onSubmit()\r\n    }\r\n  }\r\n  onSubmit() {\r\n    if (this.isMailReceived.listDelete) {\r\n      if (this.emailForm.get('status').value == \"TAT_CA\") {\r\n        let selectString = `filter_groups[1][filters][0][key]=config_mail_id\r\n        &filter_groups[1][filters][0][value]=${this.emailForm.get('emailName').value}\r\n        &filter_groups[1][filters][0][operator]=eq&\r\n        &filter_groups[2][filters][1][key]=soft_del\r\n        &filter_groups[2][filters][1][value]=null\r\n        &filter_groups[2][filters][1][operator]=eq&\r\n        `;\r\n        if (this.emailForm.get('subject').value !== '') {\r\n          selectString += `filter_groups[3][filters][0][key]=subject\r\n          &filter_groups[3][filters][0][value]=${this.emailForm.get('subject').value}\r\n          &filter_groups[3][filters][0][operator]=ct&`\r\n        }\r\n        if (this.emailForm.get('startDate').value !== '' && this.emailForm.get('startDate').value !== null) {\r\n          selectString += `&filter_groups[4][filters][1][key]=send_date\r\n            &filter_groups[4][filters][1][value]=${moment(this.emailForm.get('startDate').value).format(\"YYYY-MM-DD 00:00:00\")}\r\n            &filter_groups[4][filters][1][operator]=gte&`\r\n        }\r\n        if (this.emailForm.get('endDate').value !== '' && this.emailForm.get('endDate').value !== null) {\r\n          selectString += `&filter_groups[5][filters][1][key]=send_date\r\n            &filter_groups[5][filters][1][value]=${moment(this.emailForm.get('endDate').value).format(\"YYYY-MM-DD 23:59:59\")}\r\n            &filter_groups[5][filters][1][operator]=lt&`\r\n        }\r\n        if (this.emailForm.get('send_from').value !== '') {\r\n          let emailName = this.emailForm.get('send_from').value;\r\n          let valueSearch = emailName.split(';')\r\n          if (valueSearch.length === 1) {\r\n            selectString += `&filter_groups[6][filters][1][key]=send_from\r\n              &filter_groups[6][filters][1][value]=${this.emailForm.get('send_from').value}\r\n              &filter_groups[6][filters][1][operator]=eq&`\r\n          } else {\r\n            selectString += `&filter_groups[6][filters][1][key]=send_from`\r\n            for (let i = 0; i < valueSearch.length; i++) {\r\n              selectString += ` &filter_groups[6][filters][1][value][${i}]=${valueSearch[i]}`\r\n            }\r\n            selectString += ` &filter_groups[6][filters][1][operator]=in&`\r\n          }\r\n        }\r\n        this.searchContentChange.emit(selectString);\r\n        let id = this.emailForm.get(\"emailName\").value\r\n        this.selectMail.emit(id)\r\n      } else {\r\n        let selectString = `filter_groups[1][filters][0][key]=config_mail_id\r\n        &filter_groups[1][filters][0][value]=${this.emailForm.get('emailName').value}\r\n        &filter_groups[1][filters][0][operator]=eq&\r\n        filter_groups[8][filters][0][key]=status\r\n        &filter_groups[8][filters][0][value]=${this.emailForm.get('status').value}\r\n        &filter_groups[8][filters][0][operator]=eq&\r\n        &filter_groups[2][filters][1][key]=soft_del\r\n        &filter_groups[2][filters][1][value]=null\r\n        &filter_groups[2][filters][1][operator]=eq&\r\n        `;\r\n        if (this.emailForm.get('subject').value !== '') {\r\n          selectString += `filter_groups[3][filters][0][key]=subject\r\n          &filter_groups[3][filters][0][value]=${this.emailForm.get('subject').value}\r\n          &filter_groups[3][filters][0][operator]=ct&`\r\n        }\r\n        if (this.emailForm.get('startDate').value !== '' && this.emailForm.get('startDate').value !== null) {\r\n          selectString += `&filter_groups[4][filters][1][key]=send_date\r\n            &filter_groups[4][filters][1][value]=${moment(this.emailForm.get('startDate').value).format(\"YYYY-MM-DD 00:00:00\")}\r\n            &filter_groups[4][filters][1][operator]=gte&`\r\n        }\r\n        if (this.emailForm.get('endDate').value !== '' && this.emailForm.get('endDate').value !== null) {\r\n          selectString += `&filter_groups[5][filters][1][key]=send_date\r\n            &filter_groups[5][filters][1][value]=${moment(this.emailForm.get('endDate').value).format(\"YYYY-MM-DD 23:59:59\")}\r\n            &filter_groups[5][filters][1][operator]=lt&`\r\n        }\r\n        if (this.emailForm.get('send_from').value !== '') {\r\n          selectString += `&filter_groups[6][filters][1][key]=send_from\r\n            &filter_groups[6][filters][1][value]=${this.emailForm.get('send_from').value}\r\n            &filter_groups[6][filters][1][operator]=eq&`\r\n        }\r\n        this.searchContentChange.emit(selectString);\r\n        let id = this.emailForm.get(\"emailName\").value\r\n        this.selectMail.emit(id)\r\n      }\r\n    }\r\n    else {\r\n      if (this.emailForm.get('status').value == \"TAT_CA\") {\r\n        let selectString = `filter_groups[1][filters][0][key]=config_mail_id\r\n        &filter_groups[1][filters][0][value]=${this.emailForm.get('emailName').value}\r\n        &filter_groups[1][filters][0][operator]=eq&\r\n        &filter_groups[2][filters][1][key]=soft_del\r\n        &filter_groups[2][filters][1][value]=1\r\n        &filter_groups[2][filters][1][operator]=eq&\r\n        `;\r\n        if (this.emailForm.get('subject').value !== '') {\r\n          selectString += `filter_groups[3][filters][0][key]=subject\r\n          &filter_groups[3][filters][0][value]=${this.emailForm.get('subject').value}\r\n          &filter_groups[3][filters][0][operator]=ct&`\r\n        }\r\n        if (this.emailForm.get('startDate').value !== '' && this.emailForm.get('startDate').value !== null) {\r\n          selectString += `&filter_groups[4][filters][1][key]=send_date\r\n            &filter_groups[4][filters][1][value]=${moment(this.emailForm.get('startDate').value).format(\"YYYY-MM-DD 00:00:00\")}\r\n            &filter_groups[4][filters][1][operator]=gte&`\r\n        }\r\n        if (this.emailForm.get('endDate').value !== '' && this.emailForm.get('endDate').value !== null) {\r\n          selectString += `&filter_groups[5][filters][1][key]=send_date\r\n            &filter_groups[5][filters][1][value]=${moment(this.emailForm.get('endDate').value).format(\"YYYY-MM-DD 23:59:59\")}\r\n            &filter_groups[5][filters][1][operator]=lt&`\r\n        }\r\n        if (this.emailForm.get('send_from').value !== '') {\r\n          selectString += `&filter_groups[6][filters][1][key]=send_from\r\n            &filter_groups[6][filters][1][value]=${this.emailForm.get('send_from').value}\r\n            &filter_groups[6][filters][1][operator]=eq&`\r\n        }\r\n\r\n        this.searchContentChange.emit(selectString);\r\n        let id = this.emailForm.get(\"emailName\").value\r\n        this.selectMail.emit(id)\r\n      } else {\r\n        let selectString = `filter_groups[1][filters][0][key]=config_mail_id\r\n        &filter_groups[1][filters][0][value]=${this.emailForm.get('emailName').value}\r\n        &filter_groups[1][filters][0][operator]=eq&\r\n        filter_groups[8][filters][0][key]=status\r\n        &filter_groups[8][filters][0][value]=${this.emailForm.get('status').value}\r\n        &filter_groups[8][filters][0][operator]=eq&\r\n        &filter_groups[2][filters][1][key]=soft_del\r\n        &filter_groups[2][filters][1][value]=1\r\n        &filter_groups[2][filters][1][operator]=eq&\r\n        `;\r\n        if (this.emailForm.get('subject').value !== '') {\r\n          selectString += `filter_groups[3][filters][0][key]=subject\r\n          &filter_groups[3][filters][0][value]=${this.emailForm.get('subject').value}\r\n          &filter_groups[3][filters][0][operator]=ct&`\r\n        }\r\n        if (this.emailForm.get('startDate').value !== '' && this.emailForm.get('startDate').value !== null) {\r\n          selectString += `&filter_groups[4][filters][1][key]=send_date\r\n            &filter_groups[4][filters][1][value]=${moment(this.emailForm.get('startDate').value).format(\"YYYY-MM-DD 00:00:00\")}\r\n            &filter_groups[4][filters][1][operator]=gte&`\r\n        }\r\n        if (this.emailForm.get('endDate').value !== '' && this.emailForm.get('endDate').value !== null) {\r\n          selectString += `&filter_groups[5][filters][1][key]=send_date\r\n            &filter_groups[5][filters][1][value]=${moment(this.emailForm.get('endDate').value).format(\"YYYY-MM-DD 23:59:59\")}\r\n            &filter_groups[5][filters][1][operator]=lt&`\r\n        }\r\n        if (this.emailForm.get('send_from').value !== '') {\r\n          selectString += `&filter_groups[6][filters][1][key]=send_from\r\n            &filter_groups[6][filters][1][value]=${this.emailForm.get('send_from').value}\r\n            &filter_groups[6][filters][1][operator]=eq&`\r\n        }\r\n        this.searchContentChange.emit(selectString);\r\n        let id = this.emailForm.get(\"emailName\").value\r\n        this.selectMail.emit(id)\r\n      }\r\n    }\r\n  }\r\n  open() {\r\n    this.opened = !this.opened\r\n  }\r\n  search() {\r\n    this.onSubmit();\r\n    this.opened = false;\r\n    this.isEndDateChange = false;\r\n    this.isEmailNameChange = false;\r\n    this.isStartDateChange = false\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule, Location} from '@angular/common';\r\nimport {InvoiceBuyRouting} from '@modules/invoice-buy/invoice-buy.routing';\r\nimport {vTranslateModule} from '@core/module/v-translate.module';\r\nimport {DxDataGridModule, DxDateBoxModule} from 'devextreme-angular';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {SharedModule} from '@shared/shared.module';\r\nimport {devextremeModule} from '@core/library';\r\nimport {BsModalRef, BsModalService} from 'ngx-bootstrap';\r\nimport {InvoiceBuyService} from '@modules/invoice-buy/invoice-buy.service';\r\nimport {VatService} from '@modules/vat/shared';\r\nimport {FormHeaderInvoiceComponent} from './component/form-header-invoice/form-header-invoice.component';\r\nimport {ProductGripComponent} from './component/product-grip/product-grip.component';\r\nimport {InvoiceComponent} from './component/invoice/invoice.component';\r\nimport {VatModule} from '@modules/vat/vat.module';\r\nimport {VatSharedModule} from '@shared/modules/vat-shared/vat-shared.module';\r\nimport {NotifyTaxCodeComponent} from './shared/modal/notify-tax-code/notify-tax-code.component';\r\nimport { IndexComponent } from './component/index/index.component';\r\nimport { FileUploadInvoiceBuyComponent } from './shared/file/file-upload-invoice-buy/file-upload-invoice-buy.component';\r\nimport { UploadFileZipComponent } from './shared/modal/upload-file-zip/upload-file-zip.component';\r\nimport { CheckInvoiceNumberComponent } from './shared/modal/check-invoice-number/check-invoice-number.component';\r\nimport { ViewInvoiceMultipageComponent } from '@shared/index';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { NgxSpinnerModule } from 'ngx-spinner';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { ListInvoiceComponent } from './component/list-invoice/list-invoice.component';\r\nimport { ListMailReceivedComponent } from './component/list-mail-received/list-mail-received.component';\r\nimport { SplitPaneModule } from 'ng2-split-pane/lib/ng2-split-pane';\r\nimport { SearchMailComponent } from './component/search-mail/search-mail.component';\r\nimport { PreviewMailComponent, SafeHtmlPipe } from './component/preview-mail/preview-mail.component';\r\nimport {  InvoicePipe } from './shared/invoice.pipe';\r\nimport { ListInvoiceTCTComponent } from './component/list-invoice-tct/list-invoice-tct.component';\r\nimport { CaptchaUpdateComponent } from './component/captcha-update/captcha-update.component';\r\nimport { ConfigsService } from '@modules/configs/shared';\r\nimport { PreviewInvoiceComponent } from '@shared/components/preview-invoice/preview-invoice.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    InvoiceBuyRouting,\r\n    vTranslateModule,\r\n    DxDateBoxModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    devextremeModule,\r\n    VatModule,\r\n    VatSharedModule,\r\n    NgxSpinnerModule,\r\n    NgxPaginationModule,\r\n    ReactiveFormsModule,\r\n    SplitPaneModule,\r\n    DxDataGridModule\r\n  ],\r\n  declarations: [\r\n    FormHeaderInvoiceComponent,\r\n    ProductGripComponent,\r\n    InvoiceComponent,\r\n    NotifyTaxCodeComponent,\r\n    IndexComponent,\r\n    FileUploadInvoiceBuyComponent,\r\n    UploadFileZipComponent,\r\n    CheckInvoiceNumberComponent,\r\n    ListInvoiceComponent,\r\n    ListMailReceivedComponent,\r\n    SearchMailComponent,\r\n    PreviewMailComponent,\r\n    InvoicePipe ,\r\n    SafeHtmlPipe ,\r\n    ListInvoiceTCTComponent,\r\n    CaptchaUpdateComponent\r\n  ],\r\n  entryComponents: [\r\n    NotifyTaxCodeComponent,\r\n    FileUploadInvoiceBuyComponent,\r\n    UploadFileZipComponent,\r\n    CheckInvoiceNumberComponent,\r\n    ViewInvoiceMultipageComponent,\r\n    CaptchaUpdateComponent,\r\n    PreviewInvoiceComponent\r\n  ],\r\n  providers: [\r\n    BsModalRef,\r\n    BsModalService,\r\n    InvoiceBuyService,\r\n    VatService,\r\n    ConfigsService\r\n  ]\r\n})\r\nexport class InvoiceBuyModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {InvoiceComponent} from '@modules/invoice-buy/component/invoice/invoice.component';\r\nimport {FormResolverService} from '@modules/invoice-buy/shared/resolve/form-resolver.service';\r\nimport {IndexComponent} from '@modules/invoice-buy/component/index/index.component';\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: IndexComponent},\r\n  {path: 'edit-invoice/:id', component: InvoiceComponent, data: {brec: 'Cập nhật hóa đơn'}, resolve: {FormResolverService}},\r\n  {path: 'view-invoice/:id', component: InvoiceComponent, data: {brec: 'Xem hóa đơn'}, resolve: {FormResolverService}},\r\n  {path: 'create', component: InvoiceComponent, data: {brec: 'Thêm hóa đơn'}, resolve: {FormResolverService}},\r\n  {path: '**', redirectTo: '/'},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class InvoiceBuyRouting {\r\n}\r\n","export class Invoice {\r\n  constructor(adjustment_type) {\r\n    this.adjustment_type = adjustment_type;\r\n  }\r\n\r\n  id: string = null;\r\n  origin_id: string = null;\r\n  invoice_type: string = null;\r\n  invoice_type_name: string = null;\r\n  template_code: string = null;\r\n  invoice_series: string = null;\r\n  invoice_number: string = null;\r\n  invoice_date: string = null;\r\n  sign_date: string = null;\r\n  currency_code: string = null;\r\n  currency_rate: string = null;\r\n  note: string = null;\r\n  adjustment_type: string = null;\r\n  seller_legal_name: string = null;\r\n  seller_tax_code: string = null;\r\n  seller_address: string = null;\r\n  seller_mobile: string = null;\r\n  seller_fax_number: string = null;\r\n  seller_email: string = null;\r\n  seller_bank_account: string = null;\r\n  seller_contact_name: string = null;\r\n  seller_surrogate_name: string = null;\r\n  seller_tax_department: string = null;\r\n  buyer_name: string = null;\r\n  buyer_legal_name: string = null;\r\n  buyer_tax_code: string = null;\r\n  buyer_address: string = null;\r\n  buyer_mobile: string = null;\r\n  buyer_email: string = null;\r\n  payment_method_view_name: string = null;\r\n  auto_value = false;\r\n  auto_value_price = false;\r\n  amount_vat5 = null;\r\n  amount_vat10 = null;\r\n  export_from_ihd = 0;\r\n  export_from_tct = 0;\r\n  amount_vatx = null;\r\n  amount_vat0 = null;\r\n  total_amount_product_vat5 = null;\r\n  total_amount_product_vat10 = null;\r\n  total_amount_product_vatx = null;\r\n  total_amount_product_vat0 = null;\r\n  amount = null;\r\n  total_amount_vat = null;\r\n  total_payment = null;\r\n  total_payment_in_word: string = null;\r\n  amount_discount = null;\r\n  system_code: string = null;\r\n  input_invoice_products = [];\r\n  input_invoice_files = [];\r\n  customer_code: string = \"\"; //Mã khách hàng\r\n  decimal_places_json: string = \"\";\r\n\r\n  /* Các trường thêm mới */\r\n  total_amount_product_vat8 = null;\r\n  amount_vat8 = null;\r\n  total_amount_product_vat_kkknt = null;\r\n  signature_content: string = null;\r\n  version_xml: string = null;\r\n  is_import_from_zip = false;\r\n  lookup_link: string = null;\r\n  lookup_code: string = null;\r\n  tax_authority_code: string = null;\r\n  xml_type: string = null;\r\n  xml_string: string = null;\r\n  json_data = {\r\n    statusCert: null,\r\n    signDateCompareCert: null,\r\n    signDateCompareInv: null,\r\n    statusFileXml: null,\r\n    capBoi: null,\r\n    kyBoi: null,\r\n    thoiHanChungThu: null,\r\n    thoiGianKyHoaDon: null,\r\n    tax_code: null,\r\n    name: null,\r\n    business_address: null,\r\n    status: null,\r\n    mstNB: null\r\n  };\r\n}\r\n\r\n// {\r\n//   product_code: string,\r\n//   order: string,\r\n//   product_name: string,\r\n//   unit_code: string,\r\n//   unit_name: string,\r\n//   price: string,\r\n//   quantity: string,\r\n//   vat: string,\r\n//   amount: string,\r\n//   amount_vat: string,\r\n//   is_promotion: string,\r\n//   product_group: string,\r\n// }\r\n\r\n// {\r\n//   order: string,\r\n//   file_name: string,\r\n//   file_content: string,\r\n// }\r\n","module.exports = \"<div class=\\\"va-file-upload\\\">\\r\\n  <ng-container *ngIf=\\\"fileData.length; else noFilechosed\\\">\\r\\n    <ul id=\\\"list-file\\\">\\r\\n      <li *ngFor=\\\"let file of fileData; index as i\\\">\\r\\n        <span>{{ i + 1 }}. {{ file.file_name }}</span>\\r\\n        <a *ngIf=\\\"file.file_name !== this.frmData.invoice_type_name\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"removeFile(i, file.file_name)\\\" class=\\\"remove-file\\\"><i\\r\\n          class=\\\"fa fa-times\\\"></i></a>\\r\\n        <a href=\\\"javascript:void(0)\\\" (click)=\\\"view(file)\\\" class=\\\"remove-file\\\" style=\\\"margin-right: 5px;\\\"><i\\r\\n          class=\\\"fa fa-eye\\\"></i></a>\\r\\n      </li>\\r\\n      <div style=\\\"clear: both;\\\"></div>\\r\\n    </ul>\\r\\n    <div class=\\\"img-upload-second\\\">\\r\\n      <i [class]=\\\"_translate.ICONS.upload_3x\\\" style=\\\"color: #007BFF\\\" (click)=\\\"choseFile1()\\\"></i>\\r\\n      <!-- <img src=\\\"assets/img/TaiTepDinhKem.png\\\" (click)=\\\"choseFile()\\\"> -->\\r\\n      <p>{{_translate.CONTROLL.LABEL.note_upload_file}}</p>\\r\\n      <input id=\\\"file-input1\\\" type=\\\"file\\\" accept=\\\"{{extFile}}\\\" (change)=\\\"fileChanged($event)\\\" class=\\\"d-none\\\"/>\\r\\n    </div>\\r\\n  </ng-container>\\r\\n  <ng-template #noFilechosed>\\r\\n    <div class=\\\"img-upload-first\\\">\\r\\n      <i [class]=\\\"_translate.ICONS.upload_3x\\\" style=\\\"color: #007BFF\\\" (click)=\\\"choseFile()\\\"></i>\\r\\n      <!-- <img src=\\\"assets/img/TaiTepDinhKem.png\\\" (click)=\\\"choseFile()\\\"> -->\\r\\n      <p>{{_translate.CONTROLL.LABEL.note_upload_file}}</p>\\r\\n      <input id=\\\"file-input\\\" class=\\\"d-none\\\" type=\\\"file\\\" accept=\\\"{{extFile}}\\\" (change)=\\\"fileChanged($event)\\\"/>\\r\\n    </div>\\r\\n  </ng-template>\\r\\n</div>\\r\\n\"","module.exports = \".va-file-upload{background:#fff;width:100%;height:160px;border:1px dashed grey}.va-file-upload .img-upload-first{text-align:center}.va-file-upload .img-upload-first img{margin-top:45px;cursor:pointer}.va-file-upload .img-upload-first i{margin-top:45px;cursor:pointer}.va-file-upload .img-upload-first p{margin-top:10px}.va-file-upload ul#list-file{list-style-type:none;height:80px;overflow-y:scroll;padding:0px 20px}.va-file-upload ul#list-file li{padding:5px 0px;width:100%}.va-file-upload ul#list-file li+li{border-top:1px solid #E3E3E3}.va-file-upload ul#list-file .remove-file{border:1px solid #0E77BB;float:right;padding-left:3px;padding-top:1px;padding-bottom:1px}.va-file-upload ul#list-file .remove-file i{width:15px}.va-file-upload .img-upload-second{text-align:center}.va-file-upload .img-upload-second img{margin-top:10px;width:40px;height:auto;cursor:pointer}.va-file-upload .img-upload-second p{margin-top:10px}.is-dragover{background:lavender}\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Helper } from '@core/helper/Helper';\r\nimport { Library } from '@core/library';\r\n\r\ndeclare var $: any;\r\n\r\n@Component({\r\n  selector: 'app-file-upload-invoice-buy',\r\n  templateUrl: './file-upload-invoice-buy.component.html',\r\n  styleUrls: ['./file-upload-invoice-buy.component.scss']\r\n})\r\nexport class FileUploadInvoiceBuyComponent implements OnInit {\r\n\r\n  @Output('fileChange') fileChange = new EventEmitter<Array<any>>();\r\n  @Input() fileData: Array<any>;\r\n  @Input() frmData: any;\r\n  @Input() invoiceExp: any;\r\n  _translate: any;\r\n  extFile = \".xlsx,.docx,.pdf,.xml\";\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public translate: TranslateService\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.invoiceExp == \"MO_RONG_FILE\")\r\n      this.extFile = \".xlsx,.docx,.pdf,.xml,.html\";\r\n    $('.va-file-upload').on('drag dragstart dragend dragover dragenter dragleave drop', function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    })\r\n      .on('dragover dragenter', (e) => {\r\n        $('.va-file-upload').addClass('is-dragover');\r\n      })\r\n      .on('dragleave dragend drop', (e) => {\r\n        $('.va-file-upload').removeClass('is-dragover');\r\n      })\r\n      .on('drop', (e) => {\r\n        const file = e.originalEvent.dataTransfer.files;\r\n        this.dropFileChanged(file[0]);\r\n      });\r\n  }\r\n\r\n  removeFile(i, fileName) {\r\n    if (this.frmData.invoice_type_name === fileName) {\r\n      Library.notify('Error', 'error');\r\n      return;\r\n    } else {\r\n      this.fileData.splice(i, 1);\r\n      this.fileChange.emit(this.fileData);\r\n    }\r\n  }\r\n\r\n  view(file) {\r\n    const arrFile: Array<any> = file.file_name.split('.');\r\n    Helper.dowloadFile(file.file_name, arrFile[arrFile.length], file.file_content);\r\n  }\r\n\r\n  choseFile() {\r\n    document.getElementById('file-input').click();\r\n  }\r\n\r\n  choseFile1() {\r\n    document.getElementById('file-input1').click();\r\n  }\r\n\r\n  fileChanged(e) {\r\n    const file = e.target.files[0];\r\n    if (e.target.files[0].size <= 2000000) {\r\n      const extension = file.name.split('.').pop();\r\n      if (extension === 'docx' || extension === 'xlsx' || extension === 'pdf' || extension === 'xml' || extension === 'html') {\r\n        const fileReader = new FileReader();\r\n        fileReader.readAsDataURL(file);\r\n        fileReader.onload = (e) => {\r\n          const base64result = fileReader.result.toString().split(',')[1];\r\n          this.fileData.unshift({\r\n            order: 'BK',\r\n            file_name: file.name,\r\n            file_content: base64result,\r\n          });\r\n          if (document.getElementById('list-file')) {\r\n            document.getElementById('list-file').scrollTop = 0;\r\n          }\r\n          this.fileChange.emit(this.fileData);\r\n        };\r\n      } else {\r\n        Library.notify(this._translate.NOTIFY.file_upload_no_access + \", html\", 'error');\r\n      }\r\n    } else {\r\n      Library.notify('Yêu cầu file nhỏ hơn 2MB', 'error');\r\n    }\r\n  }\r\n\r\n  dropFileChanged(file) {\r\n    const extension = file.name.split('.').pop();\r\n    if (extension === 'docx' || extension === 'xlsx' || extension === 'pdf' || extension === 'xml' || extension === 'html') {\r\n      const fileReader = new FileReader();\r\n      fileReader.readAsDataURL(file);\r\n      fileReader.onload = (e) => {\r\n        const base64result = fileReader.result.toString().split(',')[1];\r\n        this.fileData.unshift({\r\n          type: 'BK',\r\n          file_name: file.name,\r\n          file_content: base64result,\r\n        });\r\n        if (document.getElementById('list-file')) {\r\n          document.getElementById('list-file').scrollTop = 0;\r\n        }\r\n        this.fileChange.emit(this.fileData);\r\n      };\r\n    } else {\r\n      Library.notify(this._translate.NOTIFY.file_upload_no_access + \", html\", 'error');\r\n    }\r\n  }\r\n\r\n}\r\n","import { Pipe } from '@angular/core';\r\n@Pipe({ name: 'diaryType' })\r\nexport class InvoicePipe {\r\n    transform(type_code: string) {\r\n        switch (type_code) {\r\n            case \"HOP_LE\":\r\n                return \"Hợp lệ\";\r\n            case \"KHONG_HOP_LE\":\r\n                return \"Không hợp lệ\";\r\n            case \"CHUA_NHAN\":\r\n                return \"Chưa nhận\";\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}","module.exports = \"<div class=\\\"modal-header\\\">\\r\\n  <h5 class=\\\"modal-title\\\">{{_translate.CONTROLL.LABEL.inv_number_info}}</h5>\\r\\n  <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n    <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n  </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row content\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <form>\\r\\n          <div class=\\\"row pt-1 pb-1\\\">\\r\\n            <!-- <label class=\\\"col-md-5 text-right\\\">{{_translate.CONTROLL.LABEL.tax_code}} :</label> -->\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n              <span class=\\\"font-weight-bold\\\">{{message}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" style=\\\"padding-top: 13px\\\">\\r\\n      <div  class=\\\"col-md-8\\\">\\r\\n        <h3 *ngIf=\\\"isError\\\">{{_translate.CONTROLL.LABEL.check_inv_number_tct}} <button class=\\\"button-open\\\" (click)=\\\"demo()\\\" type=\\\"button\\\">{{_translate.CONTROLL.LABEL.click_here}}</button></h3>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-4 text-right\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"button-content-style\\\" (click)=\\\"close()\\\">\\r\\n          <span>{{_translate.CONTROLL.BUTTON.come_back}}</span>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"","module.exports = \".button-content-style{background-color:#337ab7;color:#fff;border:1px solid #2d6da3;margin:0 4px;padding:5px 10px 5px}.button-open{background:transparent;border:none;color:#1a0dab;cursor:pointer}\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-check-invoice-number',\r\n  templateUrl: './check-invoice-number.component.html',\r\n  styleUrls: ['./check-invoice-number.component.scss']\r\n})\r\nexport class CheckInvoiceNumberComponent implements OnInit {\r\n\r\n  isError : any;\r\n  message : any;\r\n\r\n  _translate: any;\r\n  _language: string;\r\n  data: any = {};\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    public translate: TranslateService\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    this.translate.use(this._language);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  close() {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  demo() {\r\n    const win = window.open('http://tracuuhoadon.gdt.gov.vn/tbphtc.html', '_blank');\r\n    win.focus();\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"modal-header\\\">\\r\\n  <h5 class=\\\"modal-title\\\">{{_translate.GRID.INVOICE.infor_buyer}}</h5>\\r\\n  <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n    <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n  </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row content\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <form *ngIf=\\\"!isShow\\\">\\r\\n          <div class=\\\"row pt-1 pb-1\\\">\\r\\n            <label class=\\\"col-md-5 text-right\\\">{{_translate.CONTROLL.LABEL.tax_code}} :</label>\\r\\n            <div class=\\\"col-md-7\\\">\\r\\n              <span class=\\\"font-weight-bold\\\">{{data.tax_code}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row pt-1 pb-1\\\">\\r\\n            <label class=\\\"col-md-5 text-right\\\">{{_translate.CONTROLL.LABEL.customer_name}} :</label>\\r\\n            <div class=\\\"col-md-7\\\">\\r\\n              <span>{{data.name}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row pt-1 pb-1\\\">\\r\\n            <label class=\\\"col-md-5 text-right\\\">{{_translate.CONTROLL.LABEL.address}} :</label>\\r\\n            <div class=\\\"col-md-7\\\">\\r\\n              <span>{{data.business_address}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row pt-1 pb-1\\\">\\r\\n            <label class=\\\"col-md-5 text-right\\\">{{_translate.CONTROLL.LABEL.status_active}} :</label>\\r\\n            <div class=\\\"col-sm-7\\\">\\r\\n              <span class=\\\"font-weight-bold\\\">{{trangthai}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n        <form *ngIf=\\\"isShow\\\">\\r\\n          <div class=\\\"row pt-1 pb-1\\\">\\r\\n            <!-- <label class=\\\"col-md-5 text-right\\\">{{_translate.CONTROLL.LABEL.tax_code}} :</label> -->\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n              <span class=\\\"font-weight-bold\\\">{{message}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" style=\\\"padding-top: 13px\\\">\\r\\n      <div class=\\\"col-md-8\\\">\\r\\n        <h3 *ngIf=\\\"isShow\\\">{{_translate.CONTROLL.LABEL.check_tct}} <button class=\\\"button-open\\\" (click)=\\\"demo()\\\" type=\\\"button\\\">{{_translate.CONTROLL.LABEL.click_here}}</button></h3>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-4 text-right\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"button-content-style\\\" (click)=\\\"close()\\\">\\r\\n          <span>{{_translate.CONTROLL.BUTTON.come_back}}</span>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"","module.exports = \".button-content-style{background-color:#337ab7;color:#fff;border:1px solid #2d6da3;margin:0 4px;padding:5px 10px 5px}.button-open{background:transparent;border:none;color:#1a0dab;cursor:pointer}\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-notify-tax-code',\r\n  templateUrl: './notify-tax-code.component.html',\r\n  styleUrls: ['./notify-tax-code.component.scss']\r\n})\r\nexport class NotifyTaxCodeComponent implements OnInit {\r\n  _translate: any;\r\n  _language: string;\r\n  data: any = {};\r\n  isShow: boolean;\r\n  message: string;\r\n  trangthai: any;\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    public translate: TranslateService\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    this.translate.use(this._language);\r\n  }\r\n\r\n  ngOnInit() {\r\n    switch (this.data.status) {\r\n      case \"00\":\r\n        this.trangthai = \"NNT đang hoạt động\";\r\n        break;\r\n      case \"01\":\r\n        this.trangthai = \"NNT ngừng hoạt động và đã hoàn thành thủ tục chấm dứt hiệu lực MST\";\r\n        break;\r\n      case \"02\":\r\n        this.trangthai = \"NNT đã chuyển cơ quan thuế quản lý\";\r\n        break;\r\n      case \"03\":\r\n        this.trangthai = \"NNT ngừng HĐ nhưng chưa hoàn thành thủ tục chấm dứt hiệu lực MST\";\r\n        break;\r\n      case \"04\":\r\n        this.trangthai = \"NNT đang hoạt động (chưa đầy đủ thủ tục cấp MST)\";\r\n        break;\r\n      case \"05\":\r\n        this.trangthai = \"NNT tạm ngừng KD có thời hạn\";\r\n        break;\r\n      case \"06\":\r\n        this.trangthai = \"NNT không hoạt động tại địa chỉ đã đăng ký\";\r\n        break;\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  demo() {\r\n    const win = window.open('http://tracuunnt.gdt.gov.vn/tcnnt/mstdn.jsp', '_blank');\r\n    win.focus();\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"modal-header\\\">\\r\\n  <h5 class=\\\"modal-title text-uppercase\\\">{{_translate.GRID.INVOICE.add_multiple_invoice_buy}}</h5>\\r\\n  <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"close()\\\">\\r\\n    <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n  </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <form class=\\\"container\\\">\\r\\n    <div class=\\\"row mb-2\\\" style=\\\"position: relative\\\">\\r\\n      <label class=\\\"col-md-3 text-right label-text-item pt-2\\\">\\r\\n        {{_translate.GRID.INVOICE.file_invoice}}\\r\\n      </label>\\r\\n      <div class=\\\"col-md-9 pl-0\\\">\\r\\n        <input style=\\\"position: relative\\\" type=\\\"text\\\"\\r\\n               class=\\\"file-upload\\\" id=\\\"email\\\"\\r\\n               placeholder=\\\"Nhấn để tải lên(chỉ hỗ trợ file .xml;)\\\"\\r\\n               [value]=\\\"totalArray\\\"\\r\\n               name=\\\"email\\\">\\r\\n        <button\\r\\n          type=\\\"button\\\"\\r\\n          (click)=\\\"clickChooseFile()\\\"\\r\\n          class=\\\"text-primary button-upload border-0 bg-transparent\\\">\\r\\n          <i class=\\\"icon-button fa fa-upload icon-size\\\"></i>\\r\\n        </button>\\r\\n        <input type=\\\"file\\\" multiple=\\\"multiple\\\" accept='text/xml' id=\\\"id-upload-file\\\" class=\\\"d-none\\\"\\r\\n               (change)=\\\"fileChanged($event)\\\">\\r\\n        <span style=\\\"font-size: 12px\\\"\\r\\n              class=\\\"text-color-blue\\\">{{_translate.CONTROLL.LABEL.file_must_be_XML_format}}</span>\\r\\n\\r\\n        <div *ngIf=\\\"isShowPrecent\\\" class=\\\"pt-2\\\">\\r\\n          <div class=\\\"progress\\\" style=\\\"height: 10px;\\\">\\r\\n            <div class=\\\"progress-bar progress-bar-striped progress-bar-animated\\\"\\r\\n                 role=\\\"progressbar\\\"\\r\\n                 [ngStyle]=\\\"{'width':+ widthPrecent +'%'}\\\"\\r\\n                 aria-valuenow=\\\"10\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"pt-1\\\">\\r\\n            <span>Đã nạp: {{showWidthPrecent}}%</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"isShowAllResult\\\" class=\\\"row mt-4\\\">\\r\\n      <div class=\\\"col-md-3 text-right\\\">\\r\\n        <h3>{{_translate.GRID.INVOICE.result}} :</h3>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-9 pl-0\\\">\\r\\n                <span\\r\\n                  *ngIf=\\\"arrDataError.length > 0\\\"> {{(arrDataDone.length).toString() + '/' + (totalArrayFile.length).toString()}}\\r\\n                  hóa đơn thành công ({{(arrDataError.length).toString()}} thất bại)</span>\\r\\n        <span\\r\\n          *ngIf=\\\"arrDataError.length === 0\\\"> {{(arrDataDone.length).toString() + '/' + (totalArrayFile.length).toString()}}\\r\\n          hóa đơn thành công</span>\\r\\n        <div *ngIf=\\\"arrDataError.length > 0\\\">\\r\\n          <button type=\\\"button\\\" (click)=\\\"setCollap()\\\"\\r\\n                  class=\\\"text-priramy button-file\\\">Chi tiết kết quả lỗi\\r\\n          </button>\\r\\n          <button type=\\\"button\\\" (click)=\\\"exportExcel()\\\"\\r\\n                  class=\\\"text-priramy button-file ml-2\\\">Tải về file chi tiết lỗi\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"arrDataError.length > 0\\\" class=\\\"col-md-12 mt-4\\\">\\r\\n        <div [ngClass]=\\\"!isCollapsed ? 'hidden': 'box'\\\">\\r\\n          <div class=\\\"table-responsive-lg\\\">\\r\\n            <table class=\\\"table table-striped\\\">\\r\\n              <thead>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">#</th>\\r\\n                <th scope=\\\"col\\\">{{_translate.CONTROLL.LABEL.file_name}}</th>\\r\\n                <th scope=\\\"col\\\">{{_translate.GRID.INVOICE.invoice_number}}</th>\\r\\n                <th class=\\\"text-center\\\" scope=\\\"col\\\">{{_translate.GRID.INVOICE.template_code}}</th>\\r\\n                <th scope=\\\"col\\\">{{_translate.GRID.INVOICE.invoice_series}}</th>\\r\\n                <th class=\\\"text-center\\\" scope=\\\"col\\\">{{_translate.CONTROLL.LABEL.error_name}}</th>\\r\\n              </tr>\\r\\n              </thead>\\r\\n              <tbody>\\r\\n              <tr *ngFor=\\\"let item of arrDataError; let i = index\\\">\\r\\n                <th scope=\\\"row\\\">{{i + 1}}</th>\\r\\n                <td>{{item.name}}</td>\\r\\n                <td style=\\\"width:100px\\\">{{item.invoice_number}}</td>\\r\\n                <td>{{item.template_code}}</td>\\r\\n                <td>{{item.invoice_series}}</td>\\r\\n                <td>{{item.errorMess}}</td>\\r\\n              </tr>\\r\\n              </tbody>\\r\\n            </table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row mt-4\\\">\\r\\n      <div class=\\\"col-md-12 text-right\\\">\\r\\n        <button type=\\\"button\\\" [disabled]=\\\"checkSubmitBtn\\\" [ngClass]=\\\"checkSubmitBtn ? 'styleDisable':''\\\"\\r\\n                class=\\\"button-content-style\\\" (click)=\\\"submit()\\\">\\r\\n          <span> {{_translate.CONTROLL.BUTTON.import_data}}</span>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" class=\\\"button-content-style\\\" [disabled]=\\\"checkSubmit\\\" (click)=\\\"close()\\\">\\r\\n          <span>{{_translate.CONTROLL.BUTTON.close}}</span>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \".button-content-style{background-color:#337ab7;color:#fff;border:1px solid #2d6da3;margin:0 4px;padding:5px 10px 5px}.demo .modal-content{margin-top:20% !important}.file-upload{width:100%;height:30px;font-size:14px}.text-color-blue{color:#337ab7}.styleDisable{opacity:0.8}.icon-button{font-size:25px}.button-upload{position:absolute;right:15px;top:3px}.box{height:280px;transition:all 1s linear;overflow:scroll;display:block}.hidden{height:0;opacity:0;overflow:hidden;transition:all 0.5s linear}.button-file{border:none;background-color:transparent;color:#0C11FF;-webkit-text-decoration:#0C11FF;text-decoration:#0C11FF}\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '@core/services';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport xml2js from 'xml2js';\r\nimport * as moment from 'moment';\r\nimport { Invoice } from '@modules/invoice-buy/shared/class/invoice.model';\r\nimport { InvoiceBuyService } from '@modules/invoice-buy/invoice-buy.service';\r\nimport { Library } from '@core/library';\r\nimport { Helper } from '@core/helper/Helper';\r\nimport { sEnum, VChanggeMoneyService } from '@core/index';\r\n\r\n@Component({\r\n  selector: 'app-upload-file-zip',\r\n  templateUrl: './upload-file-zip.component.html',\r\n  styleUrls: ['./upload-file-zip.component.scss']\r\n})\r\nexport class UploadFileZipComponent implements OnInit {\r\n  _translate: any;\r\n  _language: string;\r\n  checkSubmit = false;\r\n  checkSubmitBtn = false;\r\n  arrData = [];\r\n  arrDataBeforeSubmit = [];\r\n  frmData: Invoice = new Invoice('1');\r\n  totalArray = '';\r\n  checkUpdateLoadList = false;\r\n  widthPrecent = '0';\r\n  showWidthPrecent = '0';\r\n  totalPrecent: number;\r\n  arrDataDone = [];\r\n  arrDataError = [];\r\n  isShowPrecent = false;\r\n  isShowAllResult = false;\r\n  totalArraySubmit: number;\r\n  tax_code_local: string = null;\r\n  isCollapsed = false;\r\n  totalArrayFile = [];\r\n  formatter: any;\r\n  system_parameter: any = {};\r\n  configs: any;\r\n  lstFileDinhKem = [];\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public translate: TranslateService,\r\n    public bsModalRef: BsModalRef,\r\n    private invoiceBuyService: InvoiceBuyService,\r\n  ) {\r\n    this._language = this.authService.getLanguage();\r\n    this._translate = this.authService.getTranslate();\r\n    this.translate.use(this._language);\r\n  }\r\n\r\n  ngOnInit() {\r\n    const dataUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    this.tax_code_local = dataUser.account.tax_code;\r\n    this.configs = this.authService.getConfigs();\r\n  }\r\n\r\n  submit() {\r\n    if (!this.arrData.length) {\r\n      Library.notify(this._translate.VALIDATION.file_invoice_empty, 'error');\r\n      return;\r\n    }\r\n    for (let i = 0; i < this.arrData.length; i++) {\r\n      this.arrDataBeforeSubmit.push(this.parseXMLtoObject(this.arrData[i].data, this.arrData[i].name));\r\n    }\r\n    this.checkObjectNull(this.arrDataBeforeSubmit);\r\n  }\r\n\r\n  close() {\r\n    if (this.checkUpdateLoadList) {\r\n      this.bsModalRef.content.LoadList = 'LoadList';\r\n    }\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  clickChooseFile() {\r\n    document.getElementById('id-upload-file').click();\r\n  }\r\n\r\n  fileChanged($event) {\r\n    const promises = [];\r\n    const arrXML = $event.target.files;\r\n    this.arrData = [];\r\n    this.lstFileDinhKem = [];\r\n    Library.showloading();\r\n    for (let i = 0; i < arrXML.length; i++) {\r\n      const filePromise = new Promise(resolve => {\r\n        const reader = new FileReader();\r\n        reader.readAsText(arrXML[i]);\r\n        reader.onload = () => resolve({ name: arrXML[i].name, data: reader.result });\r\n      });\r\n      promises.push(filePromise);\r\n    }\r\n    Promise.all(promises).then(fileContents => {\r\n      Library.hideloading();\r\n      if (fileContents && fileContents.length > 0) {\r\n        this.arrData = fileContents.filter(p => p.name.includes('.xml'));\r\n        this.lstFileDinhKem = fileContents.filter(p => !p.name.includes('.xml'));\r\n        this.totalArrayFile = this.arrData;\r\n        this.totalArray = (this.arrData.length).toString() + ' files được tải lên!';\r\n        this.isShowAllResult = false;\r\n        this.checkSubmitBtn = false;\r\n        this.arrDataError = [];\r\n        this.arrDataBeforeSubmit = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  checkObjectNull(value) {\r\n    const arrData = [];\r\n    const arrDataErr = [];\r\n    for (let i = 0; i < value.length; i++) {\r\n      if (value[i].input_invoice_files) {\r\n        arrData.push(value[i]);\r\n      } else {\r\n        arrDataErr.push({\r\n          invoice_series: null,\r\n          template_code: null,\r\n          invoice_number: null,\r\n          name: value[i].name,\r\n          errorMess: 'File hóa đơn không tồn tại',\r\n        });\r\n      }\r\n    }\r\n    this.checkDuplicate(arrData, arrDataErr);\r\n    // this.handleDataSubmit(arrData, arrDataErr);\r\n  }\r\n\r\n  checkDuplicate(value, arrDataErr) {\r\n    const arrData = value.reduce(function (accumulator, current) {\r\n      if (checkIfAlreadyExist(current)) {\r\n        arrDataErr.push({\r\n          invoice_series: current.input_invoice.invoice_series,\r\n          template_code: current.input_invoice.template_code,\r\n          invoice_number: current.input_invoice.invoice_number,\r\n          name: current.input_invoice_files[0].file_name,\r\n          errorMess: 'File hóa đơn bị trùng',\r\n        });\r\n        return accumulator;\r\n      } else {\r\n        // add item to array\r\n        return accumulator.concat([current]);\r\n      }\r\n\r\n      function checkIfAlreadyExist(currentVal) {\r\n        return accumulator.some(function (item) {\r\n          return (item.input_invoice.invoice_series === currentVal.input_invoice.invoice_series &&\r\n            item.input_invoice.invoice_number === currentVal.input_invoice.invoice_number &&\r\n            item.input_invoice.template_code === currentVal.input_invoice.template_code);\r\n        });\r\n      }\r\n    }, []);\r\n    this.handleDataSubmit(arrData, arrDataErr);\r\n  }\r\n\r\n  handleDataSubmit(value, arrDataErr) {\r\n    value.map((item) => {\r\n      if (!item.input_invoice.decimal_places_json) {\r\n        if (item.input_invoice.currency_rate) {\r\n          item.input_invoice.currency_rate = item.input_invoice.currency_rate.replace(',', '.');\r\n        }\r\n        item.input_invoice_products.map((valueOfItem) => {\r\n          if (valueOfItem.quantity) {\r\n            valueOfItem.quantity = parseInt(valueOfItem.quantity.replace(',', '.'), 10);\r\n          } else {\r\n            valueOfItem.quantity = null;\r\n          }\r\n          if (valueOfItem.price) {\r\n            valueOfItem.price = parseInt(valueOfItem.price.replace(',', '.'), 10);\r\n          } else {\r\n            valueOfItem.price = null;\r\n          }\r\n          if (valueOfItem.amount) {\r\n            valueOfItem.amount = parseInt(valueOfItem.amount.replace(',', '.'), 10);\r\n          } else {\r\n            valueOfItem.amount = null;\r\n          }\r\n          if (valueOfItem.vat) {\r\n            valueOfItem.vat = parseInt(valueOfItem.vat.replace(',', '.'), 10);\r\n          } else {\r\n            valueOfItem.vat = null;\r\n          }\r\n          if (valueOfItem.amount_vat) {\r\n            valueOfItem.amount_vat = parseInt(valueOfItem.amount_vat.replace(',', '.'), 10);\r\n          } else {\r\n            valueOfItem.amount_vat = null;\r\n          }\r\n          if (valueOfItem.amount && valueOfItem.amount_vat) {\r\n            valueOfItem.amount_after_vat = valueOfItem.amount + valueOfItem.amount_vat;\r\n          } else if (valueOfItem.amount && !valueOfItem.amount_vat) {\r\n            valueOfItem.amount_after_vat = valueOfItem.amount;\r\n          } else {\r\n            valueOfItem.amount_after_vat = null;\r\n          }\r\n          if (valueOfItem.unit_code === undefined) {\r\n            valueOfItem.unit_code = null;\r\n          }\r\n        });\r\n      }\r\n    });\r\n    // validate\r\n    this.validArrItem(value, arrDataErr);\r\n  }\r\n\r\n  validArrItem(value, arrDataErr) {\r\n    const arrData = [];\r\n    if (Array.isArray(value)) {\r\n      value.forEach((item) => {\r\n        if (item.input_invoice.seller_tax_code && item.input_invoice.invoice_number && item.input_invoice.template_code && item.input_invoice.invoice_date && item.input_invoice.invoice_series) {\r\n          arrData.push(item);\r\n        } else {\r\n          arrDataErr.push({\r\n            invoice_series: item.input_invoice.invoice_series,\r\n            template_code: item.input_invoice.template_code,\r\n            invoice_number: item.input_invoice.invoice_number,\r\n            name: item.input_invoice_files[0].file_name,\r\n            errorMess: this._translate.VALIDATION.some_information_empty\r\n          });\r\n        }\r\n      }\r\n      );\r\n      this.checkTaxCodeFile(arrData, arrDataErr);\r\n    }\r\n  }\r\n\r\n  checkTaxCodeFile(value, arrDataErr) {\r\n    const arrData = [];\r\n    if (Array.isArray(value)) {\r\n      value.forEach((item) => {\r\n        if (item.input_invoice.buyer_tax_code === this.tax_code_local) {\r\n          arrData.push(item);\r\n        } else {\r\n          arrDataErr.push(\r\n            {\r\n              invoice_series: item.input_invoice.invoice_series,\r\n              template_code: item.input_invoice.template_code,\r\n              invoice_number: item.input_invoice.invoice_number,\r\n              name: item.input_invoice_files[0].file_name,\r\n              errorMess: this._translate.VALIDATION.do_not_tax_code_unit\r\n            });\r\n        }\r\n      });\r\n      if (arrData.length > 0) {\r\n        // this.submitData(arrData, arrDataErr);\r\n        this.handleDataPostPromiseAll(arrData, arrDataErr);\r\n      } else {\r\n        Library.notify('Tất cả hóa đơn không đúng mã số thuế của đơn vị!', 'error');\r\n      }\r\n    }\r\n  }\r\n\r\n  handleDataPostPromiseAll(value, arrDataErr) {\r\n    const arrDataPostAPi = [];\r\n    while (value.length > 0) {\r\n      arrDataPostAPi.push(value.splice(0, 3));\r\n    }\r\n    this.submitDataProMise(arrDataPostAPi, arrDataErr);\r\n  }\r\n\r\n  async submitDataProMise(value, arrDataErr) {\r\n    const arrDone = [];\r\n    Library.showloading();\r\n    this.checkSubmit = true;\r\n    this.checkSubmitBtn = true;\r\n    this.isShowPrecent = true;\r\n    this.totalPrecent = 100 / value.length;\r\n    this.totalArraySubmit = value.length;\r\n    for (let i = 0; i < value.length; i++) {\r\n      const j = i + 1;\r\n      this.widthPrecent = (this.totalPrecent * j).toString();\r\n      this.showWidthPrecent = ((this.totalPrecent * j).toFixed(0)).toString();\r\n      await Promise.all(\r\n        value[i].map(\r\n          item => this.invoiceBuyService.apiInvoice(item).toPromise().then(\r\n            dataItem => {\r\n              return {\r\n                status: dataItem.status,\r\n                message: dataItem.message,\r\n                invoice_series: item.input_invoice.invoice_series,\r\n                template_code: item.input_invoice.template_code,\r\n                invoice_number: item.input_invoice.invoice_number,\r\n                name: item.input_invoice_files[0].file_name,\r\n              };\r\n            }\r\n          )))\r\n        .then(\r\n          (result: Array<any>) => {\r\n            result.forEach((valueItem) => {\r\n              if (valueItem.status === 'success') {\r\n                arrDone.push(valueItem.name);\r\n              } else {\r\n                arrDataErr.push(\r\n                  {\r\n                    invoice_series: valueItem.invoice_series,\r\n                    template_code: valueItem.template_code,\r\n                    invoice_number: valueItem.invoice_number,\r\n                    name: valueItem.name,\r\n                    errorMess: valueItem.message\r\n                  }\r\n                );\r\n              }\r\n            });\r\n          }\r\n        );\r\n    }\r\n    Library.hideloading();\r\n    Library.notify(this._translate.NOTIFY.add_invoice_complete, 'success');\r\n    this.arrDataDone = arrDone;\r\n    this.arrDataError = arrDataErr;\r\n    this.isShowPrecent = false;\r\n    this.checkUpdateLoadList = true;\r\n    this.checkSubmit = false;\r\n    this.widthPrecent = '0';\r\n    this.showWidthPrecent = '0';\r\n    this.isShowAllResult = true;\r\n  }\r\n\r\n  parseXMLtoObject(value, nameFile) {\r\n    let a;\r\n    const dataBase64Code = window.btoa(unescape(encodeURIComponent(value)));\r\n    // paser to base64 to a string\r\n    // const b = decodeURIComponent(escape(window.atob(a)));\r\n    xml2js.parseString(value, (err, result) => {\r\n      if (result) {\r\n        if (result.hasOwnProperty('Invoice')) {\r\n          let X509Certificate = '';\r\n          if (result['Invoice']['Signature'])\r\n            X509Certificate = result['Invoice']['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0]\r\n          a = this.getValueToObject('dreamSoft', result['Invoice']['Content'][0], nameFile, dataBase64Code, X509Certificate);\r\n        } else if (result.hasOwnProperty('inv:invoice')) {\r\n          let X509Certificate = '';\r\n          if (result['inv:invoice']['Signature'])\r\n            X509Certificate = result['inv:invoice']['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0];\r\n          a = this.getValueToObject('all', result['inv:invoice']['inv:invoiceData'][0], nameFile, dataBase64Code, X509Certificate);\r\n        } else if (result.hasOwnProperty('inv:transaction')) {\r\n          let X509Certificate = '';\r\n          if (result['inv:transaction']['inv:invoices'][0]['inv:invoice'][0]['Signature'])\r\n            X509Certificate = result['inv:transaction']['inv:invoices'][0]['inv:invoice'][0]['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0];\r\n          a = this.getValueToObject('all', result['inv:transaction']['inv:invoices'][0]['inv:invoice'][0]['inv:invoiceData'][0], nameFile, dataBase64Code, X509Certificate);\r\n        } else if (result.hasOwnProperty(\"HDon\")) {\r\n          a = this.readDataFromXmlTCT(result, nameFile, dataBase64Code);\r\n        } else {\r\n          a = this.returnObjectError(nameFile);\r\n        }\r\n      } else {\r\n        a = this.returnObjectError(nameFile);\r\n      }\r\n    });\r\n    return a;\r\n  }\r\n\r\n  returnObjectError(fileName) {\r\n    return {\r\n      name: fileName,\r\n      input_invoice_files: null\r\n    };\r\n  }\r\n\r\n  getValueToObject(type, value, nameFile, dataBase64Code, signature) {\r\n    const object = {};\r\n    for (const property in value) {\r\n      if (value.hasOwnProperty(property)) {\r\n        if (typeof value[property][0] === 'string') {\r\n          object[property] = value[property][0].trim();\r\n        } else {\r\n          object[property] = value[property][0];\r\n        }\r\n      }\r\n    }\r\n    if (type === 'dreamSoft') {\r\n      return this.addValueToFormFormat1(object, nameFile, dataBase64Code, signature);\r\n    } else if (type === 'all') {\r\n      return this.addValueToFormFormat2(object, nameFile, dataBase64Code, signature);\r\n    }\r\n  }\r\n\r\n  // done\r\n  addValueToFormFormat1(object, nameFile, dataBase64Code, signature) {\r\n    const invoice_type_name = nameFile;\r\n    let signature_content = signature;\r\n    let invoice_date = \"\";\r\n    let sign_date = \"\";\r\n    if (object['ArisingDate'])\r\n      invoice_date = moment(object['ArisingDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n    if (object['SignDate'])\r\n      sign_date = moment(object['SignDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n    const template_code = object['InvoicePattern'];\r\n    let payment_method_view_name;\r\n    if (object.hasOwnProperty('Kind_of_Payment')) {\r\n      payment_method_view_name = object['Kind_of_Payment'];\r\n    } else {\r\n      payment_method_view_name = object['PaymentMethod'];\r\n    }\r\n    const invoice_series = object['SerialNo'];\r\n    const seller_legal_name = object['ComName'];\r\n    const invoice_number = object['InvoiceNo'];\r\n    const currency_code = object['CurrencyUnit'];\r\n    const currency_rate = object['ExchangeRate'];\r\n    const adjustment_type = '1';\r\n    const seller_tax_code = object['ComTaxCode'];\r\n    const seller_address = object['ComAddress'];\r\n    const seller_mobile = object['ComPhone'];\r\n    let seller_email;\r\n    if (object['ComEmail']) {\r\n      if (object['ComEmail'] !== '.') {\r\n        seller_email = object['ComEmail'];\r\n      } else {\r\n        seller_email = null;\r\n      }\r\n    } else {\r\n      seller_email = null;\r\n    }\r\n    let seller_fax_number;\r\n    if (object.hasOwnProperty('ComFaxCode')) {\r\n      seller_fax_number = object['ComFaxCode'];\r\n    }\r\n    const buyer_legal_name = object['CusName'];\r\n    const buyer_tax_code = object['CusTaxCode'];\r\n    const buyer_mobile = object['CusPhone'];\r\n    const buyer_address = object['CusPhone'];\r\n    const buyer_email = object['CusEmail'];\r\n    let seller_bank_account;\r\n    if (object.hasOwnProperty('ComBankNo')) {\r\n      if (object['ComBankName']) {\r\n        seller_bank_account = object['ComBankNo'] + ' - ' + object['ComBankName'];\r\n      } else {\r\n        seller_bank_account = object['ComBankName'];\r\n      }\r\n    } else {\r\n      seller_bank_account = object['ComBankName'];\r\n    }\r\n    const amount = parseInt(object['Total'].replace(',', '.'), 10);\r\n    let total_amount_vat;\r\n    if (object.hasOwnProperty('VATAmount')) {\r\n      total_amount_vat = parseInt(object['VATAmount'].replace(',', '.'), 10);\r\n    } else {\r\n      total_amount_vat = parseInt(object['VAT_Amount'].replace(',', '.'), 10);\r\n    }\r\n    const total_payment = parseInt(object['Amount'].replace(',', '.'), 10);\r\n    let total_payment_in_word;\r\n    if (object.hasOwnProperty('Amount_words')) {\r\n      total_payment_in_word = object['Amount_words'];\r\n    } else {\r\n      total_payment_in_word = object['AmountInWords'];\r\n    }\r\n    let lstFile = [];\r\n    lstFile.push({\r\n      order: 'DK',\r\n      file_name: nameFile,\r\n      file_content: dataBase64Code,\r\n      is_file_import: true\r\n    });\r\n    if (this.lstFileDinhKem && this.lstFileDinhKem.length > 0) {\r\n      let tenFileHD = nameFile.split('.')[0];\r\n      this.lstFileDinhKem.forEach(file => {\r\n        let tenFileDK = file.name.split('.')[0];\r\n        if (tenFileDK == tenFileHD) {\r\n          let endCodeDK = window.btoa(unescape(encodeURIComponent(file.data)));\r\n          let fileDK = {\r\n            order: 'BK',\r\n            file_name: file.name,\r\n            file_content: endCodeDK,\r\n          }\r\n          lstFile.push(fileDK);\r\n        }\r\n      });\r\n    }\r\n    const input_invoice_files = lstFile;\r\n    let input_invoice_products;\r\n    if (object['Products']) {\r\n      const arrItem = object['Products']['Product'];\r\n      for (let i = 0; i < arrItem.length; i++) {\r\n        for (const keyItem in arrItem[i]) {\r\n          if (arrItem[i].hasOwnProperty(keyItem)) {\r\n            arrItem[i][keyItem] = arrItem[i][keyItem][0].trim();\r\n          }\r\n        }\r\n      }\r\n      input_invoice_products = this.invoiceBuyService.formatArrayItem(arrItem);\r\n    }\r\n    return {\r\n      input_invoice: {\r\n        total_payment_in_word: total_payment_in_word,\r\n        total_payment: total_payment,\r\n        total_amount_vat: total_amount_vat,\r\n        amount: amount,\r\n        seller_bank_account: seller_bank_account,\r\n        buyer_email: buyer_email,\r\n        buyer_address: buyer_address,\r\n        buyer_mobile: buyer_mobile,\r\n        buyer_tax_code: buyer_tax_code,\r\n        buyer_legal_name: buyer_legal_name,\r\n        seller_fax_number: seller_fax_number,\r\n        seller_mobile: seller_mobile,\r\n        seller_email: seller_email,\r\n        invoice_series: invoice_series,\r\n        seller_legal_name: seller_legal_name,\r\n        invoice_number: invoice_number,\r\n        currency_code: currency_code,\r\n        currency_rate: currency_rate,\r\n        adjustment_type: adjustment_type,\r\n        seller_tax_code: seller_tax_code,\r\n        seller_address: seller_address,\r\n        payment_method_view_name: payment_method_view_name,\r\n        template_code: template_code,\r\n        invoice_type_name: invoice_type_name,\r\n        invoice_date: invoice_date,\r\n        origin_id: null,\r\n        note: null,\r\n        seller_contact_name: null,\r\n        seller_surrogate_name: null,\r\n        seller_tax_department: null,\r\n        buyer_name: null,\r\n        auto_value: false,\r\n        auto_value_price: false,\r\n        amount_vat5: null,\r\n        amount_vat10: null,\r\n        amount_vatx: null,\r\n        amount_vat0: null,\r\n        total_amount_product_vat5: null,\r\n        total_amount_product_vat10: null,\r\n        total_amount_product_vatx: null,\r\n        total_amount_product_vat0: null,\r\n        amount_discount: null,\r\n        system_code: null,\r\n        export_from_ihd: 0,\r\n        sign_date: sign_date,\r\n        signature_content: signature_content,\r\n        version_xml: \"1\",\r\n        xml_type: \"2\",\r\n        is_import_from_zip: true,\r\n        json_data: {\r\n          statusCert: null,\r\n          signDateCompareCert: null,\r\n          signDateCompareInv: null,\r\n          statusFileXml: null,\r\n          capBoi: null,\r\n          kyBoi: null,\r\n          thoiHanChungThu: null,\r\n          thoiGianKyHoaDon: null,\r\n          tax_code: null,\r\n          name: null,\r\n          business_address: null,\r\n          status: null,\r\n          mstNB: null\r\n        }\r\n      },\r\n      input_invoice_products: input_invoice_products,\r\n      input_invoice_files: input_invoice_files\r\n    };\r\n  }\r\n  /* Đọc file xml từ Tổng Cục Thuế */\r\n  readDataFromXmlTCT(content, nameFile, dataBase64Code) {\r\n    this.frmData = new Invoice('1');\r\n    this.formatter = VChanggeMoneyService.getFormatterColumnInv(this.configs.decimal_places_json);\r\n    let TTChung = content['HDon']['DLHDon'][0]['TTChung'][0];\r\n    let NBan = content['HDon']['DLHDon'][0]['NDHDon'][0]['NBan'][0];\r\n    let NMua = content['HDon']['DLHDon'][0]['NDHDon'][0]['NMua'][0];\r\n    let DSHHDVu = content['HDon']['DLHDon'][0]['NDHDon'][0]['DSHHDVu'][0]['HHDVu'];\r\n    let TToan = content['HDon']['DLHDon'][0]['NDHDon'][0]['TToan'][0];\r\n    let X509Certificate = content['HDon']['DSCKS'][0]['NBan'][0]['Signature'][0]['KeyInfo'][0]['X509Data'][0]['X509Certificate'][0];\r\n    let THTTLTSuat = [];\r\n    if (content['HDon']['DLHDon'][0]['NDHDon'][0]['TToan'][0]['THTTLTSuat'])\r\n      THTTLTSuat = content['HDon']['DLHDon'][0]['NDHDon'][0]['TToan'][0]['THTTLTSuat'][0]['LTSuat'];\r\n\r\n    let signDate = content['HDon']['DSCKS'][0]['NBan'][0]['Signature'][0]['Object'][0]['SignatureProperties'][0]['SignatureProperty'][0]['SigningTime'][0]._;\r\n    let TTHDLQuan = content['HDon']['DLHDon'][0]['TTChung'][0][\"TTHDLQuan\"];\r\n    if (TTHDLQuan) {\r\n      let TCHDon = content['HDon']['DLHDon'][0]['TTChung'][0][\"TTHDLQuan\"][0][\"TCHDon\"];\r\n      if (TCHDon) {\r\n        TCHDon = content['HDon']['DLHDon'][0]['TTChung'][0][\"TTHDLQuan\"][0][\"TCHDon\"][0];\r\n        if (TCHDon == \"1\")\r\n          this.frmData.adjustment_type = \"3\";\r\n        else if (TCHDon == \"2\")\r\n          this.frmData.adjustment_type = \"5\";\r\n      }\r\n      else\r\n        this.frmData.adjustment_type = \"1\";\r\n    }\r\n    else\r\n      this.frmData.adjustment_type = \"1\";\r\n    if (!signDate)\r\n      signDate = content['HDon']['DSCKS'][0]['NBan'][0]['Signature'][0]['Object'][0]['SignatureProperties'][0]['SignatureProperty'][0]['SigningTime'][0];\r\n    let MaCQT = \"\";\r\n    if (content['HDon']['MCCQT'])\r\n      MaCQT = content['HDon']['MCCQT'][0]._;\r\n    this.frmData.tax_authority_code = MaCQT;\r\n    this.frmData.invoice_type_name = nameFile;\r\n    this.frmData.xml_type = \"3\";\r\n    /* Thông tin chung */\r\n    for (const property in TTChung) {\r\n      let valueI = TTChung[property][0];\r\n      switch (property) {\r\n        case \"KHMSHDon\":\r\n          this.frmData.template_code = valueI;\r\n          break;\r\n        case \"KHHDon\":\r\n          this.frmData.invoice_series = valueI;\r\n          break;\r\n        case \"SHDon\":\r\n          this.frmData.invoice_number = valueI;\r\n          break;\r\n        case \"NLap\":\r\n          const date = new Date(valueI);\r\n          if (date.toString() === 'Invalid Date') {\r\n            this.frmData.invoice_date = moment(valueI, 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n          } else {\r\n            this.frmData.invoice_date = moment(valueI).format('YYYY-MM-DD hh:mm:ss');\r\n          }\r\n          break;\r\n        case \"DVTTe\":\r\n          this.frmData.currency_code = valueI;\r\n          break;\r\n        case \"HTTToan\":\r\n          this.frmData.payment_method_view_name = valueI;\r\n          break;\r\n      }\r\n    }\r\n    /* Thông tin bên bán */\r\n    for (const property in NBan) {\r\n      let valueI = NBan[property][0];\r\n      switch (property) {\r\n        case \"Ten\":\r\n          this.frmData.seller_legal_name = valueI;\r\n          break;\r\n        case \"MST\":\r\n          this.frmData.seller_tax_code = valueI;\r\n          break;\r\n        case \"DChi\":\r\n          this.frmData.seller_address = valueI;\r\n          break;\r\n        case \"SDThoai\":\r\n          this.frmData.seller_mobile = valueI;\r\n          break;\r\n      }\r\n    }\r\n    /* Thông tin bên mua */\r\n    for (const property in NMua) {\r\n      let valueI = NMua[property][0];\r\n      switch (property) {\r\n        case \"Ten\":\r\n          this.frmData.buyer_legal_name = valueI;\r\n          break;\r\n        case \"MST\":\r\n          this.frmData.buyer_tax_code = valueI;\r\n          break;\r\n        case \"DChi\":\r\n          this.frmData.buyer_address = valueI;\r\n          break;\r\n        case \"SDThoai\":\r\n          this.frmData.buyer_mobile = valueI;\r\n          break;\r\n        case \"MKHang\":\r\n          this.frmData.customer_code = valueI;\r\n          break;\r\n        case \"DCTDTu\":\r\n          this.frmData.buyer_email = valueI;\r\n          break;\r\n          case \"HVTNMHang\":\r\n          this.frmData.buyer_name = valueI;\r\n          break;\r\n      }\r\n    }\r\n    /* Thông tin Số tiền trên hóa đơn */\r\n    for (const property in TToan) {\r\n      let valueI = TToan[property][0];\r\n      switch (property) {\r\n        case \"TgTCThue\":\r\n          this.frmData.amount = valueI;\r\n          break;\r\n        case \"TgTThue\":\r\n          this.frmData.total_amount_vat = valueI;\r\n          break;\r\n        case \"TgTTTBSo\":\r\n          this.frmData.total_payment = valueI;\r\n          break;\r\n        case \"TgTTTBChu\":\r\n          this.frmData.total_payment_in_word = valueI;\r\n          break;\r\n      }\r\n    }\r\n    if (THTTLTSuat && THTTLTSuat.length > 0) {\r\n      let lstTThue = [];\r\n      for (let i = 0; i < THTTLTSuat.length; i++) {\r\n        const object = {};\r\n        for (const property in THTTLTSuat[i]) {\r\n          let valueI = THTTLTSuat[i][property][0];\r\n          object[property] = valueI;\r\n        }\r\n        lstTThue.push(object);\r\n      }\r\n      if (lstTThue.length > 0) {\r\n        lstTThue.forEach(itemT => {\r\n          switch (itemT.TSuat) {\r\n            case \"0%\":\r\n              this.frmData.total_amount_product_vat0 = itemT.ThTien;\r\n              break;\r\n            case \"5%\":\r\n              this.frmData.total_amount_product_vat5 = itemT.ThTien;\r\n              this.frmData.amount_vat5 = itemT.TThue;\r\n              break;\r\n            case \"8%\":\r\n              this.frmData.total_amount_product_vat8 = itemT.ThTien;\r\n              this.frmData.amount_vat8 = itemT.TThue;\r\n              break;\r\n            case \"10%\":\r\n              this.frmData.total_amount_product_vat10 = itemT.ThTien;\r\n              this.frmData.amount_vat10 = itemT.TThue;\r\n              break;\r\n            case \"KCT\":\r\n              this.frmData.total_amount_product_vatx = itemT.ThTien;\r\n              break;\r\n            case \"KKKNT\":\r\n              this.frmData.total_amount_product_vat_kkknt = itemT.ThTien;\r\n              break;\r\n          }\r\n        });\r\n      }\r\n    }\r\n    /* Danh sách hàng hóa, dịch vụ */\r\n    if (DSHHDVu && DSHHDVu.length > 0) {\r\n      let lstHangHoa = [];\r\n      for (let i = 0; i < DSHHDVu.length; i++) {\r\n        const object = {};\r\n        for (const property in DSHHDVu[i]) {\r\n          let valueI = DSHHDVu[i][property][0];\r\n          object[property] = valueI;\r\n        }\r\n        lstHangHoa.push(object);\r\n      }\r\n      if (lstHangHoa.length > 0) {\r\n        this.frmData.input_invoice_products = [];\r\n        lstHangHoa.forEach(itemHH => {\r\n          let oHangHoa = {};\r\n          oHangHoa[\"order\"] = itemHH.STT ? itemHH.STT : null;\r\n          oHangHoa[\"product_code\"] = itemHH.MHHDVu ? itemHH.MHHDVu : null;\r\n          oHangHoa[\"product_name\"] = itemHH.THHDVu ? itemHH.THHDVu : null;\r\n          oHangHoa[\"unit_name\"] = itemHH.DVTinh ? itemHH.DVTinh : null;\r\n          oHangHoa[\"quantity\"] = itemHH.SLuong;\r\n          oHangHoa[\"price\"] = itemHH.DGia;\r\n          oHangHoa[\"amount\"] = itemHH.ThTien;\r\n          oHangHoa[\"product_group\"] = \"1\";\r\n          oHangHoa[\"unit_code\"] = null;\r\n          oHangHoa[\"is_promotion\"] = null;\r\n          switch (itemHH.TSuat) {\r\n            case \"0%\":\r\n              oHangHoa[\"vat\"] = 0;\r\n              break;\r\n            case \"5%\":\r\n              oHangHoa[\"vat\"] = 5;\r\n              break;\r\n            case \"10%\":\r\n              oHangHoa[\"vat\"] = 10;\r\n              break;\r\n            case \"8%\":\r\n              oHangHoa[\"vat\"] = 8;\r\n              break;\r\n            case \"KCT\":\r\n              oHangHoa[\"vat\"] = -1;\r\n              break;\r\n            case \"KKKNT\":\r\n              oHangHoa[\"vat\"] = -2;\r\n              break;\r\n            default:\r\n              oHangHoa[\"vat\"] = null;\r\n              break;\r\n          }\r\n          /* Cấu hình thập phân */\r\n          //->Số lượng\r\n          if (oHangHoa[\"quantity\"]) {\r\n            let arr = oHangHoa[\"quantity\"].split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.so_luong = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.so_luong = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Đơn giá\r\n          if (oHangHoa[\"price\"]) {\r\n            let arr = oHangHoa[\"price\"].split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.don_gia = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.don_gia = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Thành tiền\r\n          if (oHangHoa[\"amount\"]) {\r\n            let arr = oHangHoa[\"amount\"].split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.thanh_tien = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.thanh_tien = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Tiền thuế\r\n          if (this.frmData.total_amount_vat) {\r\n            let arr = this.frmData.total_amount_vat.split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.tien_thue = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.tien_thue = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n          //-> Tổng tiền\r\n          if (this.frmData.total_payment) {\r\n            let arr = this.frmData.total_payment.split('.');\r\n            if (arr.length == 2) {\r\n              this.formatter.tong_tien = VChanggeMoneyService.formatDecimalColumn(arr[1].length);\r\n            } else\r\n              this.formatter.tong_tien = VChanggeMoneyService.formatDecimalColumn(0);\r\n          }\r\n\r\n          if (oHangHoa[\"quantity\"])\r\n            oHangHoa[\"quantity\"] = VChanggeMoneyService.roundNumber(Helper.toNumber(oHangHoa[\"quantity\"]), this.formatter.so_luong);\r\n          else\r\n            oHangHoa[\"quantity\"] = null;\r\n\r\n          if (oHangHoa[\"price\"])\r\n            oHangHoa[\"price\"] = VChanggeMoneyService.roundNumber(Helper.toNumber(oHangHoa[\"price\"]), this.formatter.don_gia);\r\n          else\r\n            oHangHoa[\"price\"] = null;\r\n\r\n          if (oHangHoa[\"amount\"])\r\n            oHangHoa[\"amount\"] = VChanggeMoneyService.roundNumber(Helper.toNumber(oHangHoa[\"amount\"]), this.formatter.thanh_tien);\r\n          else\r\n            oHangHoa[\"amount\"] = null;\r\n\r\n          /* Tính tiền thuế */\r\n          if (oHangHoa[\"amount\"] != null && oHangHoa[\"vat\"] != null) {\r\n            if (oHangHoa[\"vat\"] > 0) {\r\n              oHangHoa[\"amount_vat\"] = VChanggeMoneyService.roundNumber((oHangHoa[\"amount\"] * oHangHoa[\"vat\"]) / 100, this.formatter.tien_thue);\r\n            } else if (oHangHoa[\"vat\"] == 0)\r\n              oHangHoa[\"amount_vat\"] = VChanggeMoneyService.roundNumber(0, this.formatter.tien_thue);\r\n            else\r\n              oHangHoa[\"amount_vat\"] = null;\r\n          } else if (oHangHoa[\"vat\"] == null || (oHangHoa[\"vat\"] != null && oHangHoa[\"amount\"] == null))\r\n            oHangHoa[\"amount_vat\"] = null;\r\n          /* Tính tổng tiền hàng hóa */\r\n          if (oHangHoa[\"amount_vat\"] != null && oHangHoa[\"amount\"] != null)\r\n            oHangHoa[\"amount_after_vat\"] = VChanggeMoneyService.roundNumber(oHangHoa[\"amount\"] + oHangHoa[\"amount_vat\"], this.formatter.tong_tien);\r\n          else if (oHangHoa[\"amount\"] != null)\r\n            oHangHoa[\"amount_after_vat\"] = VChanggeMoneyService.roundNumber(oHangHoa[\"amount\"], this.formatter.tong_tien);\r\n          else\r\n            oHangHoa[\"amount_after_vat\"] = null;\r\n\r\n          this.frmData.input_invoice_products.push(oHangHoa);\r\n        });\r\n      }\r\n    }\r\n\r\n    /* Cấu hình thập phân cho số tiền */\r\n    if (this.frmData.total_amount_product_vat0)\r\n      this.frmData.total_amount_product_vat0 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat0), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat0 = null;\r\n\r\n    if (this.frmData.total_amount_product_vat5)\r\n      this.frmData.total_amount_product_vat5 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat5), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat5 = null;\r\n\r\n    if (this.frmData.total_amount_product_vat8)\r\n      this.frmData.total_amount_product_vat8 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat8), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat8 = null;\r\n\r\n    if (this.frmData.total_amount_product_vat10)\r\n      this.frmData.total_amount_product_vat10 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat10), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat10 = null;\r\n\r\n    if (this.frmData.total_amount_product_vatx)\r\n      this.frmData.total_amount_product_vatx = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vatx), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vatx = null;\r\n\r\n    if (this.frmData.total_amount_product_vat_kkknt)\r\n      this.frmData.total_amount_product_vat_kkknt = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_product_vat_kkknt), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.total_amount_product_vat_kkknt = null;\r\n\r\n    if (this.frmData.amount)\r\n      this.frmData.amount = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount), this.formatter.thanh_tien);\r\n    else\r\n      this.frmData.amount = null;\r\n\r\n    if (this.frmData.total_amount_vat)\r\n      this.frmData.total_amount_vat = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_amount_vat), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.total_amount_vat = null;\r\n\r\n    if (this.frmData.total_payment)\r\n      this.frmData.total_payment = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.total_payment), this.formatter.tong_tien);\r\n    else\r\n      this.frmData.total_payment = null;\r\n\r\n    if (this.frmData.amount_vat5)\r\n      this.frmData.amount_vat5 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount_vat5), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.amount_vat5 = null;\r\n\r\n    if (this.frmData.amount_vat8)\r\n      this.frmData.amount_vat8 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount_vat8), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.amount_vat8 = null;\r\n\r\n    if (this.frmData.amount_vat10)\r\n      this.frmData.amount_vat10 = VChanggeMoneyService.roundNumber(Helper.toNumber(this.frmData.amount_vat10), this.formatter.tien_thue);\r\n    else\r\n      this.frmData.amount_vat10 = null;\r\n\r\n    this.frmData.input_invoice_products = this.frmData.input_invoice_products.filter((item) => {\r\n      if (item.product_name !== 'Tổng tiền hàng' && item.product_name !== 'Tổng tiền chiết khấu' && item.product_name !== 'Chiết khấu') {\r\n        return item;\r\n      }\r\n    });\r\n    this.frmData.version_xml = \"1\";\r\n    this.frmData.is_import_from_zip = true;\r\n    this.frmData.signature_content = X509Certificate;\r\n    if (signDate)\r\n      this.frmData.sign_date = signDate.replace(\"T\", \" \");\r\n    let lstFile = [];\r\n    lstFile.push({\r\n      order: 'DK',\r\n      file_name: nameFile,\r\n      file_content: dataBase64Code,\r\n      is_file_import: true\r\n    });\r\n    if (this.lstFileDinhKem && this.lstFileDinhKem.length > 0) {\r\n      let tenFileHD = nameFile.split('.')[0];\r\n      this.lstFileDinhKem.forEach(file => {\r\n        let tenFileDK = file.name.split('.')[0];\r\n        if (tenFileDK == tenFileHD) {\r\n          let endCodeDK = window.btoa(unescape(encodeURIComponent(file.data)));\r\n          let fileDK = {\r\n            order: 'BK',\r\n            file_name: file.name,\r\n            file_content: endCodeDK,\r\n          }\r\n          lstFile.push(fileDK);\r\n        }\r\n      });\r\n    }\r\n    this.frmData.input_invoice_files = lstFile;\r\n\r\n    const valueDataSource = this.frmData.input_invoice_products.filter((item) => {\r\n      if (item.product_name && item.product_group) {\r\n        return item;\r\n      }\r\n    });\r\n\r\n    if (this.formatter)\r\n      this.frmData.decimal_places_json = JSON.stringify(VChanggeMoneyService.getObjFormatterToColumn(this.formatter));\r\n    const dataForm = {\r\n      input_invoice: this.frmData,\r\n      input_invoice_products: valueDataSource,\r\n      input_invoice_files: this.frmData.input_invoice_files,\r\n    };\r\n    for (const [key] of Object.entries(dataForm.input_invoice)) {\r\n      if (key === 'id') {\r\n        delete dataForm.input_invoice[key];\r\n      }\r\n      if (key === 'input_invoice_products') {\r\n        delete dataForm.input_invoice[key];\r\n      }\r\n      if (key === 'input_invoice_files') {\r\n        delete dataForm.input_invoice[key];\r\n      }\r\n    }\r\n    dataForm.input_invoice_products.forEach(value => {\r\n      for (const [key] of Object.entries(value)) {\r\n        if (key === 'id') {\r\n          delete value[key];\r\n        }\r\n      }\r\n    });\r\n    return dataForm;\r\n  }\r\n\r\n  // done\r\n  addValueToFormFormat2(object, nameFile, dataBase64Code, signature) {\r\n    const invoice_type_name = nameFile;\r\n    let signature_content = signature;\r\n    const template_code = object['inv:templateCode'];\r\n    let adjustment_type;\r\n    if (object['inv:adjustmentType']) {\r\n      if (object['inv:adjustmentType'].trim() === '') {\r\n        adjustment_type = '1';\r\n      } else {\r\n        adjustment_type = object['inv:adjustmentType'];\r\n      }\r\n    } else {\r\n      adjustment_type = '1';\r\n    }\r\n    const invoice_number = object['inv:invoiceNumber'];\r\n    const invoice_series = object['inv:invoiceSeries'];\r\n    const currency_code = object['inv:currencyCode'];\r\n    let invoice_date;\r\n    let sign_date;\r\n    if (object['inv:signedDate']) {\r\n      const date = new Date(object['inv:signedDate']);\r\n      if (date.toString() === 'Invalid Date') {\r\n        sign_date = moment(object['inv:signedDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n      } else {\r\n        sign_date = moment(object['inv:signedDate']).format('YYYY-MM-DD hh:mm:ss');\r\n      }\r\n    }\r\n    if (object['inv:invoiceIssuedDate']) {\r\n      const date = new Date(object['inv:invoiceIssuedDate']);\r\n      if (date.toString() === 'Invalid Date') {\r\n        invoice_date = moment(object['inv:invoiceIssuedDate'], 'DD/MM/YYYY').format('YYYY-MM-DD hh:mm:ss');\r\n      } else {\r\n        invoice_date = moment(object['inv:invoiceIssuedDate']).format('YYYY-MM-DD hh:mm:ss');\r\n      }\r\n    }\r\n    const seller_tax_code = object['inv:sellerTaxCode'];\r\n    const seller_fax_number = object['inv:sellerFaxNumber'];\r\n    const seller_contact_name = object['inv:sellerContactPersonName'];\r\n    const seller_address = object['inv:sellerAddressLine'];\r\n    const seller_mobile = object['inv:sellerPhoneNumber'];\r\n    const seller_legal_name = object['inv:sellerLegalName'];\r\n    const buyer_legal_name = object['inv:buyerLegalName'];\r\n    const buyer_tax_code = object['inv:buyerTaxCode'];\r\n    const buyer_mobile = object['inv:buyerPhoneNumber'];\r\n    const buyer_email = object['inv:buyerEmail'];\r\n    const currency_rate = object['inv:exchangeRate'] ? object['inv:exchangeRate'] : object['inv:ExchangeRate'];\r\n    let seller_bank_account;\r\n    if (object.hasOwnProperty('inv:sellerBankAccount')) {\r\n      if (object['inv:sellerBankAccount']) {\r\n        seller_bank_account = object['inv:sellerBankAccount'] + ' - ' + object['inv:sellerBankName'];\r\n      } else {\r\n        seller_bank_account = object['inv:sellerBankName'];\r\n      }\r\n    } else {\r\n      seller_bank_account = object['inv:sellerBankName'];\r\n    }\r\n    const payments = object['inv:payments']['inv:payment'][0];\r\n    let payment_method_view_name;\r\n    if (payments.hasOwnProperty('inv:paymentMethodName')) {\r\n      payment_method_view_name = payments['inv:paymentMethodName'][0];\r\n    } else {\r\n      payment_method_view_name = payments['inv:paymentMethodNameExt'][0];\r\n    }\r\n    let seller_email;\r\n    if (object['inv:sellerEmail'] === '.') {\r\n      seller_email = null;\r\n    } else {\r\n      seller_email = object['inv:sellerEmail'];\r\n    }\r\n    let input_invoice_products;\r\n    if (object['inv:items']) {\r\n      const arrItem = object['inv:items']['inv:item'];\r\n      for (let i = 0; i < arrItem.length; i++) {\r\n        for (const keyItem in arrItem[i]) {\r\n          if (arrItem[i].hasOwnProperty(keyItem)) {\r\n            arrItem[i][keyItem] = arrItem[i][keyItem][0].trim();\r\n          }\r\n        }\r\n      }\r\n      const arrItemFormat = this.invoiceBuyService.formatArrayItem1(arrItem);\r\n      input_invoice_products = arrItemFormat.filter((item) => {\r\n        if (item.product_name !== 'Tổng tiền hàng' && item.product_name !== 'Tổng tiền chiết khấu' && item.product_name !== 'Chiết khấu') {\r\n          return item;\r\n        }\r\n      });\r\n    }\r\n    const amount = parseInt(object['inv:totalAmountWithoutVAT'].replace(',', '.'), 10);\r\n    const total_amount_vat = parseInt(object['inv:totalVATAmount'].replace(',', '.'), 10);\r\n    const total_payment = parseInt(object['inv:totalAmountWithVAT'].replace(',', '.'), 10);\r\n    const total_payment_in_word = object['inv:totalAmountWithVATInWords'];\r\n    let lstFile = [];\r\n    lstFile.push({\r\n      order: 'DK',\r\n      file_name: nameFile,\r\n      file_content: dataBase64Code,\r\n      is_file_import: true\r\n    });\r\n    if (this.lstFileDinhKem && this.lstFileDinhKem.length > 0) {\r\n      let tenFileHD = nameFile.split('.')[0];\r\n      this.lstFileDinhKem.forEach(file => {\r\n        let tenFileDK = file.name.split('.')[0];\r\n        if (tenFileDK == tenFileHD) {\r\n          let endCodeDK = window.btoa(unescape(encodeURIComponent(file.data)));\r\n          let fileDK = {\r\n            order: 'BK',\r\n            file_name: file.name,\r\n            file_content: endCodeDK,\r\n          }\r\n          lstFile.push(fileDK);\r\n        }\r\n      });\r\n    }\r\n    const input_invoice_files = lstFile;\r\n    return {\r\n      input_invoice: {\r\n        total_payment_in_word: total_payment_in_word,\r\n        total_payment: total_payment,\r\n        total_amount_vat: total_amount_vat,\r\n        amount: amount,\r\n        seller_bank_account: seller_bank_account,\r\n        buyer_email: buyer_email,\r\n        buyer_mobile: buyer_mobile,\r\n        buyer_tax_code: buyer_tax_code,\r\n        buyer_legal_name: buyer_legal_name,\r\n        seller_fax_number: seller_fax_number,\r\n        seller_mobile: seller_mobile,\r\n        invoice_series: invoice_series,\r\n        seller_legal_name: seller_legal_name,\r\n        invoice_number: invoice_number,\r\n        currency_code: currency_code,\r\n        currency_rate: currency_rate,\r\n        adjustment_type: adjustment_type,\r\n        seller_tax_code: seller_tax_code,\r\n        seller_address: seller_address,\r\n        payment_method_view_name: payment_method_view_name,\r\n        template_code: template_code,\r\n        invoice_type_name: invoice_type_name,\r\n        invoice_date: invoice_date,\r\n        seller_email: seller_email,\r\n        seller_contact_name: seller_contact_name,\r\n        origin_id: null,\r\n        note: null,\r\n        seller_surrogate_name: null,\r\n        seller_tax_department: null,\r\n        buyer_name: null,\r\n        auto_value: false,\r\n        auto_value_price: false,\r\n        amount_vat5: null,\r\n        amount_vat10: null,\r\n        amount_vatx: null,\r\n        amount_vat0: null,\r\n        total_amount_product_vat5: null,\r\n        total_amount_product_vat10: null,\r\n        total_amount_product_vatx: null,\r\n        total_amount_product_vat0: null,\r\n        amount_discount: null,\r\n        system_code: null,\r\n        export_from_ihd: 0,\r\n        signature_content: signature_content,\r\n        sign_date: sign_date,\r\n        version_xml: \"1\",\r\n        xml_type: \"2\",\r\n        is_import_from_zip: true,\r\n        json_data: {\r\n          statusCert: null,\r\n          signDateCompareCert: null,\r\n          signDateCompareInv: null,\r\n          statusFileXml: null,\r\n          capBoi: null,\r\n          kyBoi: null,\r\n          thoiHanChungThu: null,\r\n          thoiGianKyHoaDon: null,\r\n          tax_code: null,\r\n          name: null,\r\n          business_address: null,\r\n          status: null,\r\n          mstNB: null\r\n        }\r\n      },\r\n      input_invoice_products: input_invoice_products,\r\n      input_invoice_files: input_invoice_files\r\n    };\r\n  }\r\n\r\n  setCollap() {\r\n    this.isCollapsed = !this.isCollapsed;\r\n  }\r\n\r\n  exportExcel() {\r\n    for (let i = 0; i < this.arrDataError.length; i++) {\r\n      for (const [key] of Object.entries(this.arrDataError[i])) {\r\n        if (key === 'invoice_number') {\r\n          delete this.arrDataError[i][key];\r\n        }\r\n        if (key === 'template_code') {\r\n          delete this.arrDataError[i][key];\r\n        }\r\n        if (key === 'invoice_series') {\r\n          delete this.arrDataError[i][key];\r\n        }\r\n      }\r\n    }\r\n    Library.showloading();\r\n    this.invoiceBuyService.apiExportFileExcel(this.arrDataError)\r\n      .subscribe(rs => {\r\n        if (rs.status === 'success') {\r\n          const file = rs.data.report;\r\n          Helper.dowloadFile(file.file_name, 'xlsx', file.file_content);\r\n          Library.notify('Xuất file Excel thành công', 'success');\r\n        } else {\r\n          Library.notify(rs.message, 'error');\r\n        }\r\n      }, error => {\r\n        Library.notify(error, 'error');\r\n      },\r\n        () => Library.hideloading()\r\n      );\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {Library} from '@core/library';\r\nimport {InvoiceBuyService} from '@modules/invoice-buy/invoice-buy.service';\r\nimport {finalize, map} from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FormResolverService implements Resolve<any[]> {\r\n  idInvoice: string = null;\r\n\r\n  constructor(\r\n    private invoiceBuyService: InvoiceBuyService,\r\n    private router: Router,\r\n  ) {\r\n  }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any[]> | Promise<any[]> | any[] {\r\n    this.idInvoice = route.paramMap.get('id');\r\n    Library.showloading();\r\n    return this.invoiceBuyService.formResolveApi(this.idInvoice)\r\n      .pipe(\r\n        map(value => {\r\n          //\r\n          if (value.length > 3) {\r\n            if (value[3].status === 'success') {\r\n              return [\r\n                value[0].data,\r\n                value[1].data,\r\n                value[2].data.products,\r\n                value[3].data,\r\n              ];\r\n            } else {\r\n              this.router.navigate(['/']);\r\n            }\r\n          } else {\r\n            return [\r\n              value[0].data,\r\n              value[1].data,\r\n              value[2].data.products,\r\n            ];\r\n          }\r\n        }),\r\n        finalize(() => Library.hideloading())\r\n      );\r\n  }\r\n}\r\n"],"sourceRoot":""}