{"version":3,"sources":["webpack:///./src/app/core/library/public/number-utils.service.ts","webpack:///./src/app/modules/users/components/add/add.component.html","webpack:///./src/app/modules/users/components/add/add.component.scss","webpack:///./src/app/modules/users/components/add/add.component.ts","webpack:///./src/app/modules/users/components/index/index.component.html","webpack:///./src/app/modules/users/components/index/index.component.scss","webpack:///./src/app/modules/users/components/index/index.component.ts","webpack:///./src/app/modules/users/components/permission/permission.component.html","webpack:///./src/app/modules/users/components/permission/permission.component.scss","webpack:///./src/app/modules/users/components/permission/permission.component.ts","webpack:///./src/app/modules/users/users.module.ts","webpack:///./src/app/modules/users/users.routing.ts"],"names":[],"mappings":"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","file":"users-users-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { VStringService } from '@core/index';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NumberUtilsService {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  static _attemptConvertBool(value) {\r\n    if (value) {\r\n      switch (value.toLowerCase()) {\r\n        case true:\r\n        case 'true':\r\n        case 1:\r\n        case '1':\r\n        case 'x':\r\n        case 'hoat_dong':\r\n          return true;\r\n        default:\r\n          return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  static _attemptConvertFloat(str) {\r\n    // let tem = str.replace(\",\", \"\");\r\n    if (str) {// && str.trim()) {\r\n      const tem = str.replace(new RegExp(',', 'g'), '');\r\n      return parseFloat(tem);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<form (submit)=\\\"onSubmit($event)\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{_translate.CONTROLL.LABEL.update }} {{_translate.MENU.user }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <dx-form id=\\\"form\\\" [formData]=\\\"user\\\" validationGroup=\\\"userData\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n      <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n        <dxi-item *ngIf=\\\"!isConnectEfyId\\\" dataField=\\\"username\\\" [editorOptions]=\\\"{ disabled: disUserName }\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.username }}\\\"></dxo-label>\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.username }} {{_translate.VALIDATION.required }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n          <dxi-validation-rule type=\\\"pattern\\\" [pattern]=\\\"userNamePattern\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.username }} {{_translate.VALIDATION.username }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n        <dxi-item dataField=\\\"name\\\" *ngIf=\\\"!isConnectEfyId\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.user_name }}\\\"></dxo-label>\\r\\n\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.user_name }} {{_translate.VALIDATION.required }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n          <!-- <dxi-validation-rule\\r\\n            type=\\\"pattern\\\"\\r\\n            [pattern]=\\\"namePattern\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.user_name }} {{_translate.VALIDATION.not_number }}\\\">\\r\\n          </dxi-validation-rule> -->\\r\\n        </dxi-item>\\r\\n        <dxi-item dataField=\\\"password\\\" [editorOptions]=\\\"{mode: 'password'}\\\" *ngIf=\\\"!isConnectEfyId\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.password }}\\\"></dxo-label>\\r\\n\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.password }} {{_translate.VALIDATION.required }}\\\" *ngIf=\\\"isValidate\\\">\\r\\n          </dxi-validation-rule>\\r\\n          <dxi-validation-rule type=\\\"pattern\\\" [pattern]=\\\"passwordPattern\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.password }} {{showTextValidPass}}\\\" *ngIf=\\\"isValidate\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n        <dxi-item editorType=\\\"dxTextBox\\\" [editorOptions]=\\\"{mode: 'password'}\\\" *ngIf=\\\"!isConnectEfyId\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.re_password }}\\\"></dxo-label>\\r\\n\\r\\n          <dxi-validation-rule type=\\\"required\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.re_password }} {{_translate.VALIDATION.required }}\\\" *ngIf=\\\"isValidate\\\">\\r\\n          </dxi-validation-rule>\\r\\n          <dxi-validation-rule type=\\\"compare\\\" [comparisonTarget]=\\\"passwordComparison\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.re_password }} {{_translate.VALIDATION.incorrect }}\\\"\\r\\n            *ngIf=\\\"isValidate\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n        <dxi-item dataField=\\\"email\\\" [label]=\\\"{text: 'Email'}\\\"\\r\\n          [editorOptions]=\\\"{onValueChanged: onValueESChanged,disabled: disableEmail}\\\">\\r\\n          <dxi-validation-rule type=\\\"required\\\" message=\\\"Email {{_translate.VALIDATION.required }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n          <dxi-validation-rule type=\\\"pattern\\\" [pattern]=\\\"emailPattern\\\"\\r\\n            message=\\\"Email {{_translate.VALIDATION.not_pattern }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item dataField=\\\"mobile\\\" [editorOptions]=\\\"{ disabled: isConnectEfyId }\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.phone_number }}\\\"></dxo-label>\\r\\n\\r\\n          <dxi-validation-rule *ngIf=\\\"!isConnectEfyId\\\" type=\\\"pattern\\\" [pattern]=\\\"phonePattern\\\"\\r\\n            message=\\\"{{_translate.CONTROLL.LABEL.phone_number }} {{_translate.VALIDATION.not_pattern }}\\\">\\r\\n          </dxi-validation-rule>\\r\\n        </dxi-item>\\r\\n        <dxi-item *ngIf=\\\"isConnectEfyId\\\" dataField=\\\"name\\\" [editorOptions]=\\\"{ disabled: true }\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.fullname }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n        <dxi-item dataField=\\\"position\\\">\\r\\n          <dxo-label text=\\\"{{_translate.GRID.USER.position }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n\\r\\n        <dxi-item dataField=\\\"department_name\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.department }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n        <dxi-item dataField=\\\"order\\\" [editorOptions]=\\\"{ disabled: true }\\\">\\r\\n          <dxo-label text=\\\"{{_translate.CONTROLL.LABEL.order }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n        <dxi-item dataField=\\\"note\\\">\\r\\n          <dxo-label text=\\\"{{ 'CONTROLL.LABEL.note' | translate }}\\\"></dxo-label>\\r\\n        </dxi-item>\\r\\n        <dxi-item *ngIf=\\\"role_branch\\\">\\r\\n          <dxo-label text=\\\"{{ _translate.CONTROLL.COMBO.branch_manage }}\\\"></dxo-label>\\r\\n          <div>\\r\\n            <app-dropdown-checkbox #dropdownCheckboxComponent (shareCheckedList)=\\\"getChecklistBranch($event)\\\"\\r\\n              [list]=\\\"roleBranchStatus\\\">\\r\\n            </app-dropdown-checkbox>\\r\\n          </div>\\r\\n        </dxi-item>\\r\\n        <dxi-item [label]=\\\"{text: ' '}\\\" dataField=\\\"status\\\" editorType=\\\"dxCheckBox\\\" [editorOptions]=\\\"{\\r\\n          text: _translate.GRID.GENERAL.active}\\\">\\r\\n        </dxi-item>\\r\\n      </dxi-item>\\r\\n      <dxi-item *ngIf=\\\"isConnectEfyId\\\">\\r\\n        <div class=\\\"slabel\\\">\\r\\n          <div class=\\\"label1\\\">\\r\\n            <span>{{lbl.label1}}</span>\\r\\n            <a class=\\\"m-bold\\\" href=\\\"http://help.ihoadon.vn/huongdanv3/efyid/gioithieu/1/\\\" target=\\\"_blank\\\"\\r\\n              (click)=\\\"clickHere()\\\"> {{ 'CONTROLL.LABEL.click_here' | translate }}</a>\\r\\n          </div>\\r\\n          <div class=\\\"label2\\\">\\r\\n            {{lbl.label2}}\\r\\n          </div>\\r\\n        </div>\\r\\n      </dxi-item>\\r\\n      <dxi-item *ngIf=\\\"!configs.system_parameter.display_delivery_information\\\" itemType=\\\"group\\\" [colCount]=\\\"4\\\">\\r\\n        <dxo-label text=\\\"{{_translate.GRID.USER.roles }}\\\"></dxo-label>\\r\\n        <!-- [disabled]=\\\"disablePermissions({code: 'KE_TOAN_VIEN'}, 'roles')\\\" -->\\r\\n        <dx-check-box text=\\\"{{_translate.GRID.USER.accountant }}\\\" (onValueChanged)=\\\"ketoanvien($event)\\\"\\r\\n          [disabled]=\\\"disableGroupRoles()\\\" [(value)]=\\\"checkKTV\\\">\\r\\n        </dx-check-box>\\r\\n        <!-- [disabled]=\\\"disablePermissions({code: 'KE_TOAN_TRUONG'}, 'roles')\\\" -->\\r\\n        <dx-check-box text=\\\"{{_translate.GRID.USER.chief_accountant }}\\\" (onValueChanged)=\\\"ketoantruong($event)\\\"\\r\\n          [disabled]=\\\"disableGroupRoles()\\\" [(value)]=\\\"checkKTT\\\">\\r\\n        </dx-check-box>\\r\\n        <!-- [disabled]=\\\"disablePermissions({code: 'PHE_DUYET'}, 'roles')\\\" -->\\r\\n        <dx-check-box text=\\\"{{_translate.GRID.USER.approved }}\\\" (onValueChanged)=\\\"pheduyet($event)\\\"\\r\\n          [disabled]=\\\"disableGroupRoles()\\\" [(value)]=\\\"checkPD\\\">\\r\\n        </dx-check-box>\\r\\n        <!-- [disabled]=\\\"disablePermissions({code: 'QUAN_TRI_HE_THONG'}, 'roles')\\\" -->\\r\\n        <dx-check-box text=\\\"{{_translate.MENU.system_management }}\\\" (onValueChanged)=\\\"quantrihethong($event)\\\"\\r\\n          [disabled]=\\\"disableGroupRoles()\\\" [(value)]=\\\"checkQTHT\\\">\\r\\n        </dx-check-box>\\r\\n      </dxi-item>\\r\\n      <dxi-item *ngIf=\\\"configs.system_parameter.display_delivery_information\\\" cssClass=\\\"permission\\\">\\r\\n        <dxo-label text=\\\"{{_translate.GRID.USER.roles }}\\\"></dxo-label>\\r\\n        <dx-drop-down-box [(value)]=\\\"valuePermission\\\" valueExpr=\\\"code\\\" displayExpr=\\\"name\\\" placeholder=\\\"Select...\\\"\\r\\n          [dataSource]=\\\"listPermissionType\\\">\\r\\n          <div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n            <dx-tree-view #permissionbylist [dataSource]=\\\"listPermissionType\\\" dataStructure=\\\"plain\\\" keyExpr=\\\"code\\\"\\r\\n              selectionMode=\\\"multiple\\\" showCheckBoxesMode=\\\"normal\\\" [selectNodesRecursive]=\\\"false\\\" displayExpr=\\\"name\\\"\\r\\n              [selectByClick]=\\\"true\\\" (onSelectionChanged)=\\\"onPermissionSelectChanged($event)\\\">\\r\\n            </dx-tree-view>\\r\\n          </div>\\r\\n        </dx-drop-down-box>\\r\\n      </dxi-item>\\r\\n    </dx-form>\\r\\n    <div id=\\\"config-tabs\\\">\\r\\n      <dx-tabs [dataSource]=\\\"tabs\\\" [selectedIndex]=\\\"0\\\" (onItemClick)=\\\"selectTab($event)\\\">\\r\\n\\r\\n      </dx-tabs>\\r\\n    </div>\\r\\n    <div class=\\\"content-configs\\\">\\r\\n      <!-- Phân quyền hoạt động -->\\r\\n      <div style=\\\"width: 100%; height: 300px; overflow-y: scroll;\\\" class=\\\"role-box\\\" *ngIf=\\\"isConfigAction\\\">\\r\\n        <dx-tree-list #listpermis id=\\\"listpermissions\\\" [dataSource]=\\\"listpermissions\\\" keyExpr=\\\"id\\\"\\r\\n          parentIdExpr=\\\"parent_id\\\" [autoExpandAll]=\\\"true\\\" [showRowLines]=\\\"false\\\" [columnAutoWidth]=\\\"true\\\"\\r\\n          [wordWrapEnabled]=\\\"true\\\" [showColumnHeaders]=\\\"false\\\" (onSelectionChanged)=\\\"onItemSelectionChanged($event)\\\"\\r\\n          (onCellPrepared)=\\\"onCellPrepared($event)\\\" (onEditorPreparing)=\\\"onEditorPreparing($event)\\\"\\r\\n          [(selectedRowKeys)]=\\\"selectedRowKeys\\\">\\r\\n          <dxo-scrolling mode=\\\"standard\\\"></dxo-scrolling>\\r\\n          <dxo-paging [enabled]=\\\"true\\\" [pageSize]=\\\"150\\\"> </dxo-paging>\\r\\n          <dxo-pager [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[50, 100, 200]\\\" [showInfo]=\\\"true\\\">\\r\\n          </dxo-pager>\\r\\n          <dxo-selection mode=\\\"multiple\\\" [recursive]=\\\"recursiveSelectionEnabled\\\">\\r\\n          </dxo-selection>\\r\\n          <dxi-column dataField=\\\"name\\\"></dxi-column>\\r\\n        </dx-tree-list>\\r\\n      </div>\\r\\n      <!-- Phân quyền mẫu hóa đơn -->\\r\\n      <div style=\\\"width: 100%; height: 300px; overflow-y: scroll;\\\" class=\\\"role-box\\\" *ngIf=\\\"isConfigTemplate\\\">\\r\\n        <dx-radio-group [dataSource]=\\\"optionsPermissions\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" [(value)]=\\\"priority\\\"\\r\\n          layout=\\\"vertical\\\" (onValueChanged)=\\\"onValueChanged($event)\\\" style=\\\"margin-left: 10px;margin-top: 10px;\\\">\\r\\n        </dx-radio-group>\\r\\n        <dx-tree-list #listTempt id=\\\"listTemplateTBThue\\\" [dataSource]=\\\"listTemplateTBThue\\\" keyExpr=\\\"id\\\"\\r\\n          parentIdExpr=\\\"parent_id\\\" [autoExpandAll]=\\\"true\\\" [showRowLines]=\\\"false\\\" [columnAutoWidth]=\\\"true\\\"\\r\\n          [wordWrapEnabled]=\\\"true\\\" [showColumnHeaders]=\\\"false\\\" [disabled]=\\\"disableTemptlate\\\"\\r\\n          (onSelectionChanged)=\\\"onItemSelectionChangedTempt($event)\\\" [(selectedRowKeys)]=\\\"selectedRowKeysTempt\\\"\\r\\n          (onCellPrepared)=\\\"onCellPreparedTemplates($event)\\\" (onEditorPreparing)=\\\"onEditorPreparingTemplates($event)\\\">\\r\\n          <dxo-scrolling mode=\\\"standard\\\"></dxo-scrolling>\\r\\n          <dxo-paging [enabled]=\\\"true\\\" [pageSize]=\\\"150\\\"> </dxo-paging>\\r\\n          <dxo-pager [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[50, 100, 200]\\\" [showInfo]=\\\"true\\\">\\r\\n          </dxo-pager>\\r\\n          <dxo-selection mode=\\\"multiple\\\" [recursive]=\\\"recursiveSelectionEnabledTempt\\\">\\r\\n          </dxo-selection>\\r\\n          <dxi-column dataField=\\\"name_display\\\"></dxi-column>\\r\\n        </dx-tree-list>\\r\\n      </div>\\r\\n      <!-- Cấu hình CKS -->\\r\\n      <div style=\\\"width: 100%; height: 300px; overflow-y: scroll;padding-left: 25px;padding-top: 15px;\\\" class=\\\"role-box\\\"\\r\\n        *ngIf=\\\"isConfigSignatues\\\">\\r\\n        <dx-form id=\\\"configCRM\\\" [formData]=\\\"remoteSigns\\\" validationGroup=\\\"userData\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n          <dxi-item itemType=\\\"group\\\">\\r\\n            <dxi-item dataField=\\\"is_use_remotesigning\\\" editorType=\\\"dxCheckBox\\\" cssClass=\\\"is-integrate\\\"\\r\\n              [editorOptions]=\\\"{ text: _translate.CONFIGS.integrated_remote_signing, onValueChanged: onIsRemoteSigning}\\\">\\r\\n              <dxo-label [visible]=\\\"false\\\"></dxo-label>\\r\\n            </dxi-item>\\r\\n            <dxi-item dataField=\\\"agreement_uuid\\\" [label]=\\\"{ text: _translate.CONFIGS.agreement_uuid}\\\"\\r\\n              cssClass=\\\"input-long\\\" [editorOptions]=\\\"{disabled: isDisRemoteSigning}\\\">\\r\\n              <dxi-validation-rule *ngIf=\\\"!isDisRemoteSigning\\\" type=\\\"required\\\"\\r\\n                message=\\\"{{_translate.CONFIGS.agreement_uuid}} {{_translate.VALIDATION.required}}\\\">\\r\\n              </dxi-validation-rule>\\r\\n            </dxi-item>\\r\\n            <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\" cssClass=\\\"user-password\\\">\\r\\n              <dxi-item dataField=\\\"auth_mode\\\" editorType=\\\"dxSelectBox\\\" [label]=\\\"{ text: _translate.CONFIGS.auth_mode}\\\"\\r\\n                [editorOptions]=\\\"{items: authMode,displayExpr: 'name', valueExpr: 'code', disabled: isDisRemoteSigning}\\\">\\r\\n                <dxi-validation-rule *ngIf=\\\"!isDisRemoteSigning\\\" type=\\\"required\\\"\\r\\n                  message=\\\"{{_translate.CONFIGS.auth_mode}} {{_translate.VALIDATION.required}}\\\">\\r\\n                </dxi-validation-rule>\\r\\n              </dxi-item>\\r\\n              <dxi-item dataField=\\\"authorize_code\\\" [label]=\\\"{ text: _translate.CONFIGS.authorize_code}\\\"\\r\\n                [editorOptions]=\\\"{mode: 'password', disabled: isDisRemoteSigning}\\\">\\r\\n                <dxi-validation-rule *ngIf=\\\"!isDisRemoteSigning\\\" type=\\\"required\\\"\\r\\n                  message=\\\"{{_translate.CONFIGS.authorize_code}} {{_translate.VALIDATION.required}}\\\">\\r\\n                </dxi-validation-rule>\\r\\n              </dxi-item>\\r\\n            </dxi-item>\\r\\n          </dxi-item>\\r\\n        </dx-form>\\r\\n      </div>\\r\\n      <!-- Phân quyền Email -->\\r\\n      <div style=\\\"width: 100%; height: 300px; overflow-y: scroll;\\\" class=\\\"role-box\\\" *ngIf=\\\"isConfigEmail\\\">\\r\\n        <dx-radio-group [dataSource]=\\\"optionsEmails\\\" displayExpr=\\\"name\\\" valueExpr=\\\"code\\\" [(value)]=\\\"isReceiveAllEmail\\\"\\r\\n          layout=\\\"vertical\\\" (onValueChanged)=\\\"onEmailValueChanged($event)\\\" style=\\\"margin-left: 10px;margin-top: 10px;\\\">\\r\\n        </dx-radio-group>\\r\\n        <dx-tree-list #listEmail id=\\\"listConfigEmail\\\" [dataSource]=\\\"listEmailConfigs\\\" keyExpr=\\\"id\\\"\\r\\n          parentIdExpr=\\\"parent_id\\\" [autoExpandAll]=\\\"true\\\" [showRowLines]=\\\"false\\\" [columnAutoWidth]=\\\"true\\\"\\r\\n          [wordWrapEnabled]=\\\"true\\\" [showColumnHeaders]=\\\"false\\\" [disabled]=\\\"disableConfigEmail\\\"\\r\\n          (onSelectionChanged)=\\\"onItemSelectionChangedEmail($event)\\\" [(selectedRowKeys)]=\\\"selectedRowKeysEmail\\\"\\r\\n          (onCellPrepared)=\\\"onCellPreparedEmail($event)\\\" (onEditorPreparing)=\\\"onEditorPreparingEmail($event)\\\">\\r\\n          <dxo-scrolling mode=\\\"standard\\\"></dxo-scrolling>\\r\\n          <dxo-paging [enabled]=\\\"true\\\" [pageSize]=\\\"150\\\"> </dxo-paging>\\r\\n          <dxo-pager [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[50, 100, 200]\\\" [showInfo]=\\\"true\\\">\\r\\n          </dxo-pager>\\r\\n          <dxo-selection mode=\\\"multiple\\\" [recursive]=\\\"recursiveSelectionEnabledEmail\\\">\\r\\n          </dxo-selection>\\r\\n          <dxi-column dataField=\\\"email\\\"></dxi-column>\\r\\n        </dx-tree-list>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.save }}\\\" type=\\\"default\\\" validationGroup=\\\"userData\\\"\\r\\n      [useSubmitBehavior]=\\\"true\\\">\\r\\n    </dx-button>\\r\\n    <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.come_back }}\\\" type=\\\"default\\\" icon=\\\"{{_translate.ICONS.come_back }}\\\"\\r\\n      (click)=\\\"bsModalRef.hide()\\\">\\r\\n    </dx-button>\\r\\n  </div>\\r\\n</form>\"","module.exports = \".modal-title{font-size:18px;font-weight:600;text-transform:uppercase}.role-box{margin-top:10px;border:1px solid #d7d7d7}.content-configs{padding:20px 15px 60px 15px;width:100%}::ng-deep .content-configs .dx-item .dx-field-item-label-content{text-align:left}::ng-deep .content-configs .dx-item .dx-texteditor{width:400px}::ng-deep .content-configs #emailConfig .dx-texteditor{width:100%}::ng-deep .content-configs #emailConfig .width-50{width:50%}::ng-deep .content-configs .dx-item .dx-checkbox-text{padding-left:30px}::ng-deep .content-configs .ky-ke-khai .dx-field-item-label-content{width:100px !important}.content-configs .form-footer{float:right;margin-right:50px;padding-top:40px}::ng-deep .content-configs #configCRM .is-integrate{margin-bottom:15px}::ng-deep .content-configs #configCRM .user-password .dx-form-group-content{padding:0;margin:0}::ng-deep .content-configs #configCRM .input-long .dx-texteditor{width:82.2%}::ng-deep .content-configs #configCRM .user-password .dx-texteditor{width:60.3%}.icon-size{font-size:23px !important}#config-tabs{width:75%;border-bottom:1px solid #ddd}#config-tabs .dx-tabs{width:70%;border-bottom:0}.slabel{font-style:italic;margin-left:111px;margin-top:5px}.slabel .label1{margin-bottom:3px}::ng-deep .permission .dx-texteditor{width:28% !important;margin-bottom:10px}:host ::ng-deep #listpermissions .dx-treelist-rowsview .dx-selection.dx-row>td,.dx-treelist-rowsview .dx-selection.dx-row:hover>td,.dx-treelist-rowsview .dx-selection.dx-row>tr>td,.dx-treelist-rowsview .dx-selection.dx-row:hover>tr>td{background-color:transparent;border:none}:host ::ng-deep #listTemplateTBThue .dx-treelist-rowsview .dx-selection.dx-row>td,.dx-treelist-rowsview .dx-selection.dx-row:hover>td,.dx-treelist-rowsview .dx-selection.dx-row>tr>td,.dx-treelist-rowsview .dx-selection.dx-row:hover>tr>td{background-color:transparent;border:none}\\n\"","import { Component, OnInit, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { User, UsersService } from '@modules/users/shared';\r\nimport { DxFormComponent, DxTreeListComponent, DxTreeViewComponent } from 'devextreme-angular';\r\nimport { Library, AuthService, VSelectBoxService, VStringService } from '@core/index';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TemplateService } from '@modules/template/shared';\r\nimport { NotifyService } from '@modules/release-notify/shared';\r\nimport { DropdownCheckboxComponent } from '@shared/components/dropdown-checkbox/dropdown-checkbox.component';\r\nimport { RegisterService } from '@modules/auth/shared';\r\nimport { ConfigsService } from '@modules/configs/shared';\r\nimport { NumberUtilsService } from '@core/library/public/number-utils.service';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  // @ViewChild(DxTreeListComponent) treeList: DxTreeListComponent;\r\n  @ViewChild('listpermis') treeList: DxTreeListComponent;\r\n  @ViewChild('listTempt') treeListTempt: DxTreeListComponent;\r\n  @ViewChild('dropdownCheckboxComponent') dropdownCheckboxComponent: DropdownCheckboxComponent;\r\n  @ViewChild('permissionbylist') treeView: DxTreeViewComponent;\r\n  @ViewChild('listEmail') treeListEmail: DxTreeListComponent;\r\n  // form validate\r\n  user = new User();\r\n  id: any;\r\n  password = '';\r\n  passwordOptions: any = {\r\n    mode: 'password',\r\n    value: this.password\r\n  };\r\n  namePattern: any = /^[^0-9]+$/;\r\n  passwordPattern: any = /^.{6,}$/;\r\n  emailPattern: any = /^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/;\r\n  userNamePattern: any = /^[a-zA-Z0-9_]{6,50}$/;\r\n  phonePattern: any = /^(\\(?\\+?[0-9]*\\)?)?[0-9_\\- \\(\\)]*$/;\r\n  isValidate = true;\r\n  order: number;\r\n  totalCount: any;\r\n  disUserName = false;\r\n  optionsPermissions: any;\r\n  optionsEmails: any;\r\n  remoteSigns: any;\r\n  // treelist\r\n  selectedRowKeys: any[] = [];\r\n  selectedRowKeysTempt: any[] = [];\r\n  selectedRowKeysEmail: any[] = [];\r\n  recursiveSelectionEnabled = true;\r\n  recursiveSelectionEnabledTempt = true;\r\n  recursiveSelectionEnabledEmail = true;\r\n  roles: string;\r\n  permissions: string;\r\n  successSaveItem: any;\r\n  disableTemptlate = true;\r\n  disableConfigEmail = true;\r\n  remote_signing_info_default = \"{\\\"is_use_remotesigning\\\":false ,\\\"agreement_uuid\\\":\\\"\\\",\\\"auth_mode\\\":\\\"\\\",\\\"authorize_code\\\":\\\"\\\"}\";\r\n  // quyền\r\n  listpermissions: any;\r\n  roleGroups = {\r\n    KE_TOAN_VIEN: false,\r\n    KE_TOAN_TRUONG: false,\r\n    PHE_DUYET: false,\r\n    QUAN_TRI_HE_THONG: false\r\n  };\r\n  checkKTV = false;\r\n  checkKTT = false;\r\n  checkPD = false;\r\n  checkQTHT = false;\r\n  _translate: any;\r\n  isConfigAction = true;\r\n  isConfigSignatues = false;\r\n  isConfigTemplate = false;\r\n  isConfigEmail = false;\r\n  listTemplate: any;\r\n  listTemplateTBThue: any[] = [];\r\n  tabs = [];\r\n  priority: any;\r\n  isReceiveAllEmail: any;\r\n  role_branch = false;\r\n  roleBranchStatus: Array<any>;\r\n  textTabs: string;\r\n  lbl: any = {};\r\n  isConnectEfyId = false;\r\n  isUserConverted = false;\r\n  currentUser: any;\r\n  disableEmail = false;\r\n  permissionByListType: any;\r\n  valuePermission: any;\r\n  dataListPermission: any[] = [];\r\n  configs: any;\r\n  listPermissionType: any[] = [];\r\n  showTextValidPass: any;\r\n  isDisRemoteSigning = true;\r\n  authMode = [];\r\n  passwordComparison = () => {\r\n    return this.form.instance.option('formData').password;\r\n  };\r\n  listEmailConfigs: any[] = [];\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    private usersService: UsersService,\r\n    private modalService: BsModalService,\r\n    private ref: ChangeDetectorRef,\r\n    public translate: TranslateService,\r\n    private templateService: TemplateService,\r\n    private notifyService: NotifyService,\r\n    private registerService: RegisterService,\r\n    private configsService: ConfigsService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n    this.tabs = VSelectBoxService._tabPermissionUser(this._translate);\r\n    this.textTabs = this.tabs[0].code;\r\n    this.optionsPermissions = [];\r\n    this.optionsEmails = [\r\n      { name: 'Nhận thư từ tất cả các email', code: '1' },\r\n      { name: 'Nhận thư từ email', code: '0' }\r\n    ];\r\n    this.authMode = [\r\n      {\r\n        'code': 'EXPLICIT/PIN',\r\n        'name': 'EXPLICIT/PIN',\r\n      },\r\n      {\r\n        'code': 'EXPLICIT/OTP-SMS',\r\n        'name': 'EXPLICIT/OTP-SMS',\r\n      },\r\n      {\r\n        'code': 'EXPLICIT/OTP-EMAIL',\r\n        'name': 'EXPLICIT/OTP-EMAIL',\r\n      },\r\n    ];\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.getPermissions();\r\n    this.currentUser = this.authService.getCurrentUser();\r\n\r\n    this.configs = this.authService.getConfigs();\r\n    if (this.currentUser && this.currentUser.account) {\r\n      if (this.currentUser.account.connect_efy_id == \"1\")\r\n        this.isConnectEfyId = true;\r\n    }\r\n    this.getUser();\r\n    if (this.id) {\r\n      this.isValidate = false;\r\n      this.disUserName = true;\r\n      if (this.configs.system_parameter.enable_modify_username)\r\n        this.disUserName = false;\r\n    }\r\n    this.showTextValidPass = this._translate.VALIDATION.than6;\r\n    if (this.configs.system_parameter.is_regex_pass) {\r\n      this.passwordPattern = /^(?=.*[!@#$%^&*-])(?=(.*[0-9]){2,})(?=.*[A-Z])(?=.*[a-z]).{8,20}$/;\r\n      this.showTextValidPass = this._translate.CONTROLL.LABEL.regex_password;\r\n    }\r\n\r\n    this.lbl = {\r\n      label1: this._translate.CONTROLL.LABEL.user_will_use_efy_id_login + ' ' + this._translate.CONTROLL.LABEL.learn_more_about_efy_id,\r\n      label2: this._translate.CONTROLL.LABEL.system_auto_email,\r\n    };\r\n\r\n  }\r\n  getUser() {\r\n    if (this.id) { // nếu là edit\r\n      this.usersService.getPermissions().subscribe(response => {\r\n        this.listpermissions = response.data.permissions;\r\n        if (this.configs.system_parameter.display_delivery_information) {\r\n          this.permissionByListType.forEach(item => {\r\n            if (item.note) {\r\n              let lstRole = item.note.split(',');\r\n              this.listpermissions.forEach(permission => {\r\n                if (lstRole.includes(permission.code) && !permission.roles.includes(item.code))\r\n                  permission.roles.push(item.code);\r\n              });\r\n            }\r\n            let obj = {\r\n              id: item.id,\r\n              code: item.code,\r\n              name: item.name,\r\n              selected: false\r\n            }\r\n            this.listPermissionType.push(obj);\r\n          });\r\n        }\r\n        // this.getUser();\r\n        this.usersService.getUser(this.id).subscribe(response1 => {\r\n          this.user = response1.data.user;\r\n          this.priority = this.user.is_use_all_template ? '1' : '0';\r\n          this.disableTemptlate = this.user.is_use_all_template;\r\n          this.disableRadioTemplates();\r\n          this.disableRadioEmail();\r\n          this.user.status = NumberUtilsService._attemptConvertBool(this.user.status);\r\n\r\n          if (this.user.roles) {\r\n            if (this.configs.system_parameter.display_delivery_information) {\r\n              const roles = this.user.roles.split(',');\r\n              this.valuePermission = roles;\r\n              this.listPermissionType.forEach(item => {\r\n                if (roles.includes(item.code))\r\n                  item.selected = true;\r\n              });\r\n            }\r\n            else {\r\n              const roles = this.user.roles.split(',');\r\n              this.checkKTV = roles.includes('KE_TOAN_VIEN');\r\n              this.checkKTT = roles.includes('KE_TOAN_TRUONG');\r\n              this.checkPD = roles.includes('PHE_DUYET');\r\n              this.checkQTHT = roles.includes('QUAN_TRI_HE_THONG');\r\n            }\r\n          }\r\n          if (this.isConnectEfyId)\r\n            this.disableEmail = true;\r\n          if (this.user.permissions) {\r\n            const permissions = this.user.permissions.split(',');\r\n            this.listpermissions.forEach(item => {\r\n              if (permissions.includes(item.code) && !this.treeList.instance.isRowSelected(item.id)) {\r\n                this.selectedRowKeys.push(item.id);\r\n              }\r\n            });\r\n          }\r\n          if (this.user.remote_signing_info) {\r\n            this.remoteSigns = JSON.parse(this.user.remote_signing_info);\r\n            this.isDisRemoteSigning = !this.remoteSigns.is_use_remotesigning;\r\n          }\r\n          else\r\n            this.remoteSigns = JSON.parse(this.remote_signing_info_default);\r\n          this.templateService.getAll1().subscribe(rs => {\r\n            this.listTemplate = rs.data.templates;\r\n            if (this.listTemplate && this.listTemplate.length > 0) {\r\n              this.listTemplateTBThue = [];\r\n              let listTemptTT78 = this.listTemplate.filter(p => p.is_decree_new || p.template_code == \"CTT56\");\r\n              if (listTemptTT78 && listTemptTT78.length > 0)\r\n                this.listTemplateTBThue = listTemptTT78;\r\n              this.notifyService.getAll1().subscribe(result => {\r\n                const data = result.data;\r\n                const listRelease = result.data.invoice_releases;\r\n                if (listRelease && listRelease.length > 0) {\r\n                  const listReleaseTBThue = listRelease.filter(p => p.release_status === 'DA_TB_THUE' || p.release_status === 'CHUA_TB_THUE' || p.release_status === 'DA_HUY_SO');\r\n                  if (listReleaseTBThue && listReleaseTBThue.length > 0) {\r\n                    listReleaseTBThue.forEach(release => {\r\n                      this.listTemplate.forEach(template => {\r\n                        if (template.id === release.template_id) {\r\n                          const _obj = this.listTemplateTBThue.filter(p => p.id === template.id)[0];\r\n                          if (!_obj) {\r\n                            this.listTemplateTBThue.push(template);\r\n                          }\r\n                        }\r\n                      });\r\n                    });\r\n                  }\r\n                }\r\n                this.listTemplateTBThue.forEach(item => {\r\n                  item.name_display = item.template_code + ' - ' + item.invoice_series;\r\n                });\r\n                if (this.user.template_ids) {\r\n                  const templates = this.user.template_ids.split(',');\r\n                  if (this.listTemplateTBThue && this.listTemplateTBThue.length > 0) {\r\n                    this.listTemplateTBThue.forEach(item => {\r\n                      if (templates.includes(item.id)) {\r\n                        this.selectedRowKeysTempt.push(item.id);\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          }, err => {\r\n          }, () => {\r\n            Library.hideloading();\r\n          });\r\n          /* Lấy danh sách email hóa đơn đầu vào */\r\n          this.configsService.getAllEmails().subscribe(rs => {\r\n            if (rs.status == \"success\") {\r\n              this.listEmailConfigs = rs.data.config_mails;\r\n              if (VStringService._getValueToString(this.user.permission_mails) != \"\") {\r\n                this.disableConfigEmail = false;\r\n                this.isReceiveAllEmail = '0';\r\n                let emails = this.user.permission_mails.split(',');\r\n                if (this.listEmailConfigs && this.listEmailConfigs.length > 0) {\r\n                  this.listEmailConfigs.forEach(item => {\r\n                    if (emails.includes(item.email)) {\r\n                      this.selectedRowKeysEmail.push(item.id);\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n              else {\r\n                this.isReceiveAllEmail = '1';\r\n                this.disableConfigEmail = true;\r\n              }\r\n            }\r\n          }, err => {\r\n          }, () => {\r\n            Library.hideloading();\r\n          });\r\n          if (this.role_branch) {\r\n            if (this.user.role_branch) {\r\n              const role_branch = this.user.role_branch.split(';');\r\n              if (role_branch.indexOf('TAT_CA') !== -1) {\r\n                this.roleBranchStatus.forEach((item) => {\r\n                  item.checked = true;\r\n                });\r\n              } else {\r\n                this.roleBranchStatus.forEach(item => {\r\n                  if (role_branch.indexOf(item.code) !== -1) {\r\n                    item.checked = true;\r\n                  }\r\n                });\r\n              }\r\n              this.dropdownCheckboxComponent.ngOnInit();\r\n            }\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      this.remoteSigns = JSON.parse(this.remote_signing_info_default);\r\n      this.usersService.getPermissions().subscribe(response => {\r\n        this.listpermissions = response.data.permissions;\r\n        if (this.configs.system_parameter.display_delivery_information) {\r\n          this.permissionByListType.forEach(item => {\r\n            let lstRole = item.note.split(',');\r\n            this.listpermissions.forEach(permission => {\r\n              if (lstRole.includes(permission.code) && !permission.roles.includes(item.code))\r\n                permission.roles.push(item.code);\r\n            });\r\n            let obj = {\r\n              id: item.id,\r\n              code: item.code,\r\n              name: item.name,\r\n              selected: false\r\n            }\r\n            this.listPermissionType.push(obj);\r\n          });\r\n        }\r\n      });\r\n      this.templateService.getAll1().subscribe(rs => {\r\n        this.listTemplate = rs.data.templates;\r\n        if (this.listTemplate && this.listTemplate.length > 0) {\r\n          this.listTemplateTBThue = [];\r\n          let listTemptTT78 = this.listTemplate.filter(p => p.is_decree_new || p.template_code == \"CTT56\");\r\n          if (listTemptTT78 && listTemptTT78.length > 0)\r\n            this.listTemplateTBThue = listTemptTT78;\r\n          this.notifyService.getAll1().subscribe(result => {\r\n            const data = result.data;\r\n            const listRelease = result.data.invoice_releases;\r\n            if (listRelease && listRelease.length > 0) {\r\n              const listReleaseTBThue = listRelease.filter(p => p.release_status === 'DA_TB_THUE' || p.release_status === 'CHUA_TB_THUE' || p.release_status === 'DA_HUY_SO');\r\n              if (listReleaseTBThue && listReleaseTBThue.length > 0) {\r\n                listReleaseTBThue.forEach(release => {\r\n                  this.listTemplate.forEach(template => {\r\n                    if (template.id === release.template_id) {\r\n                      const _obj = this.listTemplateTBThue.filter(p => p.id === template.id)[0];\r\n                      if (!_obj) {\r\n                        this.listTemplateTBThue.push(template);\r\n                      }\r\n                    }\r\n                  });\r\n                });\r\n              }\r\n            }\r\n            if (this.listTemplateTBThue && this.listTemplateTBThue.length > 0) {\r\n              this.listTemplateTBThue.forEach(item => {\r\n                item.name_display = item.template_code + ' - ' + item.invoice_series;\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }, err => {\r\n      }, () => {\r\n        Library.hideloading();\r\n      });\r\n      /* Lấy danh sách email hóa đơn đầu vào */\r\n      this.configsService.getAllEmails().subscribe(rs => {\r\n        if (rs.status == \"success\") {\r\n          this.listEmailConfigs = rs.data.config_mails;\r\n        }\r\n      }, err => {\r\n      }, () => {\r\n        Library.hideloading();\r\n      });\r\n      this.user = new User();\r\n      this.user.is_use_all_template = this.currentUser.user.is_use_all_template;\r\n      this.priority = this.user.is_use_all_template ? '1' : '0';\r\n      this.disableTemptlate = this.user.is_use_all_template;\r\n\r\n      this.user.permission_mails = this.currentUser.user.permission_mails;\r\n      this.isReceiveAllEmail = VStringService._getValueToString(this.user.permission_mails) != \"\" ? '0' : '1';\r\n      this.disableConfigEmail = VStringService._getValueToString(this.user.permission_mails) != \"\" ? false : true;\r\n\r\n      this.user.order = this.totalCount + 1;\r\n      this.disableRadioTemplates();\r\n      this.disableRadioEmail();\r\n    }\r\n  }\r\n\r\n  // xử lý chọn quyền\r\n  ketoanvien(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.KE_TOAN_VIEN = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('KE_TOAN_VIEN');\r\n      }\r\n    } else {\r\n      this.roleGroups.KE_TOAN_VIEN = false;\r\n      this.unselectRoleGroup('KE_TOAN_VIEN');\r\n    }\r\n  }\r\n\r\n  ketoantruong(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.KE_TOAN_TRUONG = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('KE_TOAN_TRUONG');\r\n      }\r\n    } else {\r\n      this.roleGroups.KE_TOAN_TRUONG = false;\r\n      this.unselectRoleGroup('KE_TOAN_TRUONG');\r\n    }\r\n  }\r\n\r\n  getSelectedItemsKeys(items) {\r\n    let result = [];\r\n    const that = this;\r\n    items.forEach(function (item) {\r\n      if (item.selected) {\r\n        result.push(item.key);\r\n      }\r\n      if (item.items.length) {\r\n        result = result.concat(that.getSelectedItemsKeys(item.items));\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n\r\n  pheduyet(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.PHE_DUYET = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('PHE_DUYET');\r\n      }\r\n    } else {\r\n      this.roleGroups.PHE_DUYET = false;\r\n      this.unselectRoleGroup('PHE_DUYET');\r\n    }\r\n  }\r\n\r\n  quantrihethong(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.QUAN_TRI_HE_THONG = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('QUAN_TRI_HE_THONG');\r\n      }\r\n    } else {\r\n      this.roleGroups.QUAN_TRI_HE_THONG = false;\r\n      this.unselectRoleGroup('QUAN_TRI_HE_THONG');\r\n    }\r\n  }\r\n\r\n  selectRoleGroup(roleName: string) {\r\n    this.listpermissions.forEach(item => {\r\n      if (item.roles.includes(roleName) && !this.treeList.instance.isRowSelected(item.id)) {\r\n        if (!this.disablePermissions(item, \"permissions\"))\r\n          this.treeList.instance.selectRows(item.id, false);\r\n      }\r\n    });\r\n  }\r\n\r\n  unselectRoleGroup(roleName: string) {\r\n    const permissions = [];\r\n    this.listpermissions.forEach(item => {\r\n      if (!this.disablePermissions(item, \"permissions\") && item.roles.includes(roleName)) {\r\n        permissions.push(item.id);\r\n      }\r\n    });\r\n    this.treeList.instance.deselectRows(permissions);\r\n  }\r\n  getAllSelectedRowKeys() {\r\n    if (this.treeList) {\r\n      let _permissions = [];\r\n      this.treeList.instance.getSelectedRowKeys('all').forEach(element => {\r\n        let _obj = this.listpermissions.filter(p => p.id == element)[0];\r\n        if (_obj) {\r\n          _permissions.push(_obj);\r\n        }\r\n      });\r\n      this.user.permissions = _permissions.map(p => p.code).join(',');\r\n    }\r\n    if (this.treeListTempt) {\r\n      let _templates = [];\r\n      this.treeListTempt.instance.getSelectedRowKeys('all').forEach(element => {\r\n        let _obj = this.listTemplateTBThue.filter(p => p.id == element)[0];\r\n        if (_obj) {\r\n          _templates.push(_obj);\r\n        }\r\n      });\r\n      this.user.template_ids = _templates.map(p => p.id).join(',');\r\n    }\r\n  }\r\n  // xử lý submit\r\n  onSubmit(e) {\r\n    this.getAllSelectedRowKeys();\r\n\r\n\r\n    if (!this.configs.system_parameter.display_delivery_information && !this.checkKTV && !this.checkKTT && !this.checkPD && !this.checkQTHT) {\r\n      Library.notify(this._translate.TEXT.nhom_quyen_k_de_trong, 'error');\r\n      return;\r\n    }\r\n\r\n    if (!this.user.is_use_all_template && VStringService._getValueToString(this.user.template_ids) === '') {\r\n      Library.notify(this._translate.NOTIFY.you_must_delegate_at_least_one_invoice_template, 'error');\r\n      return;\r\n    }\r\n    if (this.isReceiveAllEmail == \"0\" && VStringService._getValueToString(this.user.permission_mails) === '') {\r\n      Library.notify(this._translate.NOTIFY.you_must_delegate_at_least_one_email_invoice_buy, 'error');\r\n      return;\r\n    }\r\n    if (VStringService._getValueToString(this.user.permissions) === '') {\r\n      Library.notify(this._translate.NOTIFY.you_must_delegate_at_least_one_permission, 'error');\r\n      return;\r\n    }\r\n    if (this.remoteSigns && this.remoteSigns.is_use_remotesigning) {\r\n      if (VStringService._getValueToString(this.remoteSigns.agreement_uuid) == '') {\r\n        Library.notify(this._translate.CONFIGS.agreement_uuid + \" \" + this._translate.VALIDATION.required, 'error');\r\n        return;\r\n      }\r\n      if (VStringService._getValueToString(this.remoteSigns.auth_mode) == '') {\r\n        Library.notify(this._translate.CONFIGS.auth_mode + \" \" + this._translate.VALIDATION.required, 'error');\r\n        return;\r\n      }\r\n      if (VStringService._getValueToString(this.remoteSigns.authorize_code) == '') {\r\n        Library.notify(this._translate.CONFIGS.authorize_code + \" \" + this._translate.VALIDATION.required, 'error');\r\n        return;\r\n      }\r\n    }\r\n    Library.showloading();\r\n\r\n    this.user.roles = '';\r\n\r\n    if (this.configs.system_parameter.display_delivery_information) {\r\n      if (this.valuePermission && this.valuePermission.length > 0) {\r\n        this.valuePermission.forEach(item => {\r\n          this.user.roles += item + ',';\r\n        });\r\n      }\r\n      else\r\n        this.user.roles = \"\";\r\n    }\r\n    else {\r\n      for (const roleName in this.roleGroups) {\r\n        if (this.roleGroups[roleName] === true) {\r\n          this.user.roles += roleName + ',';\r\n        }\r\n      }\r\n    }\r\n    this.user.roles = this.user.roles.slice(0, -1);\r\n    //console.log(this.selectedRowKeys);\r\n    //console.log(this.user.roles);\r\n\r\n    this.user.remote_signing_info = JSON.stringify(this.remoteSigns);\r\n    if (!this.user.id) {\r\n      if (this.isConnectEfyId) {\r\n        this.user.username = this.user.email;\r\n\r\n        let userClone = JSON.parse(JSON.stringify(this.user));\r\n        userClone.status = this.user.status ? \"HOAT_DONG\" : \"KHONG_HOAT_DONG\";\r\n        const data = { user: userClone };\r\n        this.usersService.addEfyId(data).subscribe((response: any) => {\r\n          if (response.status === 'success') {\r\n            this.bsModalRef.content.successSaveItem = 'Success';\r\n            Library.notify(this._translate.NOTIFY.add_success, 'success');\r\n            this.bsModalRef.hide();\r\n          } else {\r\n            Library.notify(response.message, 'error');\r\n          }\r\n        }, err => { }, () => {\r\n          Library.hideloading();\r\n        });\r\n      }\r\n      else {\r\n        let userClone = JSON.parse(JSON.stringify(this.user));\r\n        userClone.status = this.user.status ? \"HOAT_DONG\" : \"KHONG_HOAT_DONG\";\r\n        const data = {\r\n          user: userClone\r\n        };\r\n        this.usersService.add(data).subscribe((response: any) => {\r\n          if (response.status === 'success') {\r\n            this.bsModalRef.content.successSaveItem = 'Success';\r\n            Library.notify(this._translate.NOTIFY.add_success, 'success');\r\n            this.bsModalRef.hide();\r\n          } else {\r\n            Library.notify(response.message, 'error');\r\n          }\r\n        }, err => { }, () => {\r\n          Library.hideloading();\r\n        });\r\n      }\r\n    } else {\r\n      let dataEdit = null;\r\n      let userClone = JSON.parse(JSON.stringify(this.user));\r\n      userClone.status = this.user.status ? \"HOAT_DONG\" : \"KHONG_HOAT_DONG\";\r\n      const id = this.user.id;\r\n      if (this.user.hasOwnProperty('password')) {\r\n        dataEdit = { user: userClone };\r\n      } else {\r\n        this.user.password = null;\r\n        userClone.password = null;\r\n        dataEdit = { user: userClone };\r\n      }\r\n      if (this.isConnectEfyId) {\r\n        this.usersService.editEfyId(dataEdit, id).subscribe((response: any) => {\r\n          if (response.status === 'success') {\r\n            this.bsModalRef.content.successSaveItem = 'Success';\r\n            Library.notify(this._translate.NOTIFY.update_success, 'success');\r\n            const currentUser = this.authService.getCurrentUser();\r\n            if (currentUser.user.id === id) {\r\n              currentUser.user = dataEdit.user;\r\n              this.authService.setCurentAuth(currentUser);\r\n            }\r\n            this.bsModalRef.hide();\r\n          } else {\r\n            Library.notify(response.message, 'error');\r\n          }\r\n        }, err => { }, () => {\r\n          Library.hideloading();\r\n        });\r\n      }\r\n      else {\r\n        this.usersService.edit(dataEdit, id).subscribe((response: any) => {\r\n          if (response.status === 'success') {\r\n            this.bsModalRef.content.successSaveItem = 'Success';\r\n            Library.notify(this._translate.NOTIFY.update_success, 'success');\r\n            const currentUser = this.authService.getCurrentUser();\r\n            if (currentUser.user.id === id) {\r\n              currentUser.user = dataEdit.user;\r\n              this.authService.setCurentAuth(currentUser);\r\n            }\r\n            this.bsModalRef.hide();\r\n          } else {\r\n            Library.notify(response.message, 'error');\r\n          }\r\n        }, err => { }, () => {\r\n          Library.hideloading();\r\n        });\r\n      }\r\n    }\r\n    e.preventDefault();\r\n  };\r\n\r\n  selectTab(e) {\r\n    const tab = e.itemData.code;\r\n    this.getAllSelectedRowKeys();\r\n    switch (tab) {\r\n      case 'PHAN_QUYEN_HOAT_DONG':\r\n        this.selectedRowKeys = [];\r\n        this.textTabs = tab;\r\n        this.isConfigAction = true;\r\n        this.isConfigTemplate = false;\r\n        this.isConfigSignatues = false;\r\n        this.isConfigEmail = false;\r\n        if (this.user.permissions) {\r\n          const permissions = this.user.permissions.split(',');\r\n          this.listpermissions.forEach(item => {\r\n            if (permissions.includes(item.code)) {\r\n              this.selectedRowKeys.push(item.id);\r\n            }\r\n          });\r\n        }\r\n        break;\r\n      case 'PHAN_QUYEN_MAU_HOA_DON':\r\n        this.textTabs = tab;\r\n        this.isConfigTemplate = true;\r\n        this.isConfigAction = false;\r\n        this.isConfigSignatues = false;\r\n        this.isConfigEmail = false;\r\n        // if (this.user.template_ids && this.priority === '0') {\r\n        //   const templates = this.user.template_ids.split(',');\r\n        //   if (Array.isArray(this.listTemplateTBThue) && this.listTemplateTBThue.length > 0) {\r\n        //     this.listTemplateTBThue.forEach(item => {\r\n        //       if (templates.includes(item.id)) {\r\n        //         this.selectedRowKeysTempt.push(item.id);\r\n        //       }\r\n        //     });\r\n        //   }\r\n        // }\r\n        break;\r\n      case 'CAU_HINH_CHU_KY_SO':\r\n        this.textTabs = tab;\r\n        this.isConfigSignatues = true;\r\n        this.isConfigTemplate = false;\r\n        this.isConfigAction = false;\r\n        this.isConfigEmail = false;\r\n        break;\r\n      case 'EMAIL_NHAN_HOA_DON':\r\n        this.textTabs = tab;\r\n        this.isConfigEmail = true;\r\n        this.isConfigTemplate = false;\r\n        this.isConfigAction = false;\r\n        this.isConfigSignatues = false;\r\n        // if (VStringService._getValueToString(this.user.permission_mails)!=\"\"  && this.isReceiveAllEmail === '0') {\r\n        //   const emails = this.user.permission_mails.split(',');\r\n        //   if (Array.isArray(this.listEmailConfigs) && this.listEmailConfigs.length > 0) {\r\n        //     this.listEmailConfigs.forEach(item => {\r\n        //       if (emails.includes(item.email)) {\r\n        //         this.selectedRowKeysEmail.push(item.id);\r\n        //       }\r\n        //     });\r\n        //   }\r\n        // }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  onCellPrepared(e) {\r\n    if (e.rowType == \"data\") {\r\n      if (this.disablePermissions(e.row.data, \"permissions\")) {\r\n        //e.cellElement.style.background = \"#FF0000\";\r\n        // e.cellElement.style.background = \"#F1F1F1\";\r\n        // e.cellElement.style.color = \"#C2C2C2\";\r\n        e.cellElement.style.opacity = \"0.7\";\r\n      }\r\n    }\r\n  }\r\n  onEditorPreparing(e) {\r\n    if (e.parentType == 'dataRow') {\r\n      e.editorOptions.disabled = this.disablePermissions(e.row.data, \"permissions\");\r\n    }\r\n  }\r\n  onCellPreparedTemplates(e) {\r\n    if (e.rowType == \"data\") {\r\n      if (this.disableTemplates(e.row.data)) {\r\n        e.cellElement.style.opacity = \"0.7\";\r\n      }\r\n    }\r\n  }\r\n  onEditorPreparingTemplates(e) {\r\n    //console.log(e.row.data);\r\n\r\n    if (e.parentType == 'dataRow') {\r\n      e.editorOptions.disabled = this.disableTemplates(e.row.data);\r\n    }\r\n  }\r\n\r\n  disableGroupRoles() {\r\n    if (this.isConfigAction) {\r\n      let user = this.currentUser.user;\r\n\r\n      if (VStringService._getValueToString(user.username).toLowerCase() == \"superadmin\"\r\n        || user.is_super_admin == true) {\r\n        return false;\r\n      } else {\r\n        if (this.id == user.id) {\r\n          return true;\r\n        } else return false;\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  disablePermissions(data, type) {\r\n    let user = this.currentUser.user;\r\n    let field = \"code\";\r\n    if (VStringService._getValueToString(user.username).toLowerCase() == \"superadmin\"\r\n      || user.is_super_admin == true) {\r\n      return false;\r\n    } else {\r\n      if (this.id) {\r\n        if (this.id == user.id) {/// sửa chính mình thì k cho sửa quyền\r\n          return true;\r\n        } else {// Giống trường hợp thêm mới. user có quyền nào thì chỉ được sửa quyền đó của user được sửa\r\n          if (user[type]) {\r\n            let listPermissionsUserCurent = user[type].split(',');\r\n            if (data && listPermissionsUserCurent.includes(data[field])) {\r\n              return false;\r\n            } else return true;\r\n          } else\r\n            return true;\r\n\r\n        }\r\n      } else {// thêm mới user thì user hiện tại có quyền gì thì user thêm mới chỉ được có quyền đó\r\n        if (user[type]) {\r\n          let listPermissionsUserCurent = user[type].split(',');\r\n          if (data && listPermissionsUserCurent.includes(data[field])) {\r\n            return false;\r\n          } else return true;\r\n        } else\r\n          return true;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  disableRadioTemplates() {\r\n    if (this.currentUser) {\r\n\r\n      if (VStringService._getValueToString(this.currentUser.user.username).toLowerCase() == \"superadmin\"\r\n        || this.currentUser.user.is_super_admin == true) {\r\n        this.optionsPermissions = [\r\n          { name: this._translate.TEXT.su_dung_tat_ca_mau_hd, code: '1', disabled: false },\r\n          { name: this._translate.TEXT.theo_tung_mau_hd, code: '0', disabled: false }\r\n        ];\r\n      } else {\r\n        if (this.currentUser.user.id == this.id) {\r\n          this.optionsPermissions = [\r\n            { name: this._translate.TEXT.su_dung_tat_ca_mau_hd, code: '1', disabled: true },\r\n            { name: this._translate.TEXT.theo_tung_mau_hd, code: '0', disabled: true }\r\n          ];\r\n        } else {\r\n          //Trường hợp User A được phân quyền \"Được sử dụng tất cả mẫu hóa đơn\" thì khi sửa quyền user khác sẽ enable cả 2 quyền \"Được sử dụng tất cả mẫu hóa đơn\" và \"Theo từng mẫu hóa đơn\"\r\n          if (this.currentUser.user.is_use_all_template == true) {\r\n            this.optionsPermissions = [\r\n              { name: this._translate.TEXT.su_dung_tat_ca_mau_hd, code: '1', disabled: false },\r\n              { name: this._translate.TEXT.theo_tung_mau_hd, code: '0', disabled: false }\r\n            ];\r\n          } else {//- Trường hợp User A được phân quyền \"Theo từng mẫu hóa đơn\":\r\n            //+ Nếu User B đang được phân quyền \"Được sử dụng tất cả mẫu hóa đơn\" thì disable cả 2 quyền này\r\n            if (this.user.is_use_all_template) {\r\n              this.optionsPermissions = [\r\n                { name: this._translate.TEXT.su_dung_tat_ca_mau_hd, code: '1', disabled: true },\r\n                { name: this._translate.TEXT.theo_tung_mau_hd, code: '0', disabled: true }\r\n              ];\r\n            } else //+ Nếu User B được phân quyền \"Theo từng mẫu hóa đơn\" thì enable quyền \"Theo từng mẫu hóa đơn\", danh sách mẫu hóa đơn bao gồm các mẫu user A được phân quyền\r\n              this.optionsPermissions = [\r\n                { name: this._translate.TEXT.su_dung_tat_ca_mau_hd, code: '1', disabled: true },\r\n                { name: this._translate.TEXT.theo_tung_mau_hd, code: '0', disabled: false }\r\n              ];\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  disableTemplates(data) {\r\n    let user = this.currentUser.user;\r\n    if (VStringService._getValueToString(user.username).toLowerCase() == \"superadmin\"\r\n      || user.is_super_admin == true || user.is_use_all_template == true) {\r\n      return false;\r\n    } else {\r\n      if (this.id) {\r\n        if (this.id == user.id) {/// sửa chính mình thì k cho sửa quyền\r\n          return true;\r\n        } else {// Giống trường hợp thêm mới. user có quyền nào thì chỉ được sửa quyền đó của user được sửa\r\n          if (user.template_ids) {\r\n            let listTemplatesUserCurent = user.template_ids.split(',');\r\n            if (data && listTemplatesUserCurent.includes(data.id)) {\r\n              return false;\r\n            } else return true;\r\n          } else\r\n            return true;\r\n\r\n        }\r\n      } else {// thêm mới user thì user hiện tại có quyền gì thì user thêm mới chỉ được có quyền đó\r\n        if (user.template_ids) {\r\n          let listTemplatesUserCurent = user.template_ids.split(',');\r\n          if (data && listTemplatesUserCurent.includes(data.id)) {\r\n            return false;\r\n          } else return true;\r\n        } else\r\n          return true;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  disableRadioEmail() {\r\n    if (this.currentUser) {\r\n      if (VStringService._getValueToString(this.currentUser.user.username).toLowerCase() == \"superadmin\"\r\n        || this.currentUser.user.is_super_admin == true) {\r\n        this.optionsEmails = [\r\n          { name: this._translate.TEXT.nhan_thu_tu_tat_ca_email, code: '1', disabled: false },\r\n          { name: this._translate.TEXT.nhan_thu_tu_email, code: '0', disabled: false }\r\n        ];\r\n      } else {\r\n        if (this.currentUser.user.id == this.id) {\r\n          this.optionsEmails = [\r\n            { name: this._translate.TEXT.nhan_thu_tu_tat_ca_email, code: '1', disabled: true },\r\n            { name: this._translate.TEXT.nhan_thu_tu_email, code: '0', disabled: true }\r\n          ];\r\n        } else {\r\n          //Trường hợp User A được phân quyền \"Nhận thư từ tất cả các email\" thì khi sửa quyền user khác sẽ enable cả 2 quyền \"Nhận thư từ tất cả các email\" và \"Nhận thư từ email\"\r\n          if (VStringService._getValueToString(this.currentUser.user.permission_mails) == \"\") {\r\n            this.optionsEmails = [\r\n              { name: this._translate.TEXT.nhan_thu_tu_tat_ca_email, code: '1', disabled: false },\r\n              { name: this._translate.TEXT.nhan_thu_tu_email, code: '0', disabled: false }\r\n            ];\r\n          } else {//- Trường hợp User A được phân quyền \"Nhận thư từ email\":\r\n            //+ Nếu User B đang được phân quyền \"Nhận thư từ tất cả các email\" thì disable cả 2 quyền này\r\n            if (VStringService._getValueToString(this.user.permission_mails) == \"\") {\r\n              this.optionsEmails = [\r\n                { name: this._translate.TEXT.nhan_thu_tu_tat_ca_email, code: '1', disabled: true },\r\n                { name: this._translate.TEXT.nhan_thu_tu_email, code: '0', disabled: true }\r\n              ];\r\n            } else //+ Nếu User B được phân quyền \"Nhận thư từ email\" thì enable quyền \"Nhận thư từ email\", danh sách mẫu hóa đơn bao gồm các mẫu user A được phân quyền\r\n              this.optionsEmails = [\r\n                { name: this._translate.TEXT.nhan_thu_tu_tat_ca_email, code: '1', disabled: true },\r\n                { name: this._translate.TEXT.nhan_thu_tu_email, code: '0', disabled: false }\r\n              ];\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  disableEmailItem(data) {\r\n    let user = this.currentUser.user;\r\n    if (VStringService._getValueToString(user.username).toLowerCase() == \"superadmin\"\r\n      || user.is_super_admin == true || VStringService._getValueToString(user.permission_mails) == \"\") {\r\n      return false;\r\n    } else {\r\n      if (this.id) {\r\n        if (this.id == user.id) {/// sửa chính mình thì k cho sửa quyền\r\n          return true;\r\n        } else {// Giống trường hợp thêm mới. user có quyền nào thì chỉ được sửa quyền đó của user được sửa\r\n          if (user.permission_mails) {\r\n            let listTemplatesUserCurent = user.permission_mails.split(',');\r\n            if (data && listTemplatesUserCurent.includes(data.email)) {\r\n              return false;\r\n            } else return true;\r\n          } else\r\n            return true;\r\n\r\n        }\r\n      } else {// thêm mới user thì user hiện tại có quyền gì thì user thêm mới chỉ được có quyền đó\r\n        if (user.permission_mails) {\r\n          let listTemplatesUserCurent = user.permission_mails.split(',');\r\n          if (data && listTemplatesUserCurent.includes(data.email)) {\r\n            return false;\r\n          } else return true;\r\n        } else\r\n          return true;\r\n      }\r\n    }\r\n\r\n  }\r\n  onCellPreparedEmail(e) {\r\n    if (e.rowType == \"data\") {\r\n      if (this.disableEmailItem(e.row.data)) {\r\n        //e.cellElement.style.background = \"#FF0000\";\r\n        // e.cellElement.style.background = \"#F1F1F1\";\r\n        // e.cellElement.style.color = \"#C2C2C2\";\r\n        e.cellElement.style.opacity = \"0.7\";\r\n      }\r\n    }\r\n  }\r\n  onEditorPreparingEmail(e) {\r\n    if (e.parentType == 'dataRow') {\r\n      e.editorOptions.disabled = this.disableEmailItem(e.row.data);\r\n    }\r\n  }\r\n\r\n  onItemSelectionChanged(e) {\r\n    if (this.textTabs === 'PHAN_QUYEN_HOAT_DONG') {\r\n\r\n    }\r\n  }\r\n\r\n  onItemSelectionChangedTempt(e) {\r\n    if (this.textTabs === 'PHAN_QUYEN_MAU_HOA_DON') {\r\n      this.user.template_ids = '';\r\n      const selectedKeyTemplate = this.treeListTempt.instance.getSelectedRowKeys('all');\r\n      for (const idtempt of selectedKeyTemplate) {\r\n        this.listTemplateTBThue.forEach(item => {\r\n          if (item.id === idtempt) {\r\n            this.user.template_ids += item.id + ',';\r\n          }\r\n        });\r\n      }\r\n      this.user.template_ids = this.user.template_ids.slice(0, -1);\r\n    }\r\n  }\r\n\r\n  onValueChanged(e) {\r\n    if (e.value === '1') {\r\n      this.disableTemptlate = true;\r\n      this.user.is_use_all_template = true;\r\n    } else {\r\n      this.disableTemptlate = false;\r\n      this.user.is_use_all_template = false;\r\n    }\r\n  }\r\n\r\n  getChecklistBranch($event) {\r\n    if ($event.length > 0) {\r\n      if ($event.indexOf('TAT_CA') !== -1) {\r\n        const value = $event.filter(item => {\r\n          return item === 'TAT_CA';\r\n        });\r\n        this.user.role_branch = value.toString();\r\n      } else {\r\n        this.user.role_branch = $event.toString().replace(/,/g, ';');\r\n      }\r\n    } else {\r\n      this.user.role_branch = null;\r\n    }\r\n  }\r\n\r\n  onValueESChanged = (e) => {\r\n    if (this.isConnectEfyId)\r\n      this.checkUserEfyId(e.value);\r\n  }\r\n  checkUserEfyId(username) {\r\n    Library.showloading();\r\n    this.registerService.checkUserUseEfyId(username).subscribe(\r\n      (res: any) => {\r\n        if (res.status === 'success') {\r\n          if (res.data.user) {\r\n            this.user.name = res.data.user.name;\r\n            this.user.mobile = res.data.user.mobile;\r\n            this.user.email = res.data.user.email;\r\n          }\r\n        }\r\n        else {\r\n          this.user.name = \"\";\r\n          this.user.mobile = \"\";\r\n          // Library.notify(res.message, 'error');\r\n        }\r\n\r\n      }, error => Library.notify(error, 'error'),\r\n      () => Library.hideloading()\r\n    );\r\n  }\r\n  onPermissionSelectChanged(e) {\r\n    const nodes = e.component.getNodes();\r\n    let uncheckPermission = nodes.filter(p => !p.selected);\r\n    let checkPermission = nodes.filter(p => p.selected);\r\n    uncheckPermission.forEach(item => {\r\n      this.unselectRoleGroup(item.key);\r\n    });\r\n    checkPermission.forEach(item => {\r\n      this.selectRoleGroup(item.key);\r\n    });\r\n    this.valuePermission = this.getSelectedItemsKeys(nodes);\r\n\r\n  }\r\n  /* Check remoteSigning */\r\n  onIsRemoteSigning = (e) => {\r\n    if (e.value) {\r\n      this.isDisRemoteSigning = false;\r\n    } else {\r\n      this.isDisRemoteSigning = true;\r\n    }\r\n  }\r\n  onEmailValueChanged(e) {\r\n    if (e.value === '1') {\r\n      this.disableConfigEmail = true;\r\n      this.selectedRowKeysEmail = [];\r\n      this.user.permission_mails = '';\r\n    } else {\r\n      this.disableConfigEmail = false;\r\n    }\r\n  }\r\n  onItemSelectionChangedEmail(e) {\r\n    if (this.textTabs === 'EMAIL_NHAN_HOA_DON') {\r\n      this.user.permission_mails = '';\r\n      const selectedKeyEmail = this.treeListEmail.instance.getSelectedRowKeys('all');\r\n      for (const idtempt of selectedKeyEmail) {\r\n        this.listEmailConfigs.forEach(item => {\r\n          if (item.id === idtempt) {\r\n            this.user.permission_mails += item.email + ',';\r\n          }\r\n        });\r\n      }\r\n      this.user.permission_mails = this.user.permission_mails.slice(0, -1);\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"list-header row\\\">\\r\\n  <div class=\\\"col-md-6\\\">\\r\\n    <div *ngIf=\\\"configs.system_parameter.display_delivery_information\\\" id=\\\"config-tabs\\\">\\r\\n      <dx-tabs [dataSource]=\\\"tabs\\\" [selectedIndex]=\\\"0\\\" (onItemClick)=\\\"selectTab($event)\\\">\\r\\n\\r\\n      </dx-tabs>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-6\\\">\\r\\n    <div class=\\\"pull-right button-panel\\\">\\r\\n      <!-- <dx-button *ngIf=\\\"isOpenConvertEfyId\\\" id=\\\"convert\\\" (click)=\\\"convertEfyId()\\\" icon=\\\"assets\\\\img\\\\icons\\\\Sua.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.convert_login_by_efy_id' | translate }}\\\" type=\\\"default\\\" ></dx-button> -->\\r\\n      <dx-button *ngIf=\\\"isOpenConvertEfyId\\\" id=\\\"convert\\\" (click)=\\\"convertEfyId()\\\" icon=\\\"assets\\\\img\\\\icons\\\\Sua.png\\\"\\r\\n        text=\\\"{{ 'CONTROLL.BUTTON.convert_login_by_efy_id' | translate }}\\\" type=\\\"default\\\"></dx-button>\\r\\n      <dx-button id=\\\"add\\\" (click)=\\\"add()\\\" icon=\\\"{{_translate.ICONS.add}}\\\" text=\\\"{{ 'CONTROLL.BUTTON.add' | translate }}\\\"\\r\\n        type=\\\"default\\\"></dx-button>\\r\\n      <!-- <dx-button id=\\\"edit\\\" (click)=\\\"edit(null)\\\" icon=\\\"assets\\\\img\\\\icons\\\\Sua.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.edit' | translate }}\\\" type=\\\"default\\\" \\r\\n                          [disabled]=\\\"!(selectedRows.length == 1)\\\"></dx-button>\\r\\n                        <dx-button id=\\\"delete\\\" (click)=\\\"delete(null)\\\" icon=\\\"assets\\\\img\\\\icons\\\\Xoa.png\\\" text=\\\"{{ 'CONTROLL.BUTTON.delete' | translate }}\\\" type=\\\"default\\\" \\r\\n                          [disabled]=\\\"!(selectedRows.length == 1)\\\"></dx-button> -->\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Người sử dụng -->\\r\\n<div *ngIf=\\\"isUser\\\">\\r\\n  <dx-data-grid id=\\\"gridContainer\\\" [dataSource]=\\\"dataSource\\\" [(selectedRowKeys)]=\\\"selectedRows\\\" [showRowLines]=\\\"true\\\"\\r\\n    [noDataText]=\\\"noDataText\\\" [allowColumnResizing]=\\\"true\\\" [columnMinWidth]=\\\"50\\\" [wordWrapEnabled]=\\\"true\\\"\\r\\n    (onEditorPreparing)=\\\"onEditorPreparing($event)\\\">\\r\\n    <dxo-sorting mode=\\\"multiple\\\"></dxo-sorting>\\r\\n    <dxo-selection selectAllMode=\\\"page\\\" mode=\\\"multiple\\\">\\r\\n    </dxo-selection>\\r\\n    <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n\\r\\n    <dxi-column *ngIf=\\\"!isConvertEfyId\\\" dataField=\\\"username\\\" caption=\\\"{{ 'CONTROLL.LABEL.username' | translate }}\\\"\\r\\n      alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column cellTemplate=\\\"name\\\" dataField=\\\"name\\\" caption=\\\"{{ textFullName }}\\\" alignment=\\\"left\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column *ngIf=\\\"isConvertEfyId\\\" dataField=\\\"mobile\\\" caption=\\\"{{ 'CONTROLL.LABEL.phone_number' | translate }}\\\"\\r\\n      alignment=\\\"left\\\" headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column *ngIf=\\\"isConvertEfyId\\\" dataField=\\\"email\\\" caption=\\\"Email\\\" alignment=\\\"left\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"position\\\" caption=\\\"{{ 'GRID.USER.position' | translate }}\\\" alignment=\\\"left\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"department_name\\\" caption=\\\"{{ 'CONTROLL.LABEL.department' | translate }}\\\" alignment=\\\"left\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n    <!-- [calculateCellValue]=\\\"setRole\\\" -->\\r\\n    <dxi-column dataField=\\\"roles_name\\\" caption=\\\"{{ 'GRID.USER.roles' | translate }}\\\" alignment=\\\"left\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"status\\\" caption=\\\"{{ 'GRID.GENERAL.status' | translate }}\\\" alignment=\\\"center\\\" [width]=\\\"180\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n      <dxo-lookup [dataSource]=\\\"statusFilter\\\" valueExpr=\\\"value\\\" displayExpr=\\\"text\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <dxi-column cellTemplate=\\\"actionIcon\\\" minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\"\\r\\n      width=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n\\r\\n    <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n      <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n    </div>\\r\\n    <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"edit(d.data)\\\"\\r\\n        href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"delete(d.data)\\\"\\r\\n        href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n    </div>\\r\\n    <div *dxTemplate=\\\"let d of 'name'\\\">\\r\\n      <p>{{ d.data.name }}</p>\\r\\n      <p *ngIf=\\\"!d.data.efy_id_user && isConvertEfyId\\\" style=\\\"color: red\\\">({{_translate.TEXT.chua_ket_noi_efyid}})</p>\\r\\n    </div>\\r\\n    <dxo-remote-operations [sorting]=\\\"true\\\" [filtering]=\\\"true\\\">\\r\\n    </dxo-remote-operations>\\r\\n    <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n    <dxo-pager [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[15, 50, 100]\\\" [showNavigationButtons]=\\\"true\\\"\\r\\n      [showInfo]=\\\"true\\\" infoText=\\\"{{ _translate.DXO_PAGER.page}}\\\">\\r\\n    </dxo-pager>\\r\\n  </dx-data-grid>\\r\\n</div>\\r\\n<!-- Nhóm quyền -->\\r\\n<div *ngIf=\\\"isPermissions\\\">\\r\\n  <dx-data-grid id=\\\"gridContainer\\\" [dataSource]=\\\"dataSourcePermission\\\" [(selectedRowKeys)]=\\\"selectedRowsPermission\\\"\\r\\n    [showRowLines]=\\\"true\\\" [noDataText]=\\\"noDataText\\\" [allowColumnResizing]=\\\"true\\\" [columnMinWidth]=\\\"50\\\"\\r\\n    [columnAutoWidth]=\\\"true\\\" [wordWrapEnabled]=\\\"true\\\">\\r\\n    <dxo-sorting mode=\\\"multiple\\\"></dxo-sorting>\\r\\n    <dxo-selection selectAllMode=\\\"page\\\" mode=\\\"multiple\\\">\\r\\n    </dxo-selection>\\r\\n    <dxo-load-panel [enabled]=\\\"true\\\"></dxo-load-panel>\\r\\n    <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n    <dxi-column dataField=\\\"order\\\" alignment=\\\"center\\\" sortOrder=\\\"asc\\\" [visible]=\\\"false\\\"></dxi-column>\\r\\n    <dxi-column dataField=\\\"code\\\" caption=\\\"{{_translate.GRID.GENERAL.code_group_permission}}\\\" alignment=\\\"left\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\" [width]=\\\"250\\\"></dxi-column>\\r\\n    <dxi-column dataField=\\\"name\\\" caption=\\\"{{_translate.GRID.GENERAL.name_group_permission}}\\\" alignment=\\\"left\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n    <dxi-column dataField=\\\"status\\\" caption=\\\"{{_translate.GRID.GENERAL.status}}\\\" alignment=\\\"center\\\" [width]=\\\"180\\\"\\r\\n      headerCellTemplate=\\\"titleHeaderTemplate\\\">\\r\\n      <dxo-lookup [dataSource]=\\\"statusFilter\\\" valueExpr=\\\"value\\\" displayExpr=\\\"text\\\"></dxo-lookup>\\r\\n    </dxi-column>\\r\\n    <dxi-column cellTemplate=\\\"actionIcon\\\" minWidth=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\"\\r\\n      width=\\\"{{_translate.GRID_WIDTH.hanh_dong_2}}\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n    <div *dxTemplate=\\\"let info of 'titleHeaderTemplate'\\\">\\r\\n      <p><i class=\\\"fa fa-sort icon-dx-sort\\\"></i> {{info.column.caption}} </p>\\r\\n    </div>\\r\\n    <div *dxTemplate=\\\"let d of 'actionIcon'\\\">\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.edit}}\\\" class=\\\"suaIcon actionIcon\\\" (click)=\\\"edit(d.data)\\\"\\r\\n        href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n      <a title=\\\"{{_translate.CONTROLL.BUTTON.delete}}\\\" class=\\\"xoaIcon actionIcon\\\" (click)=\\\"delete(d.data)\\\"\\r\\n        href=\\\"javascript:void(0)\\\">\\r\\n      </a>\\r\\n    </div>\\r\\n    <dxo-remote-operations [sorting]=\\\"true\\\" [filtering]=\\\"true\\\" [paging]=\\\"true\\\">\\r\\n    </dxo-remote-operations>\\r\\n    <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n    <dxo-pager [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[15, 50, 100]\\\" [showNavigationButtons]=\\\"true\\\"\\r\\n      [showInfo]=\\\"true\\\" infoText=\\\"{{ _translate.DXO_PAGER.page}}\\\">\\r\\n    </dxo-pager>\\r\\n  </dx-data-grid>\\r\\n</div>\"","module.exports = \"::ng-deep .notify-modal{max-width:55%}#config-tabs{width:100%;border-bottom:1px solid #ddd}#config-tabs .dx-tabs{width:50%;border-bottom:0}::ng-deep #config-tabs .dx-tab{padding:3px}\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { User, UsersService } from '@modules/users/shared';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { AddComponent } from '../add/add.component';\r\nimport { Library, AuthService, VStringService } from '@core/index';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ListsService } from '@modules/lists/shared';\r\nimport { NotifyEfyComponent } from '@shared/index';\r\nimport { VSelectBoxService } from '@core/library/public/v-select-box.service';\r\nimport { PermissionComponent } from '../permission/permission.component';\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.scss']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n  @ViewChild(DxDataGridComponent) dataGrid: DxDataGridComponent;\r\n  dataSource: any = {};\r\n  dataSourcePermission: any = {};\r\n  selectedRows = [];\r\n  selectedRowsPermission = [];\r\n  noDataText = 'Chưa có người dùng nào';\r\n  bsModalRef: BsModalRef;\r\n  statusFilter: any;\r\n  _translate: any;\r\n  role_branch: boolean;\r\n  isConvertEfyId: boolean = false;\r\n  //// Biến để ẩn hiện nút chuyển đổi efy-id\r\n  isUserConverted: boolean = false;\r\n  idLists = 'AEFB016C-23BF-4A5D-AEF9-28C72427551B';\r\n  listRoleBranchOrigin: Array<any>;\r\n  bsModalSignRef: BsModalRef;\r\n  currentUser: any;\r\n  textFullName: any;\r\n  tabs = [];\r\n  isUser = true;\r\n  isPermissions = false;\r\n  listtypes: any;\r\n  listtypeId: any;\r\n  configs: any;\r\n  permissionByListType: any;\r\n  isOpenConvertEfyId: boolean = false;\r\n  constructor(\r\n    private authService: AuthService,\r\n    private usersService: UsersService,\r\n    private modalService: BsModalService,\r\n    public translate: TranslateService,\r\n    private listService: ListsService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n    this.statusFilter = [{\r\n      text: this._translate.GRID.GENERAL.active,\r\n      value: 'HOAT_DONG'\r\n    }, {\r\n      text: this._translate.GRID.GENERAL.inactive,\r\n      value: 'KHONG_HOAT_DONG'\r\n    }];\r\n    this.tabs = VSelectBoxService.tabUser(this._translate);\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.configs = this.authService.getConfigs();\r\n    this.loadList();\r\n    this.getListtypes();\r\n    this.role_branch = this.listService.getDataConfigLocalStorage();\r\n    this.currentUser = this.authService.getCurrentUser();\r\n    this.textFullName = this._translate.MENU.user;\r\n    if (this.currentUser && this.currentUser.account) {\r\n      if (this.currentUser.account.connect_efy_id) {\r\n        this.isConvertEfyId = true;\r\n        this.textFullName = this._translate.CONTROLL.LABEL.fullname;\r\n      }\r\n      else\r\n        this.isOpenConvertEfyId = true;\r\n    }\r\n    // this.listService.getDM().subscribe(value => console.log(value)) ;\r\n  }\r\n\r\n  loadList() {\r\n    this.dataSource.store = this.usersService.getAll();\r\n  }\r\n  loadListPermission() {\r\n    let params = `filter_groups[0][filters][0][key]=listtype_id&filter_groups[0][filters][0][value]=${this.listtypeId}&filter_groups[0][filters][0][operator]=eq`;\r\n    this.dataSourcePermission.store = this.listService.getAll(params);\r\n  }\r\n  async getListRole() {\r\n    let arrList: any;\r\n    arrList = await this.usersService.getRoles().then(value => {\r\n      if (value.status === 'success') {\r\n        return value.data.DM_NHOM_QUYEN;\r\n      }\r\n      else\r\n        return [];\r\n    });\r\n    return arrList;\r\n  }\r\n  async add() {\r\n    /* Người sử dụng */\r\n    if (this.isUser) {\r\n      this.listRoleBranchOrigin = [];\r\n      if (this.role_branch) {\r\n        this.listRoleBranchOrigin = await this.listService.handleListRoleBranchUser();\r\n      }\r\n      this.permissionByListType = await this.getListRole();\r\n      const initialState = {\r\n        totalCount: this.dataGrid.instance.totalCount(),\r\n        role_branch: this.role_branch,\r\n        roleBranchStatus: this.listRoleBranchOrigin,\r\n        permissionByListType: this.permissionByListType\r\n      };\r\n      this.bsModalRef = this.modalService.show(AddComponent, {\r\n        class: 'modal-lg full-modal', initialState, backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n      this.modalService.onHide.subscribe(() => {\r\n        if (this.bsModalRef.content.successSaveItem) {\r\n          // this.dataGrid.instance.refresh();\r\n          this.dataSource = {};\r\n          this.loadList();\r\n        }\r\n      });\r\n    }\r\n    /* Phân quyền */\r\n    else {\r\n      const initialState = {\r\n        totalCount: this.dataGrid.instance.totalCount(),\r\n        listtypeId: this.listtypeId,\r\n        listtypes: this.listtypes\r\n      };\r\n      this.bsModalRef = this.modalService.show(PermissionComponent, {\r\n        class: 'modal-lg full-modal', initialState, backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n      this.modalService.onHide.subscribe(() => {\r\n        if (this.bsModalRef.content.successSaveItem) {\r\n          //this.dataGrid.instance.refresh();\r\n          this.dataSourcePermission = {};\r\n          this.loadListPermission();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  getListtypes() {\r\n    this.listService.getAllListtype().subscribe(res => {\r\n      this.listtypes = res.data.listtypes;\r\n      if (this.listtypes) {\r\n        let types = this.listtypes.filter(p => p.code == \"DM_NHOM_QUYEN\")[0];\r\n        if (types) {\r\n          this.listtypeId = types.id;\r\n          this.loadListPermission();\r\n        }\r\n      }\r\n    });\r\n  }\r\n  async edit(data) {\r\n    /* Người sử dụng */\r\n    if (this.isUser) {\r\n      const id = data ? data.id : (this.selectedRows[0].length === 0 ? '' : this.selectedRows[0]);\r\n      if (!id) {\r\n        Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n        return;\r\n      } else {\r\n        if (this.role_branch) {\r\n          this.listRoleBranchOrigin = await this.listService.handleListRoleBranchUser();\r\n        }\r\n        this.permissionByListType = await this.getListRole();\r\n        const initialState = {\r\n          id: id,\r\n          role_branch: this.role_branch,\r\n          roleBranchStatus: this.listRoleBranchOrigin,\r\n          permissionByListType: this.permissionByListType\r\n        };\r\n        this.bsModalRef = this.modalService.show(AddComponent, {\r\n          class: 'modal-lg full-modal', initialState, backdrop: 'static',\r\n          keyboard: false\r\n        });\r\n        this.modalService.onHide.subscribe(() => {\r\n          if (this.bsModalRef.content.successSaveItem) {\r\n            this.dataSource = {};\r\n            this.loadList();\r\n          }\r\n        });\r\n      }\r\n    }\r\n    /* Phân quyền */\r\n    else {\r\n      const id = data ? data.id : (this.selectedRowsPermission[0].length === 0 ? '' : this.selectedRowsPermission[0]);\r\n      if (!id) {\r\n        Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n        return;\r\n      } else {\r\n        const initialState = {\r\n          id: id,\r\n          listtypeId: this.listtypeId,\r\n          listtypes: this.listtypes\r\n        };\r\n        this.bsModalRef = this.modalService.show(PermissionComponent, {\r\n          class: 'modal-lg full-modal', initialState, backdrop: 'static',\r\n          keyboard: false\r\n        });\r\n        this.modalService.onHide.subscribe(() => {\r\n          if (this.bsModalRef.content.successSaveItem) {\r\n            this.dataSourcePermission = {};\r\n            this.loadListPermission();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  delete(data) {\r\n    /* Người sử dụng */\r\n    if (this.isUser) {\r\n      let id = data ? data.id : (this.selectedRows[0].length == 0 ? '' : this.selectedRows[0]);\r\n      if (!id) {\r\n        Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n        return;\r\n      } else if (!data && this.selectedRows.length > 1) {\r\n        Library.notify(this._translate.NOTIFY.select_only_one, 'error');\r\n      } else {\r\n        var result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n        if (result) {\r\n          result.then((dialogResult) => {\r\n            if (dialogResult) {\r\n              this.usersService.delete(id).subscribe((response: any) => {\r\n                if (response.status === 'success') {\r\n                  Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                  this.dataSource = {};\r\n                  this.loadList();\r\n                } else {\r\n                  Library.notify(response.message, 'error');\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n    /* Phân quyền */\r\n    else {\r\n      let id = data ? data.id : (this.selectedRowsPermission[0].length == 0 ? '' : this.selectedRowsPermission[0]);\r\n      if (!id) {\r\n        Library.notify(this._translate.NOTIFY.select_object, 'error');\r\n        return;\r\n      } else if (!data && this.selectedRows.length > 1) {\r\n        Library.notify(this._translate.NOTIFY.select_only_one, 'error');\r\n        return;\r\n      } else {\r\n        if (data.code == \"KE_TOAN_VIEN\" || data.code == \"KE_TOAN_TRUONG\" || data.code == \"PHE_DUYET\" || data.code == \"QUAN_TRI_HE_THONG\") {\r\n          Library.notify(this._translate.NOTIFY.you_may_not_remove_this_permission, 'error');\r\n          return;\r\n        }\r\n        var result = Library.confirm(this._translate.CONFIRM.delete, this._translate.NOTIFY.notify);\r\n        if (result) {\r\n          result.then((dialogResult) => {\r\n            if (dialogResult) {\r\n              this.listService.delete(id).subscribe((response: any) => {\r\n                if (response.status === \"success\") {\r\n                  Library.notify(this._translate.NOTIFY.delete_success, 'success');\r\n                  this.dataSourcePermission = {};\r\n                  this.loadListPermission();\r\n                } else {\r\n                  Library.notify(response.message, 'error');\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setRole(data) {\r\n    let rolesDisplay = '';\r\n    let roles;\r\n    if (data.roles) {\r\n      roles = data.roles.split(',');\r\n      rolesDisplay += roles.includes('KE_TOAN_VIEN') ? 'Kế toán viên, ' : '';\r\n      rolesDisplay += roles.includes('KE_TOAN_TRUONG') ? 'Kế toán trưởng, ' : '';\r\n      rolesDisplay += roles.includes('PHE_DUYET') ? 'Phê duyệt, ' : '';\r\n      rolesDisplay += roles.includes('QUAN_TRI_HE_THONG') ? 'Quản trị hệ thống, ' : '';\r\n    }\r\n    rolesDisplay = rolesDisplay.slice(0, -2);\r\n    return rolesDisplay;\r\n  }\r\n  convertEfyId() {\r\n    this.bsModalSignRef = this.modalService.show(NotifyEfyComponent, {\r\n      backdrop: 'static',\r\n      keyboard: false,\r\n      class: 'notify-modal',\r\n    });\r\n    const subModal = this.modalService.onHide.subscribe(() => {\r\n      if (this.bsModalSignRef.content.successSaveItem) {\r\n        subModal.unsubscribe();\r\n      }\r\n    });\r\n  }\r\n  onEditorPreparing(e) {\r\n    if (e.dataField === 'name' && e.parentType == \"dataRow\") {\r\n      e.editorName = 'dxTextArea';\r\n    }\r\n  }\r\n  selectTab(e) {\r\n    const tab = e.itemData.code;\r\n    switch (tab) {\r\n      case 'NGUOISUDUNG':\r\n        this.isUser = true;\r\n        this.isPermissions = false;\r\n        break;\r\n      case 'NHOMQUYEN':\r\n        this.isPermissions = true;\r\n        this.isUser = false;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<form (submit)=\\\"onSubmit($event)\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n      <h4 class=\\\"modal-title pull-left\\\">{{_translate.CONTROLL.LABEL.update }} {{_translate.MENU.permission }}</h4>\\r\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n      <dx-form id=\\\"form\\\"\\r\\n               [formData]=\\\"list\\\"\\r\\n               validationGroup=\\\"listData\\\"\\r\\n               [showColonAfterLabel]=\\\"false\\\">\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item dataField=\\\"code\\\" [editorOptions]=\\\"{ disabled: disUserName }\\\">\\r\\n            <dxo-label text=\\\"{{_translate.GRID.GENERAL.code_group_permission}}\\\"></dxo-label>\\r\\n            <dxi-validation-rule\\r\\n              type=\\\"required\\\"\\r\\n              message=\\\"{{_translate.GRID.GENERAL.code_group_permission}} {{_translate.VALIDATION.required }}\\\">\\r\\n            </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item dataField=\\\"name\\\">\\r\\n            <dxo-label text=\\\"{{_translate.GRID.GENERAL.name_group_permission}}\\\"></dxo-label>\\r\\n            <dxi-validation-rule\\r\\n              type=\\\"required\\\"\\r\\n              message=\\\"{{_translate.GRID.GENERAL.name_group_permission}} {{_translate.VALIDATION.required }}\\\">\\r\\n            </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item [label]=\\\"{text: ' '}\\\" dataField=\\\"status\\\" editorType=\\\"dxCheckBox\\\" [editorOptions]=\\\"{\\r\\n            text: _translate.GRID.GENERAL.active}\\\">\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n      </dx-form>\\r\\n      <div class=\\\"content-configs\\\">\\r\\n        <div style=\\\"width: 100%; height: 300px; overflow-y: scroll;\\\" class=\\\"role-box\\\">\\r\\n          <dx-tree-list\\r\\n              #listpermis\\r\\n              id=\\\"listpermissions\\\"\\r\\n              [dataSource]=\\\"listpermissions\\\"\\r\\n              keyExpr=\\\"id\\\"\\r\\n              parentIdExpr=\\\"parent_id\\\"\\r\\n              [autoExpandAll]=\\\"true\\\"\\r\\n              [showRowLines]=\\\"false\\\"\\r\\n              [columnAutoWidth]=\\\"true\\\"\\r\\n              [wordWrapEnabled]=\\\"true\\\"\\r\\n              [showColumnHeaders]=\\\"false\\\"\\r\\n              (onSelectionChanged)=\\\"onItemSelectionChanged($event)\\\"\\r\\n              [(selectedRowKeys)]=\\\"selectedRowKeys\\\"\\r\\n              (onCellPrepared)=\\\"onCellPrepared($event)\\\">\\r\\n            <dxo-selection mode=\\\"multiple\\\" [recursive]=\\\"recursiveSelectionEnabled\\\">\\r\\n            </dxo-selection>\\r\\n            <dxi-column dataField=\\\"name\\\"></dxi-column>\\r\\n          </dx-tree-list>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n      <div class=\\\"custom-control custom-checkbox custom-control-inline\\\" style=\\\"width: 82%\\\">\\r\\n        <input type=\\\"checkbox\\\" [checked]=\\\"changePermission\\\"\\r\\n              (change)=\\\"checkboxChangePermission($event)\\\"\\r\\n               class=\\\"custom-control-input\\\" id=\\\"customRadio212\\\" name=\\\"changePermission\\\"\\r\\n               value=\\\"changePermission\\\">\\r\\n        <label class=\\\"custom-control-label\\\"\\r\\n               for=\\\"customRadio212\\\">{{_translate.CONTROLL.LABEL.change_permisstion}}</label>\\r\\n      </div>\\r\\n      <dx-button\\r\\n        text=\\\"{{_translate.CONTROLL.BUTTON.save }}\\\"\\r\\n        type=\\\"default\\\"\\r\\n        validationGroup=\\\"userData\\\"\\r\\n        [useSubmitBehavior]=\\\"true\\\">\\r\\n      </dx-button>\\r\\n      <dx-button text=\\\"{{_translate.CONTROLL.BUTTON.come_back }}\\\" type=\\\"default\\\" icon=\\\"{{_translate.ICONS.come_back }}\\\"\\r\\n                 (click)=\\\"bsModalRef.hide()\\\">\\r\\n      </dx-button>\\r\\n    </div>\\r\\n  </form>\\r\\n  \"","module.exports = \".modal-title{font-size:18px;font-weight:600;text-transform:uppercase}.role-box{margin-top:10px;border:1px solid #d7d7d7}.content-configs{padding:20px 15px 60px 15px;width:100%}.custom-control-label{margin-top:4px}::ng-deep .content-configs .dx-item .dx-field-item-label-content{text-align:left}::ng-deep .content-configs .dx-item .dx-texteditor{width:400px}::ng-deep .content-configs #emailConfig .dx-texteditor{width:100%}::ng-deep .content-configs #emailConfig .width-50{width:50%}::ng-deep .content-configs .dx-item .dx-checkbox-text{padding-left:30px}::ng-deep .content-configs .ky-ke-khai .dx-field-item-label-content{width:100px !important}.content-configs .form-footer{float:right;margin-right:50px;padding-top:40px}::ng-deep .content-configs #configCRM .is-integrate{margin-bottom:15px}::ng-deep .content-configs #configCRM .user-password .dx-form-group-content{padding:0;margin:0}::ng-deep .content-configs #configCRM .input-long .dx-texteditor{width:82.2%}::ng-deep .content-configs #configCRM .user-password .dx-texteditor{width:60%}.icon-size{font-size:23px !important}#config-tabs{width:69%;border-bottom:1px solid #ddd}#config-tabs .dx-tabs{width:50%;border-bottom:0}.slabel{font-style:italic;margin-left:111px;margin-top:5px}.slabel .label1{margin-bottom:3px}\\n\"","import { Component, OnInit, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { User, UsersService } from '@modules/users/shared';\r\nimport { DxFormComponent, DxTreeListComponent } from 'devextreme-angular';\r\nimport { Library, AuthService, VSelectBoxService, VStringService } from '@core/index';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TemplateService } from '@modules/template/shared';\r\nimport { NotifyService } from '@modules/release-notify/shared';\r\nimport { DropdownCheckboxComponent } from '@shared/components/dropdown-checkbox/dropdown-checkbox.component';\r\nimport { RegisterService } from '@modules/auth/shared';\r\nimport { List, ListsService } from '@modules/lists/shared';\r\n@Component({\r\n  selector: 'app-permission',\r\n  templateUrl: './permission.component.html',\r\n  styleUrls: ['./permission.component.scss']\r\n})\r\nexport class PermissionComponent implements OnInit {\r\n  @ViewChild(DxFormComponent) form: DxFormComponent;\r\n  // @ViewChild(DxTreeListComponent) treeList: DxTreeListComponent;\r\n  @ViewChild('listpermis') treeList: DxTreeListComponent;\r\n  @ViewChild('listTempt') treeListTempt: DxTreeListComponent;\r\n  @ViewChild('dropdownCheckboxComponent') dropdownCheckboxComponent: DropdownCheckboxComponent;\r\n\r\n  // form validate\r\n  user: any;\r\n  id: any;\r\n  password = '';\r\n  changePermission: boolean;\r\n  passwordOptions: any = {\r\n    mode: 'password',\r\n    value: this.password\r\n  };\r\n  namePattern: any = /^[^0-9]+$/;\r\n  passwordPattern: any = /^.{6,}$/;\r\n  emailPattern: any = /^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/;\r\n  userNamePattern: any = /^[a-zA-Z0-9_]{6,50}$/;\r\n  phonePattern: any = /^(\\(?\\+?[0-9]*\\)?)?[0-9_\\- \\(\\)]*$/;\r\n  isValidate = true;\r\n  order: number;\r\n  totalCount: any;\r\n  disUserName = false;\r\n  optionsPermissions: any;\r\n  // treelist\r\n  selectedRowKeys: any[] = [];\r\n  selectedRowKeysTempt: any[] = [];\r\n  recursiveSelectionEnabled = true;\r\n  recursiveSelectionEnabledTempt = true;\r\n  roles: string;\r\n  permissions: string;\r\n  successSaveItem: any;\r\n  disableTemptlate = true;\r\n  // quyền\r\n  listpermissions: any;\r\n  roleGroups = {\r\n    KE_TOAN_VIEN: false,\r\n    KE_TOAN_TRUONG: false,\r\n    PHE_DUYET: false,\r\n    QUAN_TRI_HE_THONG: false\r\n  };\r\n  checkKTV = false;\r\n  checkKTT = false;\r\n  checkPD = false;\r\n  checkQTHT = false;\r\n  _translate: any;\r\n  isConfigAction = true;\r\n  isConfigTemplate = false;\r\n  listTemplate: any;\r\n  listTemplateTBThue: any[] = [];\r\n  tabs = [];\r\n  priority: any;\r\n  role_branch = false;\r\n  roleBranchStatus: Array<any>;\r\n  textTabs: string;\r\n  lbl: any = {};\r\n  isConnectEfyId = false;\r\n  isUserConverted = false;\r\n  currentUser: any;\r\n  disableEmail = false;\r\n  list: any;\r\n  listtypes: any;\r\n  listtypeId: any;\r\n  json_data = {};\r\n  passwordComparison = () => {\r\n    return this.form.instance.option('formData').password;\r\n  };\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public bsModalRef: BsModalRef,\r\n    private usersService: UsersService,\r\n    private modalService: BsModalService,\r\n    private ref: ChangeDetectorRef,\r\n    public translate: TranslateService,\r\n    private templateService: TemplateService,\r\n    private notifyService: NotifyService,\r\n    private registerService: RegisterService,\r\n    private listsService: ListsService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n    this.tabs = VSelectBoxService._tabPermissionUser(this._translate);\r\n    this.textTabs = this.tabs[0].code;\r\n    this.optionsPermissions = [\r\n      { name: 'Được sử dụng tất cả mẫu hóa đơn', code: '1' },\r\n      { name: 'Theo từng mẫu hóa đơn', code: '0' }\r\n    ];\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.getPermissions();\r\n    this.currentUser = this.authService.getCurrentUser();\r\n    if (this.currentUser && this.currentUser.account) {\r\n      if (this.currentUser.account.connect_efy_id == \"1\")\r\n        this.isConnectEfyId = true;\r\n    }\r\n    this.getList();\r\n    if (this.id) {\r\n      this.isValidate = false;\r\n      this.disUserName = true;\r\n    }\r\n    this.lbl = {\r\n      label1: this._translate.CONTROLL.LABEL.user_will_use_efy_id_login + ' ' + this._translate.CONTROLL.LABEL.learn_more_about_efy_id,\r\n      label2: this._translate.CONTROLL.LABEL.system_auto_email,\r\n    };\r\n  }\r\n\r\n  getList() {\r\n    if (this.id) { // nếu là edit\r\n      Library.showloading();\r\n     // this.changePermission = true;\r\n      this.usersService.getPermissions().subscribe(response => {\r\n        this.listpermissions = response.data.permissions;\r\n        this.listsService.getList(this.id, \"1\").subscribe(response => {\r\n          this.list = response.data.list;\r\n          if (this.list.status && this.list.status === \"HOAT_DONG\") {\r\n            this.list.status = true;\r\n          } else if (this.list.status && this.list.status === \"KHONG_HOAT_DONG\") {\r\n            this.list.status = false;\r\n          }\r\n          if (this.list.json_data) {\r\n           this.changePermission = this.list.json_data.change_permission;\r\n            // for (const key in this.list.json_data) {\r\n            //   if (this.list.json_data.hasOwnProperty(key)) {\r\n            //     const value = this.list.json_data[key];\r\n            //     this.list[key] = value;\r\n            //   }\r\n            // }\r\n          }\r\n          if (this.list.note) {\r\n            const permissions = this.list.note.split(',');\r\n            this.listpermissions.forEach(item => {\r\n              if (permissions.includes(item.code) && !this.treeList.instance.isRowSelected(item.id)) {\r\n                this.selectedRowKeys.push(item.id);\r\n              }\r\n            });\r\n          }\r\n          Library.hideloading();\r\n        });\r\n      });\r\n    } else {\r\n      this.usersService.getPermissions().subscribe(response => {\r\n        this.listpermissions = response.data.permissions;\r\n        this.list = new List();\r\n        this.list.order = this.totalCount + 1;\r\n      });\r\n    }\r\n  }\r\n  onCellPrepared(e) {\r\n    console.log(e);\r\n    \r\n    if (e.rowType == \"data\") {\r\n      \r\n    }\r\n  }\r\n  // xử lý chọn quyền\r\n  ketoanvien(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.KE_TOAN_VIEN = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('KE_TOAN_VIEN');\r\n      }\r\n    } else {\r\n      this.roleGroups.KE_TOAN_VIEN = false;\r\n      this.unselectRoleGroup('KE_TOAN_VIEN');\r\n    }\r\n  }\r\n\r\n  ketoantruong(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.KE_TOAN_TRUONG = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('KE_TOAN_TRUONG');\r\n      }\r\n    } else {\r\n      this.roleGroups.KE_TOAN_TRUONG = false;\r\n      this.unselectRoleGroup('KE_TOAN_TRUONG');\r\n    }\r\n  }\r\n\r\n  getSelectedItemsKeys(items) {\r\n    let result = [];\r\n    const that = this;\r\n    items.forEach(function (item) {\r\n      if (item.selected) {\r\n        result.push(item.key);\r\n      }\r\n      if (item.items.length) {\r\n        result = result.concat(that.getSelectedItemsKeys(item.items));\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n\r\n  pheduyet(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.PHE_DUYET = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('PHE_DUYET');\r\n      }\r\n    } else {\r\n      this.roleGroups.PHE_DUYET = false;\r\n      this.unselectRoleGroup('PHE_DUYET');\r\n    }\r\n  }\r\n\r\n  quantrihethong(e) {\r\n    if (e.value === true) {\r\n      this.roleGroups.QUAN_TRI_HE_THONG = true;\r\n      if (e.event && e.event.type === 'dxclick') {\r\n        this.selectRoleGroup('QUAN_TRI_HE_THONG');\r\n      }\r\n    } else {\r\n      this.roleGroups.QUAN_TRI_HE_THONG = false;\r\n      this.unselectRoleGroup('QUAN_TRI_HE_THONG');\r\n    }\r\n  }\r\n\r\n  selectRoleGroup(roleName: string) {\r\n    this.listpermissions.forEach(item => {\r\n      if (item.roles.includes(roleName) && !this.treeList.instance.isRowSelected(item.id)) {\r\n        this.treeList.instance.selectRows(item.id, false);\r\n      }\r\n    });\r\n  }\r\n\r\n  unselectRoleGroup(roleName: string) {\r\n    const permissions = [];\r\n    this.listpermissions.forEach(item => {\r\n      if (item.roles.includes(roleName)) {\r\n        permissions.push(item.id);\r\n      }\r\n    });\r\n    this.treeList.instance.deselectRows(permissions);\r\n  }\r\n  // xử lý submit\r\n  onSubmit(e) {\r\n    Library.showloading();\r\n    if (this.list.status) {\r\n      this.list.status = \"HOAT_DONG\";\r\n    } else {\r\n      this.list.status = \"KHONG_HOAT_DONG\";\r\n    }\r\n    this.list.listtype_id = this.listtypeId;\r\n    this.list.note = this.permissions;\r\n    if(VStringService._getValueToString(this.list.note)==\"\")\r\n    {\r\n      Library.notify(this._translate.NOTIFY.you_choose_at_least_one, 'error');\r\n      return;\r\n    }\r\n    this.listtypes.forEach(listtype => {\r\n      if (this.listtypeId == listtype.id && listtype.json_data) {\r\n        listtype.json_data.forEach(item => {\r\n          for (const key in this.list) {\r\n            if (item.code == key) {\r\n              this.json_data[key] = this.list[key];\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    this.list.json_data = this.json_data;\r\n    this.list.json_data.change_permission = this.changePermission;\r\n    //let data = {list: this.list};\r\n    let data = JSON.parse(JSON.stringify({ list: this.list }));\r\n    for (const key in data.list.json_data) {\r\n      if (data.list.json_data[key] == data.list[key]) {\r\n        delete data.list[key];\r\n      }\r\n    }\r\n    if (!this.list.id) {\r\n      this.listsService.add(data).subscribe((response: any) => {\r\n        if (response.status == \"success\") {\r\n          this.bsModalRef.content.successSaveItem = \"success\";\r\n          Library.notify(this._translate.NOTIFY.add_success, \"success\");\r\n            this.bsModalRef.content.successSaveData = this.list;\r\n            this.bsModalRef.hide();\r\n        } else {\r\n          Library.notify(response.message, \"error\");\r\n        }\r\n      }, err => { }, () => {\r\n        Library.hideloading();\r\n      });\r\n    }\r\n    else {\r\n      let id = this.list.id;\r\n      this.listsService.edit(data, id).subscribe((response: any) => {\r\n        if (response.status == \"success\") {\r\n          this.bsModalRef.content.successSaveItem = \"success\";\r\n          Library.notify(this._translate.NOTIFY.update_success, \"success\");\r\n          this.bsModalRef.hide();\r\n        } else {\r\n          Library.notify(response.message, \"error\");\r\n        }\r\n      }, err => { }, () => {\r\n        Library.hideloading();\r\n      });\r\n    }\r\n  }\r\n\r\n  onItemSelectionChanged(e) {\r\n      this.permissions = '';\r\n      const selectedKey = this.treeList.instance.getSelectedRowKeys('all');\r\n      for (const role of selectedKey) {\r\n        this.listpermissions.forEach(item => {\r\n          if (item.id === role && item.permission === true) {\r\n            this.permissions += item.code + ',';\r\n          }\r\n        });\r\n      }\r\n      this.permissions = this.permissions.slice(0, -1);\r\n  }\r\n\r\n  onValueChanged(e) {\r\n    if (e.value === '1') {\r\n      this.disableTemptlate = true;\r\n      this.user.is_use_all_template = true;\r\n    } else {\r\n      this.disableTemptlate = false;\r\n      this.user.is_use_all_template = false;\r\n    }\r\n  }\r\n\r\n  getChecklistBranch($event) {\r\n    if ($event.length > 0) {\r\n      if ($event.indexOf('TAT_CA') !== -1) {\r\n        const value = $event.filter(item => {\r\n          return item === 'TAT_CA';\r\n        });\r\n        this.user.role_branch = value.toString();\r\n      } else {\r\n        this.user.role_branch = $event.toString().replace(/,/g, ';');\r\n      }\r\n    } else {\r\n      this.user.role_branch = null;\r\n    }\r\n  }\r\n\r\n  onValueESChanged = (e) => {\r\n    if (this.isConnectEfyId)\r\n      this.checkUserEfyId(e.value);\r\n  }\r\n  checkUserEfyId(username) {\r\n    Library.showloading();\r\n    this.registerService.checkUserUseEfyId(username).subscribe(\r\n      (res: any) => {\r\n        if (res.status === 'success') {\r\n          if (res.data.user) {\r\n            this.user.name = res.data.user.name;\r\n            this.user.mobile = res.data.user.mobile;\r\n            this.user.email = res.data.user.email;\r\n          }\r\n        }\r\n        else {\r\n          this.user.name = \"\";\r\n          this.user.mobile = \"\";\r\n         // Library.notify(res.message, 'error');\r\n        }\r\n      }, error => Library.notify(error, 'error'),\r\n      () => Library.hideloading()\r\n    );\r\n  }\r\n  checkboxChangePermission($event)\r\n  {\r\n    if ($event.target.value === 'changePermission' && $event.target.checked === true) {\r\n      this.changePermission = $event.target.checked;\r\n    } else {\r\n      this.changePermission = false;\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {IndexComponent} from './components/index/index.component';\r\nimport {DxTreeListModule} from 'devextreme-angular';\r\nimport {TemplateService} from '@modules/template/shared';\r\n//library\r\nimport {devextremeModule} from '@core/index';\r\n\r\n//general\r\nimport {routing} from './users.routing';\r\nimport {SharedModule} from '@shared/index';\r\nimport {UsersService} from './shared';\r\nimport {AddComponent} from './components/add/add.component';\r\nimport {vTranslateModule} from '@core/module/v-translate.module';\r\nimport {NotifyService} from '@modules/release-notify/shared';\r\nimport {ListsService} from '@modules/lists/shared';\r\nimport { NotifyEfyComponent } from '@shared/index';\r\nimport { RegisterService } from '@modules/auth/shared';\r\nimport { PermissionComponent } from './components/permission/permission.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    routing,\r\n    devextremeModule,\r\n    DxTreeListModule,\r\n    SharedModule,\r\n    vTranslateModule\r\n  ],\r\n  declarations: [\r\n    IndexComponent,\r\n    AddComponent,\r\n    PermissionComponent\r\n  ],\r\n  entryComponents: [\r\n    AddComponent,\r\n    NotifyEfyComponent,\r\n    PermissionComponent\r\n  ],\r\n  providers: [\r\n    UsersService,\r\n    TemplateService,\r\n    NotifyService,\r\n    ListsService,\r\n    RegisterService\r\n  ]\r\n})\r\nexport class UsersModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IndexComponent } from './components/index/index.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: IndexComponent},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class routing {}\r\n"],"sourceRoot":""}