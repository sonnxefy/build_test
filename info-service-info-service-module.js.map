{"version":3,"sources":["webpack:///./src/app/modules/info-service/components/index/index.component.html","webpack:///./src/app/modules/info-service/components/index/index.component.scss","webpack:///./src/app/modules/info-service/components/index/index.component.ts","webpack:///./src/app/modules/info-service/components/renewal/renewal.component.html","webpack:///./src/app/modules/info-service/components/renewal/renewal.component.scss","webpack:///./src/app/modules/info-service/components/renewal/renewal.component.ts","webpack:///./src/app/modules/info-service/info-service.module.ts","webpack:///./src/app/modules/info-service/info-service.routing.ts"],"names":[],"mappings":"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","file":"info-service-info-service-module.js","sourcesContent":["module.exports = \"<div class=\\\"list-header row\\\">\\r\\n  <div class=\\\"col-md-8\\\">\\r\\n    <div class=\\\"pull-left\\\">\\r\\n      <h2 style=\\\"font-weight: bold;\\\">{{ 'CONTROLL.LABEL.info_service_ihoadon' | translate }}</h2>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-4\\\">\\r\\n    <div class=\\\"pull-right button-panel\\\">\\r\\n      <dx-button (click)=\\\"giaHanDichVu()\\\" text=\\\"{{ 'CONTROLL.BUTTON.service_extension' | translate }}\\\" type=\\\"default\\\">\\r\\n      </dx-button>\\r\\n      <dx-button id=\\\"refresh\\\" (click)=\\\"refresh()\\\" icon=\\\"assets\\\\img\\\\icons\\\\Refresh-02.png\\\"></dx-button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"report-content\\\">\\r\\n  <dx-data-grid id=\\\"gridContainer\\\" [dataSource]=\\\"dataSource\\\" [showRowLines]=\\\"true\\\" [allowColumnResizing]=\\\"true\\\"\\r\\n    [columnMinWidth]=\\\"50\\\" [columnAutoWidth]=\\\"true\\\" [wordWrapEnabled]=\\\"true\\\">\\r\\n\\r\\n    <dxo-sorting mode=\\\"multiple\\\"></dxo-sorting>\\r\\n\\r\\n    <dxo-filter-row [visible]=\\\"true\\\"></dxo-filter-row>\\r\\n    <dxi-column cellTemplate=\\\"stt\\\" caption=\\\"STT\\\" width=\\\"40\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n    <dxi-column dataField=\\\"package_code\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.service_package' | translate }}\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column cellTemplate=\\\"month_regulation\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.used_time' | translate }}\\\"\\r\\n      alignment=\\\"center\\\" [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n    <div *dxTemplate=\\\"let d of 'month_regulation'\\\" style=\\\"cursor: pointer;\\\">\\r\\n      <span *ngIf=\\\"d.data.month_regulation && d.data.month_regulation != '0'\\\">{{ d.data.month_regulation }} tháng</span>\\r\\n    </div>\\r\\n    <dxi-column dataField=\\\"amount\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.amount_exported' | translate }}\\\" alignment=\\\"center\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"used_amount\\\" caption=\\\"{{ 'GRID.RELEASE_NOTIFY.used' | translate }}\\\" alignment=\\\"center\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\"></dxi-column> +\\r\\n\\r\\n    <dxi-column dataField=\\\"registration_date\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.registration_date' | translate }}\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" dataType=\\\"date\\\" format=\\\"dd/MM/yyyy\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"activation_date\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.activation_date' | translate }}\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" dataType=\\\"date\\\" format=\\\"dd/MM/yyyy\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"expiration_date\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.expiration_date' | translate }}\\\"\\r\\n      [filterOperations]=\\\"['contains', '=']\\\" dataType=\\\"date\\\" format=\\\"dd/MM/yyyy\\\" alignment=\\\"center\\\"></dxi-column>\\r\\n\\r\\n    <dxi-column cellTemplate=\\\"contract\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.electronic_contract' | translate }}\\\"\\r\\n      alignment=\\\"center\\\" [width]=\\\"140\\\">\\r\\n    </dxi-column>\\r\\n\\r\\n    <dxi-column dataField=\\\"hoadon\\\" caption=\\\"{{ 'GRID.SERVICE_PACKAGE.e_invoice' | translate }}\\\" alignment=\\\"center\\\">\\r\\n    </dxi-column>\\r\\n\\r\\n    <div *dxTemplate=\\\"let d of 'stt'\\\">\\r\\n      {{ d.rowIndex + 1}}\\r\\n    </div>\\r\\n\\r\\n    <div *dxTemplate=\\\"let d of 'contract'\\\" style=\\\"cursor: pointer;\\\">\\r\\n      <div *ngIf=\\\"d.data.contract_status == '1' && d.data.content_contract != '' && d.data.unsigned == '1'\\\"\\r\\n        (click)=\\\"onCellClick(d.data)\\\">\\r\\n        <img style=\\\"margin-right: 5px\\\" src=\\\"assets\\\\img\\\\icons\\\\HopDong.png\\\" />\\r\\n        <p>{{ 'CONTROLL.BUTTON.sign_contract' | translate }}</p>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"d.data.contract_status == '2' && d.data.content_contract != ''\\\" (click)=\\\"onCellClick(d.data)\\\">\\r\\n        <img style=\\\"margin-right: 5px\\\" src=\\\"assets\\\\img\\\\icons\\\\HopDong.png\\\" />\\r\\n        <p>{{ 'CONTROLL.BUTTON.signed' | translate }}</p>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <dxo-remote-operations [sorting]=\\\"true\\\" [paging]=\\\"true\\\" [filtering]=\\\"true\\\">\\r\\n    </dxo-remote-operations>\\r\\n    <dxo-paging [pageSize]=\\\"15\\\"></dxo-paging>\\r\\n    <dxo-pager [showPageSizeSelector]=\\\"true\\\" [allowedPageSizes]=\\\"[15, 50, 100]\\\" [showNavigationButtons]=\\\"true\\\"\\r\\n      [showInfo]=\\\"true\\\" infoText=\\\"{{ 'DXO_PAGER.page' | translate }}\\\">\\r\\n    </dxo-pager>\\r\\n    <div *dxTemplate=\\\"let data of 'cellTemplate'\\\">\\r\\n      <a href=\\\"javascript:void(0)\\\" >{{ 'GRID.TEMPLATE.view' | translate }}</a>\\r\\n    </div>\\r\\n  </dx-data-grid>\\r\\n\\r\\n  <dx-popup class=\\\"popup\\\" [width]=\\\"800\\\" [height]=\\\"180\\\" [showTitle]=\\\"true\\\"\\r\\n    title=\\\"{{ 'CONTROLL.LABEL.e_contract_ihoadon' | translate }}\\\" [dragEnabled]=\\\"false\\\" [closeOnOutsideClick]=\\\"false\\\"\\r\\n    [(visible)]=\\\"popupContract\\\">\\r\\n    <div *dxTemplate=\\\"let data of 'content'\\\">\\r\\n      <p>{{ 'CONTROLL.LABEL.click_icon_view_contract' | translate }} <a href=\\\"javascript:void(0)\\\"\\r\\n          (click)=\\\"viewContract($event)\\\"><img src=\\\"assets\\\\img\\\\icons\\\\HopDong.png\\\"></a></p>\\r\\n      <div class=\\\"text-center\\\" style=\\\"margin-top: 30px\\\">\\r\\n        <dx-button (click)=\\\"onKy($event)\\\" text=\\\"{{ 'CONTROLL.BUTTON.electronic_sign' | translate }}\\\" type=\\\"default\\\">\\r\\n        </dx-button>\\r\\n        <dx-button (click)=\\\"cannel($event)\\\" text=\\\"{{ 'CONTROLL.BUTTON.ignore_sign_later' | translate }}\\\" type=\\\"default\\\">\\r\\n        </dx-button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </dx-popup>\\r\\n</div>\"","module.exports = \"#refresh{background:none;border:none}\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { InfoServiceService } from '@modules/info-service/shared';\r\nimport { Helper } from '@core/helper/Helper';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { Library, AuthService, SocketService } from '@core/index';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { RenewalComponent } from '../renewal/renewal.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.scss']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n\r\n  dataSource: any;\r\n  bsModalRef: BsModalRef;\r\n  cities: any;\r\n  taxDepartments: any;\r\n  accountId: any;\r\n  infoUnit: any;\r\n  packages: any;\r\n  popupContract = false;\r\n  content_contract: any;\r\n  van_account_id: any;\r\n  ioSignature: Subscription;\r\n  _translate: any;\r\n\r\n  constructor(\r\n    private infoServiceService: InfoServiceService,\r\n    private modalService: BsModalService,\r\n    private authService: AuthService,\r\n    private socketService: SocketService,\r\n    public translate: TranslateService,\r\n  ) {\r\n    this._translate = this.authService.getTranslate();\r\n    translate.use(this.authService.getLanguage());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadList();\r\n    this.getDataSelect();\r\n    this.getInfo();\r\n    this.layDanhMucGoiDichVu();\r\n    this.connectWebsocket();\r\n\r\n    this.van_account_id = this.authService.getCurrentUser().account.van_account_id;\r\n  }\r\n\r\n  loadList() {\r\n    this.dataSource = {};\r\n    this.dataSource.store = this.infoServiceService.getAll();\r\n  }\r\n\r\n  connectWebsocket() {\r\n    this.ioSignature = this.socketService.lapHoaDon().subscribe(message => {\r\n      let data: any = message;\r\n      if (data.SvcName == 'efy_Sign') {\r\n        // Helper.dowloadFile('a.pdf', 'pdf', data.Data.Content);\r\n\r\n        let f_data = {\r\n          'customer': {\r\n            'id': this.van_account_id\r\n          },\r\n          'service': {\r\n            'file_content': data.Data.Content\r\n          }\r\n        };\r\n        Library.showloading();\r\n        this.infoServiceService.kyHopDong(f_data).subscribe((res: any) => {\r\n          if (res.status == 'success') {\r\n            Library.notify('Ký hợp đồng thành công', 'success');\r\n            this.popupContract = false;\r\n            let currentUser = this.authService.getCurrentUser();\r\n            currentUser.unsigned = 0;\r\n            localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n            this.loadList();\r\n          } else {\r\n            Library.notify(res.message, 'error');\r\n          }\r\n          Library.hideloading();\r\n        });\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  giaHanDichVu() {\r\n    const initialState = {\r\n      cities: this.cities,\r\n      taxDepartments: this.taxDepartments,\r\n      infoUnit: this.infoUnit,\r\n      packagesAll: this.packages\r\n    };\r\n    console.log(initialState);\r\n    this.bsModalRef = this.modalService.show(RenewalComponent, {\r\n      class: 'modal-lg full-width', initialState, backdrop: 'static',\r\n      keyboard: false\r\n    });\r\n    this.modalService.onHide.subscribe(() => {\r\n      if (this.bsModalRef.content.successSaveItem) {\r\n        // this.dataGrid.instance.refresh();\r\n        this.dataSource = {};\r\n        this.loadList();\r\n      }\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    Library.showloading();\r\n    this.infoServiceService.refresh().subscribe((res: any) => {\r\n      if (res.status == 'success') {\r\n        Library.notify('Làm mới thông tin dịch vụ thành công', 'success');\r\n        this.dataSource = {};\r\n        this.loadList();\r\n      } else {\r\n        Library.notify(res.error, 'error');\r\n      }\r\n\r\n      Library.hideloading();\r\n    });\r\n  }\r\n\r\n  onCellClick(data) {\r\n    // Library.showloading();\r\n    // this.infoServiceService.getContract(data.contract_id).subscribe((res) => {\r\n    //   if (res.status == \"success\") { \r\n    //     this.content_contract = res.data.contract.content_contract;\r\n    //     if (this.content_contract != '') {\r\n    //       if (data.contract_status == '2') {\r\n    //         this.viewContract();\r\n    //       } else {\r\n    //         this.popupContract = true;\r\n    //       }\r\n    //     }\r\n    //   }\r\n    //   else {\r\n    //     if (data.content_contract != '')\r\n    //       this.content_contract = data.content_contract;\r\n    //     else\r\n    //       Library.notify(res.message, 'error');\r\n    //   }\r\n    //   Library.hideloading();\r\n    // });\r\n    this.content_contract = data.content_contract;\r\n    if (data.content_contract != '') {\r\n      if (data.contract_status == '2') {\r\n        this.viewContract();\r\n      } else {\r\n        this.popupContract = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  viewContract() {\r\n    let win = window.open('hello', '', 'width=100%, height=auto');\r\n    if (this.content_contract) {\r\n      let pdf_file = this.content_contract;\r\n      win.document.write(`\r\n        <a id=\"idA\" title=\"Download File\" style=\"font-family: \\'Verdana\\';color: #333;font-weight: 600;float:right; margin-bottom: 5px;\r\n          margin-right: 20px;\" download=\"hoadon.pdf\" href=\"data:application/pdf;base64,${pdf_file}\">Tải File</a>\r\n        <iframe width=\"100%\" height=\"97%\" src=\"data:application/pdf;base64,${pdf_file}#download=1\"></iframe>\r\n        \r\n      `);\r\n      win.resizeTo(screen.availWidth, screen.availHeight);\r\n      win.focus();\r\n    }\r\n  }\r\n\r\n  onKy = (e) => {\r\n    this.socketService.kiFile(() => this.connectWebsocket(), this.content_contract, 'bien_ban.pdf', 'pdf', true, null, 'ALIGN_LEFT', 'PAGE_LAST');\r\n  };\r\n\r\n  cannel() {\r\n    this.popupContract = false;\r\n  }\r\n\r\n  getDataSelect() {\r\n    this.infoServiceService.getDataSelect().subscribe((res: any) => {\r\n      this.cities = res.data.DM_TINH_THANH;\r\n      this.taxDepartments = res.data.DM_CO_QUAN_THUE;\r\n    });\r\n  }\r\n\r\n  getInfo() {\r\n    this.accountId = this.authService.getCurrentUser().account.id;\r\n    if (this.accountId) {\r\n      this.infoServiceService.getInfo(this.accountId).subscribe((res) => {\r\n        this.infoUnit = res.data.account;\r\n      });\r\n    }\r\n  }\r\n\r\n  layDanhMucGoiDichVu() {\r\n    this.infoServiceService.layDanhMucGoiDichVu().subscribe((res: any) => {\r\n      this.packages = res.data;\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"service-renewal\\\"> \\r\\n  <form (ngSubmit)=\\\"onSubmit($event)\\\" class=\\\"form-info-register\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n      <h4 class=\\\"modal-title pull-left\\\">ĐĂNG KÝ GIA HẠN DỊCH VỤ iHOADON</h4>\\r\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n      <dx-form [formData]=\\\"service\\\" validationGroup=\\\"formData\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"1\\\">\\r\\n          <dxi-item [label]=\\\"{text: 'Hình thức đăng ký'}\\\" dataField=\\\"register_type\\\" editorType=\\\"dxRadioGroup\\\" \\r\\n              [editorOptions]=\\\"{dataSource:registerTypes , layout: 'horizontal', \\r\\n                onValueChanged: onRegisterTypeChanged, displayExpr: 'name', valueExpr: 'code'}\\\" cssClass='register-type'>\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Hình thức đăng ký không được để trống\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n              <dxi-item [label]=\\\"{visible: false}\\\" dataField=\\\"username\\\" cssClass='code-register-type'\\r\\n              [editorOptions]=\\\"{placeholder: placeholderRegtype ,visible: isVisibleRegtype}\\\">\\r\\n              </dxi-item>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n      </dx-form>\\r\\n      <h3 class=\\\"form-title ttdv\\\">A.Thông tin đơn vị</h3>\\r\\n      <dx-form [formData]=\\\"customer\\\" validationGroup=\\\"formData\\\" [showColonAfterLabel]=\\\"false\\\">\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item [label]=\\\"{text: 'Tỉnh/thành phố'}\\\" dataField=\\\"tax_province_code\\\" editorType=\\\"dxSelectBox\\\" \\r\\n            [editorOptions]=\\\"{items: cities,  displayExpr: 'name', valueExpr: 'code', searchEnabled: 'true', disabled: 'true'}\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Tỉnh/thành phố không được để trống\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item [label]=\\\"{text: 'Cơ quan thuế quản lý'}\\\" dataField=\\\"tax_department\\\" editorType=\\\"dxSelectBox\\\" \\r\\n            [editorOptions]=\\\"{items: taxDepartments,  displayExpr: 'name', valueExpr: 'code', searchEnabled: 'true',disabled: 'true'}\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Cơ quan thuế quản lý không được để trống\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item [label]=\\\"{text: 'Mã số thuế'}\\\" dataField=\\\"tax_code\\\" [editorOptions]=\\\"{disabled: 'true'}\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Mã số thuế không được để trống\\\"></dxi-validation-rule>\\r\\n            <dxi-validation-rule \\r\\n              type=\\\"pattern\\\" \\r\\n              [pattern]=\\\"taxCodePattern\\\"  \\r\\n              message=\\\"Mã số thuế không đúng định dạng\\\">\\r\\n            </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item [label]=\\\"{text: 'Tên đơn vị'}\\\" dataField=\\\"name\\\" [editorOptions]=\\\"{disabled: 'true'}\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Tên đơn vị không được để trống\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"1\\\">\\r\\n          <dxi-item [label]=\\\"{text: 'Địa chỉ ĐKKD'}\\\" dataField=\\\"address_business\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Địa chỉ ĐKKD không được để trống\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item [label]=\\\"{text: 'Địa chỉ giao dịch (nếu khác)'}\\\" dataField=\\\"address_transaction\\\" \\r\\n            [editorOptions]=\\\"{placeholder: 'Nếu trùng địa chỉ ĐKKD thì nhập địa chỉ ĐKKD'}\\\">\\r\\n            <!-- <dxi-validation-rule type=\\\"required\\\" message=\\\"Địa chỉ giao dịch không được để trống\\\"></dxi-validation-rule> -->\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n        <dxi-item itemType=\\\"group\\\" [colCount]=\\\"2\\\">\\r\\n          <dxi-item [label]=\\\"{text: 'Người liên hệ'}\\\" dataField=\\\"contact_person_name\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Người liên hệ không được để trống\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item [label]=\\\"{text: 'Điện thoại di động'}\\\" dataField=\\\"contact_mobile\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Điện thoại di động không được để trống\\\"></dxi-validation-rule>\\r\\n            <dxi-validation-rule \\r\\n            type=\\\"pattern\\\" \\r\\n            [pattern]=\\\"phonePattern\\\"  \\r\\n            message=\\\"Số điện thoại không đúng\\\">\\r\\n          </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item [label]=\\\"{text: 'Email liên hệ'}\\\" dataField=\\\"email\\\">\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Email liên hệ không được để trống\\\"></dxi-validation-rule>\\r\\n            <dxi-validation-rule \\r\\n              type=\\\"pattern\\\" \\r\\n              [pattern]=\\\"emailPattern\\\"  \\r\\n              message=\\\"Điạ chỉ email không đúng\\\">\\r\\n            </dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n          <dxi-item editorType=\\\"dxTextBox\\\" [label]=\\\"{text: 'Nhắc lại email'}\\\">\\r\\n            <dxi-validation-rule  \\r\\n              type=\\\"compare\\\" \\r\\n              [comparisonTarget]=\\\"emailComparison\\\" \\r\\n              message=\\\"Email xác nhận không đúng\\\">\\r\\n            </dxi-validation-rule>\\r\\n            <dxi-validation-rule type=\\\"required\\\" message=\\\"Nhập lại email không được để trống\\\"></dxi-validation-rule>\\r\\n          </dxi-item>\\r\\n        </dxi-item>\\r\\n        <dxo-label text=\\\"B. Lựa chọn gói dịch vụ iHOADON\\\" [showColon]=\\\"false\\\"></dxo-label>\\r\\n      </dx-form>\\r\\n      <h3 class=\\\"form-title\\\">B. Lựa chọn gói dịch vụ iHOADON</h3> <i>(đã bao gồm thuế)</i>\\r\\n      <p class=\\\"tkbg\\\"><span>Tham khảo bản giá</span><span><a href=\\\"https://ihoadon.vn/hddt/bang-gia-dich-vu-phan-mem-hoa-don-dien-tu-ihoadon.html\\\" target=\\\"_blank\\\">Tại đây</a></span></p>\\r\\n      \\r\\n      \\r\\n\\r\\n      <table class=\\\"table table-bordered\\\" id=\\\"service\\\">\\r\\n        <thead>\\r\\n          <tr>\\r\\n            <th style=\\\"width: 20%\\\"><strong>Gói dịch vụ</strong></th>\\r\\n            <th style=\\\"width: 15%\\\"><strong>Số lượng</strong></th>\\r\\n            <th style=\\\"width: 20%\\\"><strong>Đơn giá (đ)</strong></th>\\r\\n            <th style=\\\"width: 25%\\\"><strong>Khuyến mại</strong></th>\\r\\n            <th style=\\\"width: 20%\\\"><strong>Thành tiền (đ)</strong></th>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngFor=\\\"let item of packagesAll.package;let i = index\\\">\\r\\n            <td>{{ item.code }} ({{ item.maximum_order_amount }} hóa đơn)</td>\\r\\n            <td><input type=\\\"text\\\" pattern=\\\"[1-9][0-9]*\\\"\\r\\n              title=\\\"Số lượng gói không đúng định dạng\\\" class=\\\"form-control\\\" name=\\\"{{ item.code }}\\\" placeholder=\\\"Nhập số lượng\\\" (keyup)=\\\"changeAmountPackage($event, item.money, item.maximum_order_amount)\\\"></td>\\r\\n            <td style=\\\"text-align: right\\\">{{ item.money }}</td>\\r\\n            <td></td>\\r\\n            <td style=\\\"text-align: right\\\">{{ (packageInput[item.code]) ? packageInput[item.code]['total_money'] : '' }}</td>\\r\\n            <!-- <td style=\\\"text-align: right\\\">{{ (item.money * packageInput[item.code]) ? item.money * packageInput[item.code] : '' }}</td> -->\\r\\n          </tr>\\r\\n          <!-- <tr>\\r\\n            <td>Thuê bao ({{ packagesAll.subscriber[0].unit_name }})</td>\\r\\n            <td>\\r\\n              <select class=\\\"form-control\\\" required title=\\\"Số lượng không được để trống\\\" [(ngModel)]=\\\"subscriberAmount\\\" name=\\\"subscriber_amount\\\" (change)=\\\"triggerSubscriberAmount()\\\">\\r\\n                <option value=\\\"\\\" disabled>Chọn số lượng</option>\\r\\n                <option *ngFor=\\\"let item1 of packagesAll.subscriber\\\" value=\\\"{{ item1.amount }}\\\" >{{ item1.amount }} {{ item1.unit_name }}</option>\\r\\n              </select>\\r\\n            </td>\\r\\n            <td style=\\\"text-align: right\\\">{{ (subscriberSelected) ? subscriberSelected.unit_money : '' }}</td>\\r\\n            <td style=\\\"white-space: pre-line\\\">{{ (subscriberSelected) ? subscriberSelected.note : '' }}</td>\\r\\n            <td style=\\\"text-align: right\\\">{{ (subscriberSelected) ? subscriberSelected.money : '' }}</td>\\r\\n          </tr> -->\\r\\n          <tr>\\r\\n            <td colspan=\\\"5\\\"><strong>{{ total }}</strong></td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n      </table>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n      <!-- <dx-button icon=\\\"assets\\\\img\\\\icons\\\\Ghi.png\\\" text=\\\"Ghi\\\" type=\\\"default\\\" validationGroup=\\\"listData\\\" [useSubmitBehavior]=\\\"true\\\">\\r\\n      </dx-button> -->\\r\\n      <dx-button icon=\\\"assets\\\\img\\\\icons\\\\GhiVaThemMoi.png\\\" text=\\\"Đăng ký\\\" type=\\\"default\\\" validationGroup=\\\"formData\\\" [useSubmitBehavior]=\\\"true\\\">\\r\\n      </dx-button>\\r\\n      <dx-button text=\\\"Quay lại\\\" type=\\\"default\\\" icon=\\\"assets\\\\img\\\\icons\\\\QuayLai.png\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      </dx-button>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\"","module.exports = \".service-renewal{padding:15px 20px}.form-title{margin:15px 0px;font-weight:bold;display:inline-block}h2{text-align:center;color:#0e77bb;font-size:18px;font-weight:bold;margin:15px 0px}.footer-form{float:right;padding-top:20px;padding-bottom:50px}::ng-deep .form-info-register .register-type .dx-radiobutton-icon:before{width:18px;height:18px}::ng-deep .form-info-register .register-type .dx-radiobutton-checked .dx-radiobutton-icon-dot{margin-top:-15px;margin-left:5px}::ng-deep .form-info-register .register-type .dx-field-item-label{margin-right:70px}::ng-deep .form-info-register .register-type .dx-field-item-label .dx-field-item-label-content{font-weight:600 !important}::ng-deep .form-info-register .fax-info{padding-right:0 !important}::ng-deep .form-info-register .fax-info .dx-field-item-label-content{width:145px !important}::ng-deep .form-info-register .website-info .dx-field-item-label-content{width:50px !important}::ng-deep .form-info-register .expiry-date{padding-right:0 !important}::ng-deep .form-info-register .expiry-date .dx-field-item-label-content{width:186px !important}::ng-deep .form-info-register .package-code{padding-left:0 !important}::ng-deep .form-info-register .package-code .dx-field-item-label-content{width:100px !important}::ng-deep .form-info-register .total-time .dx-field-item-label-content{width:186px !important}::ng-deep .form-info-register .count{padding-right:0 !important}::ng-deep .form-info-register .count .dx-field-item-label-content{width:151px !important}::ng-deep .form-info-register .into-money{padding-left:0 !important}::ng-deep .form-info-register .into-money .dx-field-item-label-content{width:90px !important}::ng-deep .form-info-register .mounth .dx-field-item-label-content{width:151px !important}.form-info-register .tkbg{margin-left:54px;padding-bottom:15px}.form-info-register .tkbg span:first-child{text-align:right;padding-right:20px}.form-info-register .tkbg span:last-child{text-align:left;font-weight:600}.form-info-register .ttdv{margin-top:0}::ng-deep .form-info-register .code-register-type{margin-left:195px}#service thead tr{text-align:center}#service th{background:#C0C0FF;vertical-align:middle}#service td{padding:4px 6px;vertical-align:middle}#service .form-control{height:28px;font-size:14px}#service select.form-control{padding:2px 8px !important}\\n\"","import { Component, OnInit, ViewChild, ViewChildren } from '@angular/core';\r\nimport { DxFormComponent } from 'devextreme-angular';\r\n\r\nimport { pattern } from '@config/pattern';\r\nimport { Library, AuthService } from '@core/index';\r\nimport { Customer, Service } from '@modules/info-service/shared';\r\nimport { InfoServiceService } from '@modules/info-service/shared';\r\n\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\n\r\n@Component({\r\n  selector: 'app-renewal',\r\n  templateUrl: './renewal.component.html',\r\n  styleUrls: ['./renewal.component.scss']\r\n})\r\nexport class RenewalComponent implements OnInit {\r\n  @ViewChildren(DxFormComponent) form: DxFormComponent;\r\n\r\n  isVisibleRegtype = false;\r\n  placeholderRegtype = \"\";\r\n  cities: any;\r\n  taxDepartments: any;\r\n  package: any;\r\n  packages: any;\r\n  packagesAll: any;\r\n  isDisPackeges = true;\r\n  isDisYears = false;\r\n  isDisTaxDepartments = true;\r\n  number_month_regulation: any;\r\n  numberYear: any;\r\n  packageInput: any = {};\r\n  subscriberAmount: any = '';\r\n  subscriberSelected: any = {};\r\n  total: any;\r\n  registerTypes = [{\r\n    name: 'Nhà cung cấp EFY',\r\n    code: 'TRUC_TIEP'\r\n  },{\r\n    name: 'Qua đại lý',\r\n    code: 'DAI_LY'\r\n  },{\r\n    name: 'Cộng tác viên',\r\n    code: 'CTV'\r\n  }];\r\n  numberYears = [{\r\n    code: '1',\r\n    name: '1 Năm'\r\n  },{\r\n    code: '2',\r\n    name: '2 năm'\r\n  },{\r\n    code: '3',\r\n    name: '3 năm'\r\n  }]\r\n  groupUnits = [{\r\n    code: 'DN',\r\n    name: 'Doanh nghiệp'\r\n  },{\r\n    code: 'HS-SV', \r\n    name: 'Trường học '\r\n  },{\r\n    code: 'YTE',\r\n    name: 'Y tế '\r\n  },{\r\n    code: 'HangKhong',\r\n    name: 'Hàng không, hóa đơn bán vé máy bay '\r\n  }]\r\n\r\n  declarationForms = [{\r\n    code: 'TRUC_TIEP',\r\n    name: 'Trực tiếp'\r\n  },{\r\n    code: 'KHAU_TRU',\r\n    name: 'Khấu trừ'\r\n  },{\r\n    code: 'CHEXUAT_PHITHUEQUAN',\r\n    name: 'Đơn vị trong khu chế xuất, khu phi thuế quan'\r\n  }]\r\n\r\n  email = \"\";\r\n  emailComparison = () => {\r\n    return this.form['_results'][1].instance.option(\"formData\").email;\r\n  };\r\n  emailPattern = pattern.email;\r\n  phonePattern = pattern.phone;\r\n  taxCodePattern = pattern.tax_code;\r\n  taxDepartmentByCity: any;\r\n  infoUnit: any;\r\n  customer = new Customer();\r\n  service = new Service();\r\n  accountId: any;\r\n  constructor(\r\n    public bsModalRef: BsModalRef,\r\n    private modalService: BsModalService,\r\n    private InfoServiceService: InfoServiceService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.customer.tax_province_code = this.infoUnit.tax_province_code;\r\n    this.customer.tax_department = this.infoUnit.tax_department;\r\n    this.customer.address_business = this.infoUnit.business_address;\r\n    this.customer.address_transaction = this.infoUnit.transaction_address;\r\n    this.customer.contact_person_name = this.infoUnit.contact_person_name;\r\n    this.customer.contact_mobile = this.infoUnit.contact_mobile;\r\n    this.customer.email = this.infoUnit.email;\r\n    this.customer.tax_code = this.infoUnit.tax_code;\r\n    this.customer.name = this.infoUnit.name;\r\n    for(let i = 0; i < this.packagesAll.package.length; i++) {\r\n      this.packagesAll.package[i].money = this.formatMoney(this.packagesAll.package[i].money);\r\n    }\r\n  }\r\n\r\n  onRegisterTypeChanged = (e) => {\r\n    if(e.value){\r\n      if (e.value == 'DAI_LY') {\r\n        this.isVisibleRegtype = true;\r\n        this.placeholderRegtype = 'Nhập mã xác nhận của đại lý';\r\n      } else if(e.value == 'TRUC_TIEP'){\r\n        this.isVisibleRegtype = false;\r\n      }else if(e.value == 'CTV'){\r\n        this.isVisibleRegtype = true;\r\n        this.placeholderRegtype = 'Nhập mã xác nhận của cộng tác viên';\r\n      }\r\n    }\r\n  }\r\n\r\n  onYearChanged = (e) => {\r\n    this.service.maximum_order_amount = \"\";\r\n    this.service.money = 0;\r\n    this.service.number_month_regulation = \"\";\r\n    this.isDisPackeges = false;\r\n    this.getPackages(e.value);\r\n  }\r\n\r\n  getPackages(year){\r\n    let packages = [];\r\n    this.packagesAll.forEach(element => {\r\n      if(element.number_year == year){\r\n        packages.push(element);\r\n      }\r\n    });\r\n    this.packages = packages;\r\n  }\r\n  getPackageByCode(code){\r\n    this.packagesAll.forEach(element => {\r\n      if(element.code == code){\r\n        this.package = element;\r\n      }\r\n    });\r\n  }\r\n\r\n  onPackageChanged = (e) => {\r\n    if(this.packages){\r\n      this.packages.forEach(element => {\r\n        if(element.code == e.value){\r\n          this.service.maximum_order_amount = element.maximum_order_amount;\r\n          this.service.money = element.money;\r\n          this.service.number_month_regulation = element.number_month_regulation;\r\n        }\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    this.service['package'] = [];\r\n    this.service['subscriber'] = {};\r\n    for(let x in this.packageInput) {\r\n      if(this.packageInput[x].amount > 0) {\r\n        this.service['package'].push({\r\n          'code': x,\r\n          'amount': this.packageInput[x].amount\r\n        });\r\n      }\r\n    }\r\n    this.service['subscriber'].amount = this.subscriberAmount;\r\n\r\n    let data = {\r\n      \"customer\": this.customer,\r\n      \"service\": this.service,\r\n    }\r\n    Library.showloading();\r\n    this.InfoServiceService.giaHan(data).subscribe((res: any) => {\r\n      if(res.status == \"success\"){\r\n        Library.notify(\"Đănng ký gia hạn thành công\", \"success\");\r\n        this.bsModalRef.hide();\r\n      }else{\r\n        Library.notify(res.message, \"error\")\r\n      }\r\n    Library.hideloading();\r\n    })\r\n  }\r\n  formatMoney (value) {\r\n    if(!value) {\r\n      value = \"\";\r\n    }\r\n    let string = value.toString().replace(/[^-0-9]/g, \"\").replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    return string;\r\n  }\r\n  toNumber(value) {\r\n    if(typeof value == 'string') {\r\n      value = value.replace(/\\./g, '');\r\n    }\r\n    return (parseInt(value)) ? parseInt(value) : 0;\r\n  }\r\n  triggerSubscriberAmount() {\r\n    this.subscriberSelected = {};\r\n    for(let i = 0; i < this.packagesAll.subscriber.length; i++) {\r\n      if(this.packagesAll.subscriber[i].amount == this.subscriberAmount) {\r\n        this.subscriberSelected = this.packagesAll.subscriber[i];\r\n        console.log(this.subscriberSelected);\r\n        this.subscriberSelected.note.replace(/\\n/g, '<br>');\r\n      }\r\n    }\r\n    this.getTotal();\r\n  }\r\n  changeAmountPackage(event, money, maximumOrderAmount) {\r\n    let name = event.target.name;\r\n    this.packageInput[name] = {};\r\n    let value = this.toNumber(event.target.value);\r\n    money = this.toNumber(money);\r\n    maximumOrderAmount = this.toNumber(maximumOrderAmount);\r\n    this.packageInput[name] = {\r\n      'amount': value,\r\n      'money': money,//\r\n      'total_money': money * value,//\r\n      'total_order_amount': value * maximumOrderAmount\r\n    };\r\n    this.getTotal();\r\n  }\r\n  getTotal() {\r\n    let totalMoneyPackage: number = 0;\r\n    let totalOrderAmount: number = 0;\r\n    for(let x in this.packageInput) {\r\n      totalMoneyPackage += this.toNumber(this.packageInput[x]['total_money']);\r\n      totalOrderAmount += this.toNumber(this.packageInput[x]['total_order_amount']);\r\n\r\n      this.packageInput[x]['total_money'] = this.formatMoney(this.packageInput[x]['total_money']);\r\n      this.packageInput[x]['money'] = this.formatMoney(this.packageInput[x]['money']);\r\n    }\r\n    console.log(this.subscriberSelected.money);\r\n    console.log(this.toNumber(this.subscriberSelected.money));\r\n    let totalMoney: number = this.formatMoney(this.toNumber(this.subscriberSelected.money) + totalMoneyPackage);\r\n    let totalYear: number = this.toNumber(this.subscriberSelected.amount) + this.toNumber(this.subscriberSelected.promotion_year);\r\n    totalMoney = totalMoney;\r\n    totalOrderAmount = totalOrderAmount;\r\n    this.total = `Tổng thanh toán: ${totalMoney} đ, số lượng ${totalOrderAmount} hóa đơn.`;\r\n\r\n    \r\n    this.subscriberSelected.unit_money = this.formatMoney(this.subscriberSelected.unit_money);\r\n    this.subscriberSelected.money = this.formatMoney(this.subscriberSelected.money);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IndexComponent } from './components/index/index.component';\r\n\r\nimport { DxTreeListModule } from 'devextreme-angular';\r\n//library\r\nimport { devextremeModule } from '@core/index';\r\n\r\n//general\r\nimport { routing } from './info-service.routing';\r\nimport { SharedModule } from '@shared/index';\r\nimport { InfoServiceService } from './shared';\r\nimport { RenewalComponent } from './components/renewal/renewal.component';\r\nimport { vTranslateModule } from '@core/module/v-translate.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    routing,\r\n    devextremeModule,\r\n    DxTreeListModule,\r\n    SharedModule,\r\n    vTranslateModule\r\n  ],\r\n  declarations: [IndexComponent, RenewalComponent],\r\n  entryComponents: [\r\n    RenewalComponent\r\n  ],\r\n  providers: [InfoServiceService]\r\n})\r\nexport class InfoServiceModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IndexComponent } from './components/index/index.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: IndexComponent},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class routing {}\r\n"],"sourceRoot":""}